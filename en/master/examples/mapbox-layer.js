(window.webpackJsonp=window.webpackJsonp||[]).push([[77],{307:function(t,e,o){"use strict";o.r(e);var n=o(2),a=o(3),s=o(90),i=o(12),r=o(5),c=o(45),p=o(14),h=o(19),m=o(21),d=o(13),l=o(36),b=function(t){function e(e){var o=Object(i.a)({},e);t.call(this,o),this.baseOptions=o,this.loaded=!1,this.initMap()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.initMap=function(){var t=this.map_,e=t.getView(),o=Object(r.i)(e.getProjection(),"EPSG:4326")(e.getCenter());this.centerLastRender=e.getCenter(),this.zoomLastRender=e.getZoom(),this.centerLastRender=e.getCenter(),this.zoomLastRender=e.getZoom();var n=Object(i.a)(this.baseOptions,{attributionControl:!1,boxZoom:!1,center:o,container:t.getTargetElement(),doubleClickZoom:!1,dragPan:!1,dragRotate:!1,interactive:!1,keyboard:!1,pitchWithRotate:!1,scrollZoom:!1,touchZoomRotate:!1,zoom:e.getZoom()-1});this.mbmap=new mapboxgl.Map(n),this.mbmap.on("load",function(){this.mbmap.getCanvas().remove(),this.loaded=!0,this.map_.render(),["mapboxgl-control-container"].forEach(function(t){return document.getElementsByClassName(t)[0].remove()})}.bind(this)),this.mbmap.on("render",function(){this.centerNextRender&&(this.centerLastRender=this.centerNextRender),this.zoomNextRender&&(this.zoomLastRender=this.zoomNextRender),this.updateRenderedPosition([0,0],1)}.bind(this))},e.prototype.render=function(t){var e=this.map_,o=e.getView(),n=Object(r.i)(o.getProjection(),"EPSG:4326");this.centerNextRender=o.getCenter();var a=e.getPixelFromCoordinate(this.centerLastRender),s=e.getPixelFromCoordinate(this.centerNextRender),i=[a[0]-s[0],a[1]-s[1]];this.zoomNextRender=o.getZoom();var c=Math.pow(2,this.zoomNextRender-this.zoomLastRender);this.updateRenderedPosition(i,c);var p=t.viewState.rotation;p&&this.mbmap.rotateTo(180*-p/Math.PI,{animate:!1});var h=n(this.centerNextRender),m=o.getZoom()-1;return this.mbmap.jumpTo({center:h,zoom:m}),this.mbmap.getCanvas()},e.prototype.updateRenderedPosition=function(t,e){var o=this.mbmap.getCanvas().style;o.left=Math.round(t[0])+"px",o.top=Math.round(t[1])+"px",o.transform="scale("+e+")"},e.prototype.setVisible=function(e){t.prototype.setVisible.call(this,e),this.mbmap.getCanvas().style.display=e?"block":"none"},e.prototype.setOpacity=function(e){t.prototype.setOpacity.call(this,e),this.mbmap.getCanvas().style.opacity=e},e.prototype.setZIndex=function(e){t.prototype.setZIndex.call(this,e),this.mbmap.getCanvas().style.zIndex=e},e.prototype.getSourceState=function(){return this.loaded?c.a.READY:c.a.UNDEFINED},e.prototype.setMap=function(t){this.map_=t},e}(s.a);mapboxgl.Map.prototype._setupContainer=function(){var t=this._container;t.classList.add("mapboxgl-map");var e=this._canvasContainer=t.firstChild;this._canvas=document.createElement("canvas"),e.insertBefore(this._canvas,e.firstChild),this._canvas.style.position="absolute",this._canvas.addEventListener("webglcontextlost",this._contextLost,!1),this._canvas.addEventListener("webglcontextrestored",this._contextRestored,!1),this._canvas.setAttribute("tabindex","0"),this._canvas.setAttribute("aria-label","Map"),this._canvas.className="mapboxgl-canvas";var o=this._containerDimensions();this._resizeCanvas(o[0],o[1]),this._controlContainer=e;var n=this._controlContainer=document.createElement("div");n.className="mapboxgl-control-container",t.appendChild(n);var a=this._controlPositions={};["top-left","top-right","bottom-left","bottom-right"].forEach(function(t){var e=document.createElement("div");e.className="mapboxgl-ctrl-"+t,n.appendChild(e),a[t]=e})};var g=new p.c({stroke:new h.a({color:"#319FD3",width:2})}),u=new m.a({source:new d.a({url:"data/geojson/countries.geojson",format:new l.a}),style:g}),v=new n.a({target:"map",view:new a.a({center:[-10997148,4569099],zoom:4,minZoom:1,extent:[-1/0,-20048966.1,1/0,20048966.1],smoothExtentConstraint:!1,smoothResolutionConstraint:!1})}),y=new b({map:v,container:v.getTarget(),style:"https://maps.tilehosting.com/styles/bright/style.json?key=ER67WIiPdCQvhgsUjoWK"});v.addLayer(y),v.addLayer(u)}},[[307,0]]]);
//# sourceMappingURL=mapbox-layer.js.map