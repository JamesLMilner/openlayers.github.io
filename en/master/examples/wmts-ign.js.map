{"version":3,"sources":["webpack:///./wmts-ign.js"],"names":["__webpack_require__","r","__webpack_exports__","_src_ol_Map_js__WEBPACK_IMPORTED_MODULE_0__","_src_ol_View_js__WEBPACK_IMPORTED_MODULE_1__","_src_ol_control_js__WEBPACK_IMPORTED_MODULE_2__","_src_ol_extent_js__WEBPACK_IMPORTED_MODULE_3__","_src_ol_layer_Tile_js__WEBPACK_IMPORTED_MODULE_4__","_src_ol_proj_js__WEBPACK_IMPORTED_MODULE_5__","_src_ol_source_WMTS_js__WEBPACK_IMPORTED_MODULE_6__","_src_ol_tilegrid_WMTS_js__WEBPACK_IMPORTED_MODULE_7__","map","target","controls","Object","attributionOptions","collapsible","view","zoom","center","resolutions","matrixIds","proj3857","maxResolution","getExtent","i","toString","Math","pow","const","tileGrid","origin","ign_source","url","layer","matrixSet","format","projection","style","attributions","ign","source","addLayer"],"mappings":"4FAAAA,EAAAC,EAAAC,GA4BA,IA5BA,IAAAC,EAAAH,EAAA,GAAAI,EAAAJ,EAAA,GAAAK,EAAAL,EAAA,KAAAM,EAAAN,EAAA,GAAAO,EAAAP,EAAA,GAAAQ,EAAAR,EAAA,GAAAS,EAAAT,EAAA,KAAAU,EAAAV,EAAA,KAUMW,EAAM,IAAIR,EAAA,GACdS,OAAQ,MACRC,SAAUC,OAAAT,EAAA,EAAAS,EACRC,oBACEC,aAAa,KAGjBC,KAAM,IAAIb,EAAA,GACRc,KAAM,EACNC,OAAQL,OAAAN,EAAA,EAAAM,EAAY,EAAG,SAIrBM,KACAC,KACAC,EAAWR,OAAAN,EAAA,EAAAM,CAAc,aACzBS,EAAgBT,OAAAR,EAAA,EAAAQ,CAASQ,EAASE,aAAe,IAE9CC,EAAI,EAAGA,EAAI,GAAIA,IACtBJ,EAAUI,GAAKA,EAAEC,WACjBN,EAAYK,GAAKF,EAAgBI,KAAKC,IAAI,EAAGH,GAG/CI,IAAMC,EAAW,IAAIpB,EAAA,GACnBqB,SAAU,SAAU,UACpBX,YAAaA,EACbC,UAAWA,IAMPW,EAAa,IAAIvB,EAAA,GACrBwB,IAAK,8CACLC,MAAO,+BACPC,UAAW,KACXC,OAAQ,aACRC,WAAY,YACZP,SAAUA,EACVQ,MAAO,SACPC,aAAc,oJAKVC,EAAM,IAAIjC,EAAA,GACdkC,OAAQT,IAGVrB,EAAI+B,SAASF","file":"wmts-ign.js","sourcesContent":["import Map from '../src/ol/Map.js';\nimport View from '../src/ol/View.js';\nimport {defaults as defaultControls} from '../src/ol/control.js';\nimport {getWidth} from '../src/ol/extent.js';\nimport TileLayer from '../src/ol/layer/Tile.js';\nimport {fromLonLat, get as getProjection} from '../src/ol/proj.js';\nimport WMTS from '../src/ol/source/WMTS.js';\nimport WMTSTileGrid from '../src/ol/tilegrid/WMTS.js';\n\n\nconst map = new Map({\n  target: 'map',\n  controls: defaultControls({\n    attributionOptions: {\n      collapsible: false\n    }\n  }),\n  view: new View({\n    zoom: 5,\n    center: fromLonLat([5, 45])\n  })\n});\n\nconst resolutions = [];\nconst matrixIds = [];\nconst proj3857 = getProjection('EPSG:3857');\nconst maxResolution = getWidth(proj3857.getExtent()) / 256;\n\nfor (let i = 0; i < 18; i++) {\n  matrixIds[i] = i.toString();\n  resolutions[i] = maxResolution / Math.pow(2, i);\n}\n\nconst tileGrid = new WMTSTileGrid({\n  origin: [-20037508, 20037508],\n  resolutions: resolutions,\n  matrixIds: matrixIds\n});\n\n// For more information about the IGN API key see\n// https://geoservices.ign.fr/blog/2017/06/28/geoportail_sans_compte.html\n\nconst ign_source = new WMTS({\n  url: 'https://wxs.ign.fr/pratique/geoportail/wmts',\n  layer: 'GEOGRAPHICALGRIDSYSTEMS.MAPS',\n  matrixSet: 'PM',\n  format: 'image/jpeg',\n  projection: 'EPSG:3857',\n  tileGrid: tileGrid,\n  style: 'normal',\n  attributions: '<a href=\"http://www.geoportail.fr/\" target=\"_blank\">' +\n        '<img src=\"https://api.ign.fr/geoportail/api/js/latest/' +\n        'theme/geoportal/img/logo_gp.gif\"></a>'\n});\n\nconst ign = new TileLayer({\n  source: ign_source\n});\n\nmap.addLayer(ign);\n"],"sourceRoot":""}