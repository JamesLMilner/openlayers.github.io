webpackJsonp([110],{445:function(a,b,c){"use strict";function d(a,b){const c=new XMLHttpRequest;c.open("GET",a),c.onload=function(){b(c.responseText)},c.send()}Object.defineProperty(b,"__esModule",{value:!0});var e=c(15),f=c(2),g=c(1),h=c(14),i=c(260),j=c(84),k=c(6),l=c(7),m=c(12),n=c(9);const o={"Clement Latour":"rgba(0, 0, 255, 0.7)","Damien de Baesnt":"rgba(0, 215, 255, 0.7)","Sylvain Dhonneur":"rgba(0, 165, 255, 0.7)","Tom Payne":"rgba(0, 255, 255, 0.7)","Ulrich Prinz":"rgba(0, 215, 255, 0.7)"},p={},q=new m.b,r=["data/igc/Clement-Latour.igc","data/igc/Damien-de-Baenst.igc","data/igc/Sylvain-Dhonneur.igc","data/igc/Tom-Payne.igc","data/igc/Ulrich-Prinz.igc"],s=new i.a;for(let e=0;e<r.length;++e)d(r[e],function(a){const b=s.readFeatures(a,{featureProjection:"EPSG:3857"});q.addFeatures(b)});const t={start:Infinity,stop:-Infinity,duration:0};q.on("addfeature",function(a){const b=a.feature.getGeometry();t.start=Math.min(t.start,b.getFirstCoordinate()[2]),t.stop=Math.max(t.stop,b.getLastCoordinate()[2]),t.duration=t.stop-t.start});const u=new f.a({layers:[new k.d({source:new l.b({attributions:["All maps \xA9 <a href=\"https://www.opencyclemap.org/\">OpenCycleMap</a>",l.a],url:"https://{a-c}.tile.thunderforest.com/cycle/{z}/{x}/{y}.png?apikey=0e6fc415256d4fbb9b5166a718591d71"})}),new k.e({source:q,style:function(a){const b=o[a.get("PLT")];let c=p[b];return c||(c=new n.g({stroke:new n.f({color:b,width:3})}),p[b]=c),c}})],target:"map",controls:Object(h.h)({attributionOptions:{collapsible:!1}}),view:new g.a({center:[703365.7089403362,5714629.865071137],zoom:9})});let v=null,w=null;const x=function(a){const b=q.getClosestFeatureToCoordinate(a),c=document.getElementById("info");if(null===b)v=null,w=null,c.innerHTML="&nbsp;";else{const d=b.getGeometry(),e=d.getClosestPoint(a);null===v?v=new j.c(e):v.setCoordinates(e);const f=new Date(1e3*e[2]);c.innerHTML=b.get("PLT")+" ("+f.toUTCString()+")";const g=[a,[e[0],e[1]]];null===w?w=new j.a(g):w.setCoordinates(g)}u.render()};u.on("pointermove",function(a){if(!a.dragging){const b=u.getEventCoordinate(a.originalEvent);x(b)}}),u.on("click",function(a){x(a.coordinate)});const y=new n.f({color:"rgba(255,0,0,0.9)",width:1}),z=new n.g({stroke:y,image:new n.b({radius:5,fill:null,stroke:y})});u.on("postcompose",function(a){const b=a.vectorContext;b.setStyle(z),null!==v&&b.drawGeometry(v),null!==w&&b.drawGeometry(w)});const A=new k.e({source:new m.b,map:u,style:new n.g({image:new n.b({radius:5,fill:new n.c({color:"rgba(255,0,0,0.9)"})})})});document.getElementById("time").addEventListener("input",function(){const a=parseInt(this.value,10)/100,b=t.start+t.duration*a;q.forEachFeature(function(a){const c=a.getGeometry(),d=c.getCoordinateAtM(b,!0);let f=a.get("highlight");f===void 0?(f=new e.a(new j.c(d)),a.set("highlight",f),A.getSource().addFeature(f)):f.getGeometry().setCoordinates(d)}),u.render()})}},[445]);