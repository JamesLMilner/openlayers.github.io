(function(e){function t(o){if(a[o])return a[o].exports;var r=a[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,t),r.l=!0,r.exports}var o=window.webpackJsonp;window.webpackJsonp=function(a,n,s){for(var l=0,i=[],d,p,g;l<a.length;l++)p=a[l],r[p]&&i.push(r[p][0]),r[p]=0;for(d in n)Object.prototype.hasOwnProperty.call(n,d)&&(e[d]=n[d]);for(o&&o(a,n,s);i.length;)i.shift()();if(s)for(l=0;l<s.length;l++)g=t(t.s=s[l]);return g};var a={},r={167:0};t.m=e,t.c=a,t.d=function(e,o,a){t.o(e,o)||Object.defineProperty(e,o,{configurable:!1,enumerable:!0,get:a})},t.n=function(e){var o=e&&e.__esModule?function(){return e["default"]}:function(){return e};return t.d(o,"a",o),o},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t.oe=function(e){throw console.error(e),e}})([function(e,t,o){"use strict";function a(e){return e.ol_uid||(e.ol_uid=++l)}o.d(t,"b",function(){return i}),o.d(t,"e",function(){return n}),o.d(t,"d",function(){return s}),t.g=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e},t.f=a;var r=o(39);t.a=!0;let i=!1,n,s;if("undefined"!=typeof window&&"WebGLRenderingContext"in window)try{const e=document.createElement("CANVAS"),t=Object(r.H)(e,{failIfMajorPerformanceCaveat:!0});t&&(i=!0,n=t.getParameter(t.MAX_TEXTURE_SIZE),s=t.getSupportedExtensions())}catch(t){}t.c="v4.6.4";let l=0},function(e,t,o){"use strict";function a(e){return void 0===e.extent?h.b:Object(h.a)(e.extent)}function r(e){let t,o,a;let r=e.minZoom===void 0?M:e.minZoom,i=e.maxZoom===void 0?28:e.maxZoom;const n=e.zoomFactor===void 0?2:e.zoomFactor;if(e.resolutions!==void 0){const n=e.resolutions;o=n[r],a=n[i]===void 0?n[n.length-1]:n[i],t=Object(x.b)(n)}else{const s=Object(N.e)(e.projection,"EPSG:3857"),l=s.getExtent(),d=l?_(Object(v.E)(l),Object(v.A)(l)):360*N.a[A.b.DEGREES]/s.getMetersPerUnit(),c=d/u.b/1;o=e.maxResolution,o===void 0?o=c/p(n,r):r=0,a=e.minResolution,a===void 0&&(e.maxZoom===void 0?a=c/268435456:e.maxResolution===void 0?a=c/p(n,i):a=o/p(n,i)),i=r+Math.floor(g(o/a)/g(n)),a=o/p(n,i-r),t=Object(x.a)(n,o,i-r)}return{constraint:t,maxResolution:o,minResolution:a,minZoom:r,zoomFactor:n}}function i(e){const t=!(e.enableRotation!==void 0)||e.enableRotation;if(t){const t=e.constrainRotation;return void 0===t||!0===t?Object(E.b)():!1===t?E.d:"number"==typeof t?Object(E.a)(t):E.d}return E.c}function n(e){return!(e.sourceCenter&&e.targetCenter&&!Object(I.g)(e.sourceCenter,e.targetCenter))&&!(e.sourceResolution!==e.targetResolution)&&!(e.sourceRotation!==e.targetRotation)}var s=Math.min,l=Math.sin,d=Math.cos,p=Math.pow,g=Math.log,_=Math.max,c=Math.PI,u=o(129),y=o(0),m=o(18),h=o(295),f=o(32),x=o(296),E=o(130),C=o(40),T=o(204),S=o(13),R=o(19),I=o(41),b=o(51),v=o(3),L=o(22),P=o(29),F=o(44),O=o(17),w=o(10),N=o(4),A=o(56);const M=0,G=function(e){f.a.call(this);const t=Object(w.a)({},e);this.hints_=[0,0],this.animations_=[],this.updateAnimationKey_,this.updateAnimations_=this.updateAnimations_.bind(this),this.projection_=Object(N.e)(t.projection,"EPSG:3857"),this.applyOptions_(t)};Object(y.g)(G,f.a),G.prototype.applyOptions_=function(e){const t={};t[T.a.CENTER]=e.center===void 0?null:e.center;const o=r(e);this.maxResolution_=o.maxResolution,this.minResolution_=o.minResolution,this.zoomFactor_=o.zoomFactor,this.resolutions_=e.resolutions,this.minZoom_=o.minZoom;const n=a(e),s=o.constraint,l=i(e);this.constraints_={center:n,resolution:s,rotation:l},e.resolution===void 0?e.zoom!==void 0&&(t[T.a.RESOLUTION]=this.constrainResolution(this.maxResolution_,e.zoom-this.minZoom_),this.resolutions_&&(t[T.a.RESOLUTION]=Object(O.a)(+(this.getResolution()||t[T.a.RESOLUTION]),this.minResolution_,this.maxResolution_))):t[T.a.RESOLUTION]=e.resolution,t[T.a.ROTATION]=e.rotation===void 0?0:e.rotation,this.setProperties(t),this.options_=e},G.prototype.getUpdatedOptions_=function(e){const t=Object(w.a)({},this.options_);return void 0===t.resolution?t.zoom=this.getZoom():t.resolution=this.getResolution(),t.center=this.getCenter(),t.rotation=this.getRotation(),Object(w.a)({},t,e)},G.prototype.animate=function(){let e=arguments.length,t;if(1<e&&"function"==typeof arguments[e-1]&&(t=arguments[e-1],--e),!this.isDef()){const o=arguments[e-1];return o.center&&this.setCenter(o.center),void 0!==o.zoom&&this.setZoom(o.zoom),void 0!==o.rotation&&this.setRotation(o.rotation),void(t&&setTimeout(function(){t(!0)},0))}let o=Date.now(),a=this.getCenter().slice(),r=this.getResolution(),i=this.getRotation();const s=[];for(let l=0;l<e;++l){const e=arguments[l],d={start:o,complete:!1,anchor:e.anchor,duration:void 0===e.duration?1e3:e.duration,easing:e.easing||b.c};if(e.center&&(d.sourceCenter=a,d.targetCenter=e.center,a=d.targetCenter),void 0===e.zoom?e.resolution&&(d.sourceResolution=r,d.targetResolution=e.resolution,r=d.targetResolution):(d.sourceResolution=r,d.targetResolution=this.constrainResolution(this.maxResolution_,e.zoom-this.minZoom_,0),r=d.targetResolution),void 0!==e.rotation){d.sourceRotation=i;const t=Object(O.d)(e.rotation-i+c,2*c)-c;d.targetRotation=i+t,i=d.targetRotation}d.callback=t,n(d)?d.complete=!0:o+=d.duration,s.push(d)}this.animations_.push(s),this.setHint(C.a.ANIMATING,1),this.updateAnimations_()},G.prototype.getAnimating=function(){return 0<this.hints_[C.a.ANIMATING]},G.prototype.getInteracting=function(){return 0<this.hints_[C.a.INTERACTING]},G.prototype.cancelAnimations=function(){this.setHint(C.a.ANIMATING,-this.hints_[C.a.ANIMATING]);for(let e=0,t=this.animations_.length;e<t;++e){const t=this.animations_[e];t[0].callback&&t[0].callback(!1)}this.animations_.length=0},G.prototype.updateAnimations_=function(){if(void 0!==this.updateAnimationKey_&&(cancelAnimationFrame(this.updateAnimationKey_),this.updateAnimationKey_=void 0),!this.getAnimating())return;const e=Date.now();let t=!1;for(let o=this.animations_.length-1;0<=o;--o){const a=this.animations_[o];let r=!0;for(let o=0,i=a.length;o<i;++o){const i=a[o];if(i.complete)continue;const n=e-i.start;let s=0<i.duration?n/i.duration:1;1<=s?(i.complete=!0,s=1):r=!1;const l=i.easing(s);if(i.sourceCenter){const e=i.sourceCenter[0],t=i.sourceCenter[1],o=i.targetCenter[0],a=i.targetCenter[1];this.set(T.a.CENTER,[e+l*(o-e),t+l*(a-t)])}if(i.sourceResolution&&i.targetResolution){const e=1===l?i.targetResolution:i.sourceResolution+l*(i.targetResolution-i.sourceResolution);i.anchor&&this.set(T.a.CENTER,this.calculateCenterZoom(e,i.anchor)),this.set(T.a.RESOLUTION,e)}if(void 0!==i.sourceRotation&&void 0!==i.targetRotation){const e=1===l?Object(O.d)(i.targetRotation+c,2*c)-c:i.sourceRotation+l*(i.targetRotation-i.sourceRotation);i.anchor&&this.set(T.a.CENTER,this.calculateCenterRotate(e,i.anchor)),this.set(T.a.ROTATION,e)}if(t=!0,!i.complete)break}if(r){this.animations_[o]=null,this.setHint(C.a.ANIMATING,-1);const e=a[0].callback;e&&setTimeout(function(){e(!0)},0)}}this.animations_=this.animations_.filter(Boolean),t&&void 0===this.updateAnimationKey_&&(this.updateAnimationKey_=requestAnimationFrame(this.updateAnimations_))},G.prototype.calculateCenterRotate=function(e,t){let o;const a=this.getCenter();return void 0!==a&&(o=[a[0]-t[0],a[1]-t[1]],Object(I.h)(o,e-this.getRotation()),Object(I.a)(o,t)),o},G.prototype.calculateCenterZoom=function(e,t){let o;const a=this.getCenter(),r=this.getResolution();if(a!==void 0&&r!==void 0){const i=t[0]-e*(t[0]-a[0])/r,n=t[1]-e*(t[1]-a[1])/r;o=[i,n]}return o},G.prototype.getSizeFromViewport_=function(){const e=[100,100],t=".ol-viewport[data-view=\""+Object(y.f)(this)+"\"]",o=document.querySelector(t);if(o){const t=getComputedStyle(o);e[0]=parseInt(t.width,10),e[1]=parseInt(t.height,10)}return e},G.prototype.constrainCenter=function(e){return this.constraints_.center(e)},G.prototype.constrainResolution=function(e,t,o){return this.constraints_.resolution(e,t||0,o||0)},G.prototype.constrainRotation=function(e,t){return this.constraints_.rotation(e,t||0)},G.prototype.getCenter=function(){return this.get(T.a.CENTER)},G.prototype.getConstraints=function(){return this.constraints_},G.prototype.getHints=function(e){return void 0===e?this.hints_.slice():(e[0]=this.hints_[0],e[1]=this.hints_[1],e)},G.prototype.calculateExtent=function(e){const t=e||this.getSizeFromViewport_(),o=this.getCenter();Object(R.a)(o,1);const a=this.getResolution();Object(R.a)(void 0!==a,2);const r=this.getRotation();return Object(R.a)(void 0!==r,3),Object(v.z)(o,a,r,t)},G.prototype.getMaxResolution=function(){return this.maxResolution_},G.prototype.getMinResolution=function(){return this.minResolution_},G.prototype.getMaxZoom=function(){return this.getZoomForResolution(this.minResolution_)},G.prototype.setMaxZoom=function(e){this.applyOptions_(this.getUpdatedOptions_({maxZoom:e}))},G.prototype.getMinZoom=function(){return this.getZoomForResolution(this.maxResolution_)},G.prototype.setMinZoom=function(e){this.applyOptions_(this.getUpdatedOptions_({minZoom:e}))},G.prototype.getProjection=function(){return this.projection_},G.prototype.getResolution=function(){return this.get(T.a.RESOLUTION)},G.prototype.getResolutions=function(){return this.resolutions_},G.prototype.getResolutionForExtent=function(e,t){const o=t||this.getSizeFromViewport_(),a=Object(v.E)(e)/o[0],r=Object(v.A)(e)/o[1];return _(a,r)},G.prototype.getResolutionForValueFunction=function(e){const t=e||2,o=this.maxResolution_,a=this.minResolution_,r=g(o/a)/g(t);return function(e){const a=o/p(t,e*r);return a}},G.prototype.getRotation=function(){return this.get(T.a.ROTATION)},G.prototype.getValueForResolutionFunction=function(e){const t=e||2,o=this.maxResolution_,a=this.minResolution_,r=g(o/a)/g(t);return function(e){const a=g(o/e)/g(t)/r;return a}},G.prototype.getState=function(){const e=this.getCenter(),t=this.getProjection(),o=this.getResolution(),a=this.getRotation();return{center:e.slice(),projection:t===void 0?null:t,resolution:o,rotation:a,zoom:this.getZoom()}},G.prototype.getZoom=function(){let e;const t=this.getResolution();return void 0!==t&&(e=this.getZoomForResolution(t)),e},G.prototype.getZoomForResolution=function(e){let t=this.minZoom_||0,o,a;if(this.resolutions_){const r=Object(S.h)(this.resolutions_,e,1);t=r,o=this.resolutions_[r],a=r==this.resolutions_.length-1?2:o/this.resolutions_[r+1]}else o=this.maxResolution_,a=this.zoomFactor_;return t+g(o/e)/g(a)},G.prototype.getResolutionForZoom=function(e){return this.constrainResolution(this.maxResolution_,e-this.minZoom_,0)},G.prototype.fit=function(e,t){const o=t||{};let a=o.size;a||(a=this.getSizeFromViewport_());let r;e instanceof F.a?e.getType()===L.a.CIRCLE?(e=e.getExtent(),r=Object(P.d)(e),r.rotate(this.getRotation(),Object(v.x)(e))):r=e:(Object(R.a)(Array.isArray(e),24),Object(R.a)(!Object(v.H)(e),25),r=Object(P.d)(e));const i=void 0===o.padding?[0,0,0,0]:o.padding,n=void 0===o.constrainResolution||o.constrainResolution,p=void 0!==o.nearest&&o.nearest;let g=void 0===o.minResolution?void 0===o.maxZoom?0:this.constrainResolution(this.maxResolution_,o.maxZoom-this.minZoom_,0):o.minResolution;const c=r.getFlatCoordinates(),u=this.getRotation(),y=d(-u);let h=l(-u),f=+Infinity,x=+Infinity,E=-Infinity,C=-Infinity;const T=r.getStride();for(let o=0,a=c.length;o<a;o+=T){const e=c[o]*y-c[o+1]*h,t=c[o]*h+c[o+1]*y;f=s(f,e),x=s(x,t),E=_(E,e),C=_(C,t)}let S=this.getResolutionForExtent([f,x,E,C],[a[0]-i[1]-i[3],a[1]-i[0]-i[2]]);if(S=isNaN(S)?g:_(S,g),n){let e=this.constrainResolution(S,0,0);!p&&e<S&&(e=this.constrainResolution(e,-1,0)),S=e}h=-h;let I=(f+E)/2,b=(x+C)/2;I+=(i[1]-i[3])/2*S,b+=(i[0]-i[2])/2*S;const O=I*y-b*h,w=b*y+I*h,N=[O,w],A=o.callback?o.callback:m.c;void 0===o.duration?(this.setResolution(S),this.setCenter(N),setTimeout(A.bind(void 0,!0),0)):this.animate({resolution:S,center:N,duration:o.duration,easing:o.easing},A)},G.prototype.centerOn=function(e,t,o){const a=this.getRotation(),r=d(-a);let i=l(-a),n=e[0]*r-e[1]*i,s=e[1]*r+e[0]*i;const p=this.getResolution();n+=(t[0]/2-o[0])*p,s+=(o[1]-t[1]/2)*p,i=-i;const g=n*r-s*i,_=s*r+n*i;this.setCenter([g,_])},G.prototype.isDef=function(){return!!this.getCenter()&&this.getResolution()!==void 0},G.prototype.rotate=function(e,t){if(t!==void 0){const o=this.calculateCenterRotate(e,t);this.setCenter(o)}this.setRotation(e)},G.prototype.setCenter=function(e){this.set(T.a.CENTER,e),this.getAnimating()&&this.cancelAnimations()},G.prototype.setHint=function(e,t){return this.hints_[e]+=t,this.changed(),this.hints_[e]},G.prototype.setResolution=function(e){this.set(T.a.RESOLUTION,e),this.getAnimating()&&this.cancelAnimations()},G.prototype.setRotation=function(e){this.set(T.a.ROTATION,e),this.getAnimating()&&this.cancelAnimations()},G.prototype.setZoom=function(e){this.setResolution(this.getResolutionForZoom(e))},t.a=G},function(e,t,o){"use strict";var a=o(0),r=o(197),i=o(212),n=o(34),s=o(10),l=o(233),d=o(310),p=o(170),g=o(311),_=o(318);const c=function(e){e=Object(s.a)({},e),e.controls||(e.controls=Object(i.a)()),e.interactions||(e.interactions=Object(n.l)()),r.a.call(this,e)};Object(a.g)(c,r.a),c.prototype.createRenderer=function(){const e=new d.a(this);return e.registerLayerRenderers([l.a,p.a,g.a,_.a]),e},t.a=c},function(e,t,o){"use strict";function a(e,t,o){const a=C.apply(null,e),r=C.apply(null,t),i=T.apply(null,e),n=T.apply(null,t);return s(a,r,i,n,o)}function r(e,t,o){return e[0]<=t&&t<=e[2]&&e[1]<=o&&o<=e[3]}function i(e,t){const o=e[0],a=e[1],r=e[2],i=e[3],n=t[0],s=t[1];let l=I.a.UNKNOWN;return n<o?l|=I.a.LEFT:n>r&&(l|=I.a.RIGHT),s<a?l|=I.a.BELOW:s>i&&(l|=I.a.ABOVE),l===I.a.UNKNOWN&&(l=I.a.INTERSECTING),l}function n(){return[Infinity,Infinity,-Infinity,-Infinity]}function s(e,t,o,a,r){return r?(r[0]=e,r[1]=t,r[2]=o,r[3]=a,r):[e,t,o,a]}function l(e){return s(Infinity,Infinity,-Infinity,-Infinity,e)}function d(e,t){t[0]<e[0]&&(e[0]=t[0]),t[0]>e[2]&&(e[2]=t[0]),t[1]<e[1]&&(e[1]=t[1]),t[1]>e[3]&&(e[3]=t[1])}function p(e,t){for(let o=0,a=t.length;o<a;++o)d(e,t[o]);return e}function g(e,t,o,a,r){for(;o<a;o+=r)_(e,t[o],t[o+1]);return e}function _(e,t,o){e[0]=C(e[0],t),e[1]=C(e[1],o),e[2]=T(e[2],t),e[3]=T(e[3],o)}function c(e){return[e[0],e[1]]}function u(e){return[e[2],e[1]]}function y(e){return e[3]-e[1]}function m(e){return[e[0],e[3]]}function h(e){return[e[2],e[3]]}function f(e){return e[2]-e[0]}function x(e,t){return e[0]<=t[2]&&e[2]>=t[0]&&e[1]<=t[3]&&e[3]>=t[1]}function E(e){return e[2]<e[0]||e[3]<e[1]}var C=Math.min,T=Math.max;t.b=function(e){const t=n();for(let o=0,a=e.length;o<a;++o)d(t,e[o]);return t},t.c=function(e,t,o){return o?(o[0]=e[0]-t,o[1]=e[1]-t,o[2]=e[2]+t,o[3]=e[3]+t,o):[e[0]-t,e[1]-t,e[2]+t,e[3]+t]},t.d=function(e,t){return t?(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t):e.slice()},t.e=function(e,t,o){let a,r;return a=t<e[0]?e[0]-t:e[2]<t?t-e[2]:0,r=o<e[1]?e[1]-o:e[3]<o?o-e[3]:0,a*a+r*r},t.f=function(e,t){return r(e,t[0],t[1])},t.g=function(e,t){return e[0]<=t[0]&&t[2]<=e[2]&&e[1]<=t[1]&&t[3]<=e[3]},t.h=r,t.i=i,t.j=n,t.k=s,t.l=l,t.m=function(e,t){const o=e[0],a=e[1];return s(o,a,o,a,t)},t.n=function(e,t){const o=l(t);return p(o,e)},t.o=function(e,t,o,a,r){const i=l(r);return g(i,e,t,o,a)},t.p=function(e,t){return e[0]==t[0]&&e[2]==t[2]&&e[1]==t[1]&&e[3]==t[3]},t.q=function(e,t){return t[0]<e[0]&&(e[0]=t[0]),t[2]>e[2]&&(e[2]=t[2]),t[1]<e[1]&&(e[1]=t[1]),t[3]>e[3]&&(e[3]=t[3]),e},t.r=d,t.s=g,t.t=function(e,t,o){let a;return(a=t.call(o,c(e)),a)?a:(a=t.call(o,u(e)),a)?a:(a=t.call(o,h(e)),a)?a:(a=t.call(o,m(e)),!!a&&a)},t.u=function(e){let t=0;return E(e)||(t=f(e)*y(e)),t},t.v=c,t.w=u,t.x=function(e){return[(e[0]+e[2])/2,(e[1]+e[3])/2]},t.y=function(e,t){let o;return t===R.a.BOTTOM_LEFT?o=c(e):t===R.a.BOTTOM_RIGHT?o=u(e):t===R.a.TOP_LEFT?o=m(e):t===R.a.TOP_RIGHT?o=h(e):Object(S.a)(!1,13),o},t.z=function(e,t,o,a,r){const i=t*a[0]/2,n=t*a[1]/2,l=Math.cos(o),d=Math.sin(o),p=i*l,g=i*d,_=n*l,c=n*d,u=e[0],m=e[1],y=u-p+c,h=u-p-c,f=u+p-c,x=u+p+c,E=m-g-_,S=m-g+_,R=m+g+_,I=m+g-_;return s(C(y,h,f,x),C(E,S,R,I),T(y,h,f,x),T(E,S,R,I),r)},t.A=y,t.B=function(e,t,o){const a=o?o:n();return x(e,t)?(a[0]=e[0]>t[0]?e[0]:t[0],a[1]=e[1]>t[1]?e[1]:t[1],a[2]=e[2]<t[2]?e[2]:t[2],a[3]=e[3]<t[3]?e[3]:t[3]):l(a),a},t.C=m,t.D=h,t.E=f,t.F=x,t.H=E,t.I=function(e,t){return t?(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t):e},t.J=function(e,t){const o=(e[2]-e[0])/2*(t-1),a=(e[3]-e[1])/2*(t-1);e[0]-=o,e[2]+=o,e[1]-=a,e[3]+=a},t.G=function(e,t,o){let a=!1;const r=i(e,t),n=i(e,o);if(r===I.a.INTERSECTING||n===I.a.INTERSECTING)a=!0;else{const i=e[0],s=e[1],l=e[2],d=e[3],p=t[0],g=t[1],_=o[0],c=o[1],u=(c-g)/(_-p);let m,h;!(n&I.a.ABOVE)||r&I.a.ABOVE||(m=_-(c-d)/u,a=m>=i&&m<=l),a||!(n&I.a.RIGHT)||r&I.a.RIGHT||(h=c-(_-l)*u,a=h>=s&&h<=d),a||!(n&I.a.BELOW)||r&I.a.BELOW||(m=_-(c-s)/u,a=m>=i&&m<=l),a||!(n&I.a.LEFT)||r&I.a.LEFT||(h=c-(_-i)*u,a=h>=s&&h<=d)}return a},t.a=function(e,t,o){const r=[e[0],e[1],e[0],e[3],e[2],e[1],e[2],e[3]];t(r,r,2);const i=[r[0],r[2],r[4],r[6]],n=[r[1],r[3],r[5],r[7]];return a(i,n,o)};var S=o(19),R=o(205),I=o(206)},function(e,t,o){"use strict";function a(e,t){let o;if(t!==void 0){for(let o=0,a=e.length;o<a;++o)t[o]=e[o];o=t}else o=e.slice();return o}function r(e,t){if(t!==void 0&&e!==t){for(let o=0,a=e.length;o<a;++o)t[o]=e[o];e=t}return e}function i(e){C.a(e.getCode(),e),Object(T.a)(e,e,a)}function n(e){e.forEach(i)}function s(e){let t=null;if(e instanceof x.a)t=e;else if("string"==typeof e){t=C.c(e)}return t}function l(e){n(e),e.forEach(function(t){e.forEach(function(e){t!==e&&Object(T.a)(t,e,a)})})}function d(e,t,o,a){e.forEach(function(e){t.forEach(function(t){Object(T.a)(e,t,o),Object(T.a)(t,e,a)})})}function p(e){return function(t,o,a){const r=t.length,n=a===void 0?2:a,s=o===void 0?Array(r):o;let l,d,i;for(d=0;d<r;d+=n)for(l=e([t[d],t[d+1]]),s[d]=l[0],s[d+1]=l[1],i=n-1;2<=i;--i)s[d+i]=t[d+i];return s}}function g(e,t){const o=e.getCode(),a=t.getCode();let i=Object(T.c)(o,a);return i||(i=r),i}function _(e,t){const o=s(e),a=s(t);return g(o,a)}function c(e,t,o){const a=_(t,o);return a(e,void 0,e.length)}t.l=r,t.d=i,t.h=s,t.i=function(e,t,o,a){e=s(e);let r;const i=e.getPointResolutionFunc();if(i)r=i(t,o);else{const i=e.getUnits();if(i==E.b.DEGREES&&!a||a==E.b.DEGREES)r=t;else{const i=g(e,s("EPSG:4326"));let n=[o[0]-t/2,o[1],o[0]+t/2,o[1],o[0],o[1]-t/2,o[0],o[1]+t/2];n=i(n,n,2);const l=Object(u.b)(n.slice(0,2),n.slice(2,4)),d=Object(u.b)(n.slice(4,6),n.slice(6,8));r=(l+d)/2;const p=a?E.a[a]:e.getMetersPerUnit();p!==void 0&&(r/=p)}}return r},t.c=l,t.e=function(e,t){return e?"string"==typeof e?s(e):e:s(t)},t.b=function(e,t,o,a){const r=s(e),i=s(t);Object(T.a)(r,i,p(o)),Object(T.a)(i,r,p(a))},t.g=function(e,t){return c(e,"EPSG:4326",t===void 0?"EPSG:3857":t)},t.m=function(e,t){const o=c(e,void 0===t?"EPSG:3857":t,"EPSG:4326"),a=o[0];return(-180>a||180<a)&&(o[0]=Object(m.d)(a+180,360)-180),o},t.f=function(e,t){if(e===t)return!0;const o=e.getUnits()===t.getUnits();if(e.getCode()===t.getCode())return o;else{const r=g(e,t);return r===a&&o}},t.k=g,t.j=_,t.n=c,t.o=function(e,t,o){const a=_(t,o);return Object(y.a)(e,a)};var u=o(157),y=o(3),m=o(17),h=o(297),f=o(298),x=o(52),E=o(56),C=o(299),T=o(207);o.d(t,"a",function(){return E.a}),function(){l(h.a),l(f.a),d(f.a,h.a,h.b,h.c)}()},function(e,t,o){"use strict";var a=o(0),r=o(55),i=o(74),n=o(244),s=o(10);const l=function(e){const t=e?e:{},o=Object(s.a)({},t);delete o.preload,delete o.useInterimTilesOnError,i.a.call(this,o),this.setPreload(t.preload===void 0?0:t.preload),this.setUseInterimTilesOnError(!(t.useInterimTilesOnError!==void 0)||t.useInterimTilesOnError),this.type=r.a.TILE};Object(a.g)(l,i.a),l.prototype.getPreload=function(){return this.get(n.a.PRELOAD)},l.prototype.getSource,l.prototype.setPreload=function(e){this.set(n.a.PRELOAD,e)},l.prototype.getUseInterimTilesOnError=function(){return this.get(n.a.USE_INTERIM_TILES_ON_ERROR)},l.prototype.setUseInterimTilesOnError=function(e){this.set(n.a.USE_INTERIM_TILES_ON_ERROR,e)},t.a=l},function(e,t,o){"use strict";var a=o(209);o.d(t,"a",function(){return a.a});var r=o(328);o.d(t,"b",function(){return r.a});var i=o(76);o.d(t,"c",function(){return i.a});var n=o(74),s=o(5);o.d(t,"d",function(){return s.a});var l=o(25);o.d(t,"e",function(){return l.a});var d=o(95);o.d(t,"f",function(){return d.a})},function(e,t,o){"use strict";var a=o(0),r=o(42);const i="&copy; <a href=\"https://www.openstreetmap.org/copyright\">OpenStreetMap</a> contributors.";t.a=i;const n=function(e){const t=e||{};let o=void 0===t.attributions?[i]:t.attributions;const a=t.crossOrigin===void 0?"anonymous":t.crossOrigin,n=t.url===void 0?"https://{a-c}.tile.openstreetmap.org/{z}/{x}/{y}.png":t.url;r.a.call(this,{attributions:o,cacheSize:t.cacheSize,crossOrigin:a,opaque:!(t.opaque!==void 0)||t.opaque,maxZoom:t.maxZoom===void 0?19:t.maxZoom,reprojectionErrorThreshold:t.reprojectionErrorThreshold,tileLoadFunction:t.tileLoadFunction,url:n,wrapX:t.wrapX})};Object(a.g)(n,r.a),t.b=n},function(e,t,o){"use strict";function a(e){const t=function(t){const o=e.listener,a=e.bindTo||e.target;return e.callOnce&&d(e),o.call(a,t)};return e.boundListener=t,t}function r(e,t,o,a){let r;for(let n=0,i=e.length;n<i;++n)if(r=e[n],r.listener===t&&r.bindTo===o)return a&&(r.deleteIndex=n),r}function i(e,t){const o=e.ol_lm;return o?o[t]:void 0}function n(e){let t=e.ol_lm;return t||(t=e.ol_lm={}),t}function s(e,t){const o=i(e,t);if(o){for(let a=0,r=o.length;a<r;++a)e.removeEventListener(t,o[a].boundListener),Object(p.b)(o[a]);o.length=0;const a=e.ol_lm;a&&(delete a[t],0===Object.keys(a).length&&delete e.ol_lm)}}function l(e,t,o,i,s){const l=n(e);let d=l[t];d||(d=l[t]=[]);let p=r(d,o,i,!1);return p?!s&&(p.callOnce=!1):(p={bindTo:i,callOnce:!!s,listener:o,target:e,type:t},e.addEventListener(t,a(p)),d.push(p)),p}function d(e){if(e&&e.target){e.target.removeEventListener(e.type,e.boundListener);const t=i(e.target,e.type);if(t){const o="deleteIndex"in e?e.deleteIndex:t.indexOf(e);-1!==o&&t.splice(o,1),0===t.length&&s(e.target,e.type)}Object(p.b)(e)}}t.a=l,t.b=function(e,t,o,a){return l(e,t,o,a,!0)},t.c=function(e,t,o,a){const n=i(e,t);if(n){const e=r(n,o,a,!0);e&&d(e)}},t.e=d,t.d=function(e){const t=n(e);for(const o in t)s(e,o)};var p=o(10)},function(e,t,o){"use strict";var a=o(256),r=o(257);o.d(t,"a",function(){return r.a});var i=o(226);o.d(t,"b",function(){return i.a});var n=o(113);o.d(t,"c",function(){return n.a});var s=o(174);o.d(t,"d",function(){return s.a});var l=o(249),d=o(161),p=o(227);o.d(t,"e",function(){return p.a});var g=o(89);o.d(t,"f",function(){return g.a});var _=o(65);o.d(t,"g",function(){return _.c});var c=o(177);o.d(t,"h",function(){return c.a})},function(e,t){"use strict";t.b=function(e){for(const t in e)delete e[t]},t.c=function(e){const t=[];for(const o in e)t.push(e[o]);return t},t.d=function(e){for(var t in e)return!1;return!t};const o="function"==typeof Object.assign?Object.assign:function(e){if(e===void 0||null===e)throw new TypeError("Cannot convert undefined or null to object");const t=Object(e);for(let o=1,a=arguments.length;o<a;++o){const e=arguments[o];if(e!==void 0&&null!==e)for(const o in e)e.hasOwnProperty(o)&&(t[o]=e[o])}return t};t.a=o},function(e,t){"use strict";t.a={CHANGE:"change",CLEAR:"clear",CONTEXTMENU:"contextmenu",CLICK:"click",DBLCLICK:"dblclick",DRAGENTER:"dragenter",DRAGOVER:"dragover",DROP:"drop",ERROR:"error",KEYDOWN:"keydown",KEYPRESS:"keypress",LOAD:"load",MOUSEDOWN:"mousedown",MOUSEMOVE:"mousemove",MOUSEOUT:"mouseout",MOUSEUP:"mouseup",MOUSEWHEEL:"mousewheel",MSPOINTERDOWN:"MSPointerDown",RESIZE:"resize",TOUCHSTART:"touchstart",TOUCHMOVE:"touchmove",TOUCHEND:"touchend",WHEEL:"wheel"}},function(e,t,o){"use strict";var a=o(0),r=o(62),i=o(78),n=o(107),s=o(13),l=o(19),d=o(8),p=o(33),g=o(11),_=o(3),c=o(231),u=o(18),y=o(115),m=o(10),h=o(134),f=o(45),x=o(164),E=o(135);const C=function(e,t){p.a.call(this,e),this.feature=t};t.a=C,Object(a.g)(C,p.a);const T=function(e){const t=e||{};h.a.call(this,{attributions:t.attributions,projection:void 0,state:f.a.READY,wrapX:!(t.wrapX!==void 0)||t.wrapX}),this.loader_=u.c,this.format_=t.format,this.overlaps_=!(t.overlaps!=void 0)||t.overlaps,this.url_=t.url,t.loader===void 0?this.url_!==void 0&&(Object(l.a)(this.format_,7),this.loader_=Object(c.b)(this.url_,this.format_)):this.loader_=t.loader,this.strategy_=t.strategy===void 0?y.a:t.strategy;const o=!(t.useSpatialIndex!==void 0)||t.useSpatialIndex;this.featuresRtree_=o?new E.a:null,this.loadedExtentsRtree_=new E.a,this.nullGeometryFeatures_={},this.idIndex_={},this.undefIdIndex_={},this.featureChangeKeys_={},this.featuresCollection_=null;let a,i;t.features instanceof r.b?(a=t.features,i=a.getArray()):Array.isArray(t.features)&&(i=t.features),o||a!==void 0||(a=new r.b(i)),i!==void 0&&this.addFeaturesInternal(i),a!==void 0&&this.bindFeaturesCollection_(a)};Object(a.g)(T,h.a),T.prototype.addFeature=function(e){this.addFeatureInternal(e),this.changed()},T.prototype.addFeatureInternal=function(e){const t=Object(a.f)(e).toString();if(this.addToIndex_(t,e)){this.setupChangeEvents_(t,e);const o=e.getGeometry();if(o){const t=o.getExtent();this.featuresRtree_&&this.featuresRtree_.insert(t,e)}else this.nullGeometryFeatures_[t]=e;this.dispatchEvent(new C(x.a.ADDFEATURE,e))}},T.prototype.setupChangeEvents_=function(e,t){this.featureChangeKeys_[e]=[Object(d.a)(t,g.a.CHANGE,this.handleFeatureChange_,this),Object(d.a)(t,n.a.PROPERTYCHANGE,this.handleFeatureChange_,this)]},T.prototype.addToIndex_=function(e,t){let o=!0;const a=t.getId();return void 0===a?(Object(l.a)(!(e in this.undefIdIndex_),30),this.undefIdIndex_[e]=t):a.toString()in this.idIndex_?o=!1:this.idIndex_[a.toString()]=t,o},T.prototype.addFeatures=function(e){this.addFeaturesInternal(e),this.changed()},T.prototype.addFeaturesInternal=function(e){const t=[],o=[],r=[];for(let t=0,r=e.length;t<r;t++){const r=e[t],i=Object(a.f)(r).toString();this.addToIndex_(i,r)&&o.push(r)}for(let n=0,i=o.length;n<i;n++){const e=o[n],i=Object(a.f)(e).toString();this.setupChangeEvents_(i,e);const s=e.getGeometry();if(s){const o=s.getExtent();t.push(o),r.push(e)}else this.nullGeometryFeatures_[i]=e}this.featuresRtree_&&this.featuresRtree_.load(t,r);for(let t=0,a=o.length;t<a;t++)this.dispatchEvent(new C(x.a.ADDFEATURE,o[t]))},T.prototype.bindFeaturesCollection_=function(e){let t=!1;Object(d.a)(this,x.a.ADDFEATURE,function(o){t||(t=!0,e.push(o.feature),t=!1)}),Object(d.a)(this,x.a.REMOVEFEATURE,function(o){t||(t=!0,e.remove(o.feature),t=!1)}),Object(d.a)(e,i.a.ADD,function(e){t||(t=!0,this.addFeature(e.element),t=!1)},this),Object(d.a)(e,i.a.REMOVE,function(e){t||(t=!0,this.removeFeature(e.element),t=!1)},this),this.featuresCollection_=e},T.prototype.clear=function(e){if(e){for(const e in this.featureChangeKeys_){const t=this.featureChangeKeys_[e];t.forEach(d.e)}this.featuresCollection_||(this.featureChangeKeys_={},this.idIndex_={},this.undefIdIndex_={})}else if(this.featuresRtree_)for(const e in this.featuresRtree_.forEach(this.removeFeatureInternal,this),this.nullGeometryFeatures_)this.removeFeatureInternal(this.nullGeometryFeatures_[e]);this.featuresCollection_&&this.featuresCollection_.clear(),this.featuresRtree_&&this.featuresRtree_.clear(),this.loadedExtentsRtree_.clear(),this.nullGeometryFeatures_={};const t=new C(x.a.CLEAR);this.dispatchEvent(t),this.changed()},T.prototype.forEachFeature=function(e){if(this.featuresRtree_)return this.featuresRtree_.forEach(e);return this.featuresCollection_?this.featuresCollection_.forEach(e):void 0},T.prototype.forEachFeatureAtCoordinateDirect=function(e,t){const o=[e[0],e[1],e[0],e[1]];return this.forEachFeatureInExtent(o,function(o){const a=o.getGeometry();return a.intersectsCoordinate(e)?t(o):void 0})},T.prototype.forEachFeatureInExtent=function(e,t){if(this.featuresRtree_)return this.featuresRtree_.forEachInExtent(e,t);return this.featuresCollection_?this.featuresCollection_.forEach(t):void 0},T.prototype.forEachFeatureIntersectingExtent=function(e,t){return this.forEachFeatureInExtent(e,function(o){const a=o.getGeometry();if(a.intersectsExtent(e)){const e=t(o);if(e)return e}})},T.prototype.getFeaturesCollection=function(){return this.featuresCollection_},T.prototype.getFeatures=function(){let e;return this.featuresCollection_?e=this.featuresCollection_.getArray():this.featuresRtree_&&(e=this.featuresRtree_.getAll(),!Object(m.d)(this.nullGeometryFeatures_)&&Object(s.c)(e,Object(m.c)(this.nullGeometryFeatures_))),e},T.prototype.getFeaturesAtCoordinate=function(e){const t=[];return this.forEachFeatureAtCoordinateDirect(e,function(e){t.push(e)}),t},T.prototype.getFeaturesInExtent=function(e){return this.featuresRtree_.getInExtent(e)},T.prototype.getClosestFeatureToCoordinate=function(e,t){const o=e[0],a=e[1];let r=null;const i=[NaN,NaN];let n=Infinity;const s=[-Infinity,-Infinity,Infinity,Infinity],l=t?t:u.b;return this.featuresRtree_.forEachInExtent(s,function(e){if(l(e)){const t=e.getGeometry(),l=n;if(n=t.closestPointXY(o,a,i,n),n<l){r=e;const t=Math.sqrt(n);s[0]=o-t,s[1]=a-t,s[2]=o+t,s[3]=a+t}}}),r},T.prototype.getExtent=function(e){return this.featuresRtree_.getExtent(e)},T.prototype.getFeatureById=function(e){const t=this.idIndex_[e.toString()];return t===void 0?null:t},T.prototype.getFormat=function(){return this.format_},T.prototype.getOverlaps=function(){return this.overlaps_},T.prototype.getResolutions=function(){},T.prototype.getUrl=function(){return this.url_},T.prototype.handleFeatureChange_=function(e){const t=e.target,o=Object(a.f)(t).toString(),r=t.getGeometry();if(!r)o in this.nullGeometryFeatures_||(this.featuresRtree_&&this.featuresRtree_.remove(t),this.nullGeometryFeatures_[o]=t);else{const e=r.getExtent();o in this.nullGeometryFeatures_?(delete this.nullGeometryFeatures_[o],this.featuresRtree_&&this.featuresRtree_.insert(e,t)):this.featuresRtree_&&this.featuresRtree_.update(e,t)}const i=t.getId();if(i!==void 0){const e=i.toString();o in this.undefIdIndex_?(delete this.undefIdIndex_[o],this.idIndex_[e]=t):this.idIndex_[e]!==t&&(this.removeFromIdIndex_(t),this.idIndex_[e]=t)}else o in this.undefIdIndex_||(this.removeFromIdIndex_(t),this.undefIdIndex_[o]=t);this.changed(),this.dispatchEvent(new C(x.a.CHANGEFEATURE,t))},T.prototype.hasFeature=function(e){const t=e.getId();if(t!==void 0)return t in this.idIndex_;else{const t=Object(a.f)(e).toString();return t in this.undefIdIndex_}},T.prototype.isEmpty=function(){return this.featuresRtree_.isEmpty()&&Object(m.d)(this.nullGeometryFeatures_)},T.prototype.loadFeatures=function(e,t,o){const a=this.loadedExtentsRtree_,r=this.strategy_(e,t);for(let n=0,i=r.length;n<i;++n){const e=r[n],i=a.forEachInExtent(e,function(t){return Object(_.g)(t.extent,e)});i||(this.loader_.call(this,e,t,o),a.insert(e,{extent:e.slice()}))}},T.prototype.removeLoadedExtent=function(e){const t=this.loadedExtentsRtree_;let o;t.forEachInExtent(e,function(t){if(Object(_.p)(t.extent,e))return o=t,!0}),o&&t.remove(o)},T.prototype.removeFeature=function(e){const t=Object(a.f)(e).toString();t in this.nullGeometryFeatures_?delete this.nullGeometryFeatures_[t]:this.featuresRtree_&&this.featuresRtree_.remove(e),this.removeFeatureInternal(e),this.changed()},T.prototype.removeFeatureInternal=function(e){const t=Object(a.f)(e).toString();this.featureChangeKeys_[t].forEach(d.e),delete this.featureChangeKeys_[t];const o=e.getId();o===void 0?delete this.undefIdIndex_[t]:delete this.idIndex_[o.toString()],this.dispatchEvent(new C(x.a.REMOVEFEATURE,e))},T.prototype.removeFromIdIndex_=function(e){let t=!1;for(const o in this.idIndex_)if(this.idIndex_[o]===e){delete this.idIndex_[o],t=!0;break}return t},T.prototype.setLoader=function(e){this.loader_=e},t.b=T},function(e,t){"use strict";function o(e,t){return e>t?1:e<t?-1:0}t.a=function(e,t,a){let r,i;let n=0,s=e.length,l=!1;for(;n<s;)r=n+(s-n>>1),i=+(a||o)(e[r],t),0>i?n=r+1:(s=r,l=!i);return l?n:~n},t.i=o,t.f=function(e,t){return 0<=e.indexOf(t)},t.h=function(e,t,o){const a=e.length;if(e[0]<=t)return 0;if(t<=e[a-1])return a-1;else{let r;if(0<o){for(r=1;r<a;++r)if(e[r]<t)return r-1;}else if(0>o){for(r=1;r<a;++r)if(e[r]<=t)return r;}else for(r=1;r<a;++r){if(e[r]==t)return r;if(e[r]<t)return e[r-1]-t<t-e[r]?r-1:r}return a-1}},t.k=function(e,t,o){for(;t<o;){const a=e[t];e[t]=e[o],e[o]=a,++t,--o}},t.c=function(e,t){const o=Array.isArray(t)?t:[t],a=o.length;for(let r=0;r<a;r++)e[e.length]=o[r]},t.j=function(e,t){const o=e.indexOf(t),a=-1<o;return a&&e.splice(o,1),a},t.d=function(e,t){const o=e.length>>>0;let a;for(let r=0;r<o;r++)if(a=e[r],t(a,r,e))return a;return null},t.b=function(e,t){const o=e.length;if(o!==t.length)return!1;for(let a=0;a<o;a++)if(e[a]!==t[a])return!1;return!0},t.l=function(e,t){const o=e.length,a=Array(e.length);let r;for(r=0;r<o;r++)a[r]={index:r,value:e[r]};for(a.sort(function(e,o){return t(e.value,o.value)||e.index-o.index}),r=0;r<e.length;r++)e[r]=a[r].value},t.e=function(e,t){let o;const a=!e.every(function(a,r){return o=r,!t(a,r,e)});return a?o:-1},t.g=function(e,t,a){return e.every(function(r,i){if(0===i)return!0;const n=(t||o)(e[i-1],r);return!(0<n||a&&0===n)})}},function(e,t,o){"use strict";var a=o(213);o.d(t,"a",function(){return a.a});var r=o(58);o.d(t,"b",function(){return r.a});var i=o(319);o.d(t,"c",function(){return i.a});var n=o(320);o.d(t,"d",function(){return n.a});var s=o(214),l=o(321);o.d(t,"e",function(){return l.a});var d=o(215),p=o(322);o.d(t,"f",function(){return p.a});var g=o(323);o.d(t,"g",function(){return g.a});var _=o(212);o.d(t,"h",function(){return _.a})},function(e,t,o){"use strict";function a(e){if("function"==typeof e)return e;else{let t;return Array.isArray(e)?t=e:(Object(r.a)(e instanceof p.c,41),t=[e]),function(){return t}}}var r=o(19),i=o(8),n=o(11),s=o(0),l=o(32),d=o(72),p=o(65);const g=function(e){if(l.a.call(this),this.id_=void 0,this.geometryName_="geometry",this.style_=null,this.styleFunction_=void 0,this.geometryChangeKey_=null,Object(i.a)(this,Object(l.b)(this.geometryName_),this.handleGeometryChanged_,this),void 0!==e)if(e instanceof d.a||!e){this.setGeometry(e)}else{this.setProperties(e)}};Object(s.g)(g,l.a),g.prototype.clone=function(){const e=new g(this.getProperties());e.setGeometryName(this.getGeometryName());const t=this.getGeometry();t&&e.setGeometry(t.clone());const o=this.getStyle();return o&&e.setStyle(o),e},g.prototype.getGeometry=function(){return this.get(this.geometryName_)},g.prototype.getId=function(){return this.id_},g.prototype.getGeometryName=function(){return this.geometryName_},g.prototype.getStyle=function(){return this.style_},g.prototype.getStyleFunction=function(){return this.styleFunction_},g.prototype.handleGeometryChange_=function(){this.changed()},g.prototype.handleGeometryChanged_=function(){this.geometryChangeKey_&&(Object(i.e)(this.geometryChangeKey_),this.geometryChangeKey_=null);const e=this.getGeometry();e&&(this.geometryChangeKey_=Object(i.a)(e,n.a.CHANGE,this.handleGeometryChange_,this)),this.changed()},g.prototype.setGeometry=function(e){this.set(this.geometryName_,e)},g.prototype.setStyle=function(e){this.style_=e,this.styleFunction_=e?a(e):void 0,this.changed()},g.prototype.setId=function(e){this.id_=e,this.changed()},g.prototype.setGeometryName=function(e){Object(i.c)(this,Object(l.b)(this.geometryName_),this.handleGeometryChanged_,this),this.geometryName_=e,Object(i.a)(this,Object(l.b)(this.geometryName_),this.handleGeometryChanged_,this),this.handleGeometryChanged_()},t.a=g},function(e,t,o){"use strict";var a=o(31);o.d(t,"a",function(){return a.a});var r=o(329);o.d(t,"b",function(){return r.a});var i=o(330);o.d(t,"c",function(){return i.a});var n=o(82),s=o(332);o.d(t,"d",function(){return s.a});var l=o(333);o.d(t,"e",function(){return l.a});var d=o(251),p=o(176),g=o(97),_=o(7);o.d(t,"f",function(){return _.b});var c=o(140);o.d(t,"g",function(){return c.a});var u=o(134),y=o(70);o.d(t,"h",function(){return y.a});var m=o(119),h=o(337);o.d(t,"i",function(){return h.a});var f=o(338);o.d(t,"j",function(){return f.a});var x=o(68);o.d(t,"k",function(){return x.a});var E=o(50);o.d(t,"l",function(){return E.a});var C=o(254),T=o(61);o.d(t,"m",function(){return T.a});var S=o(173),R=o(12);o.d(t,"n",function(){return R.b});var I=o(83),b=o(42);o.d(t,"o",function(){return b.a});o(255)},function(e,t,o){"use strict";function a(e,t,o,a){const r=o-e,i=a-t;return r*r+i*i}var s=Math.abs,r=Math.PI;t.a=function(e,t,o){return Math.min(Math.max(e,t),o)},t.e=function(e){return Object(i.a)(0<e,29),Math.pow(2,Math.ceil(Math.log(e)/Math.LN2))},t.h=function(e,o,r,i,n,s){const l=n-r,d=s-i;if(0!=l||0!=d){const a=((e-r)*l+(o-i)*d)/(l*l+d*d);1<a?(r=n,i=s):0<a&&(r+=l*a,i+=d*a)}return a(e,o,r,i)},t.g=a,t.f=function(e){const t=e.length;for(let o=0;o<t;o++){let a=o,i=s(e[o][o]);for(let n=o+1;n<t;n++){const t=s(e[n][o]);t>i&&(i=t,a=n)}if(0===i)return null;const r=e[a];e[a]=e[o],e[o]=r;for(let a=o+1;a<t;a++){const r=-e[a][o]/e[o][o];for(let i=o;i<t+1;i++)o==i?e[a][i]=0:e[a][i]+=r*e[o][i]}}const o=Array(t);for(let a=t-1;0<=a;a--){o[a]=e[a][t]/e[a][a];for(let r=a-1;0<=r;r--)e[r][t]-=e[r][a]*o[a]}return o},t.i=function(e){return 180*e/r},t.j=function(e){return e*r/180},t.d=function(e,t){const o=e%t;return 0>o*t?o+t:o},t.c=function(e,t,o){return e+o*(t-e)};var i=o(19);const n=function(){let e;return e="cosh"in Math?Math.cosh:function(e){const t=Math.exp(e);return(t+1/t)/2},e}();t.b=n},function(e,t){"use strict";t.b=function(){return!0},t.a=function(){return!1},t.c=function(){}},function(e,t,o){"use strict";t.a=function(e,t){if(!e)throw new a.a(t)};var a=o(198)},function(e,t,o){"use strict";var a=Math.PI;o.d(t,"e",function(){return r}),o.d(t,"f",function(){return i}),o.d(t,"h",function(){return n}),o.d(t,"g",function(){return s}),o.d(t,"l",function(){return l}),o.d(t,"d",function(){return d}),o.d(t,"m",function(){return p}),o.d(t,"j",function(){return g}),o.d(t,"k",function(){return _}),o.d(t,"b",function(){return c}),o.d(t,"a",function(){return u}),o.d(t,"i",function(){return y}),o.d(t,"c",function(){return m}),o.d(t,"o",function(){return h}),o.d(t,"n",function(){return f});var r=1,i=2,n=4,s=5,l=484813681109536e-20,d=a/2,p=.16666666666666666,g=.04722222222222222,_=.022156084656084655,c=1e-10,u=.017453292519943295,y=57.29577951308232,m=a/4,h=2*a,f=3.14159265359},function(e,t,o){"use strict";var a=o(0),r=o(3),i=o(30),n=o(22),s=o(44),l=o(64),d=o(17);const p=function(e,t){s.a.call(this),this.setCoordinates(e,t)};Object(a.g)(p,s.a),p.prototype.clone=function(){const e=new p(null);return e.setFlatCoordinates(this.layout,this.flatCoordinates.slice()),e},p.prototype.closestPointXY=function(e,t,o,a){const r=this.flatCoordinates,i=Object(d.g)(e,t,r[0],r[1]);if(i<a){const e=this.stride;for(let t=0;t<e;++t)o[t]=r[t];return o.length=e,i}return a},p.prototype.getCoordinates=function(){return this.flatCoordinates?this.flatCoordinates.slice():[]},p.prototype.computeExtent=function(e){return Object(r.m)(this.flatCoordinates,e)},p.prototype.getType=function(){return n.a.POINT},p.prototype.intersectsExtent=function(e){return Object(r.h)(e,this.flatCoordinates[0],this.flatCoordinates[1])},p.prototype.setCoordinates=function(e,t){e?(this.setLayout(t,e,0),!this.flatCoordinates&&(this.flatCoordinates=[]),this.flatCoordinates.length=Object(l.a)(this.flatCoordinates,0,e,this.stride),this.changed()):this.setFlatCoordinates(i.a.XY,null)},p.prototype.setFlatCoordinates=function(e,t){this.setFlatCoordinatesInternal(e,t),this.changed()},t.a=p},function(e,t){"use strict";t.a={POINT:"Point",LINE_STRING:"LineString",LINEAR_RING:"LinearRing",POLYGON:"Polygon",MULTI_POINT:"MultiPoint",MULTI_LINE_STRING:"MultiLineString",MULTI_POLYGON:"MultiPolygon",GEOMETRY_COLLECTION:"GeometryCollection",CIRCLE:"Circle"}},function(e,t){"use strict";t.a=function(e,t){const o=document.createElement("CANVAS");return e&&(o.width=e),t&&(o.height=t),o.getContext("2d")},t.c=function(e){let t=e.offsetWidth;const o=getComputedStyle(e);return t+=parseInt(o.marginLeft,10)+parseInt(o.marginRight,10),t},t.b=function(e){let t=e.offsetHeight;const o=getComputedStyle(e);return t+=parseInt(o.marginTop,10)+parseInt(o.marginBottom,10),t},t.f=function(e,t){const o=t.parentNode;o&&o.replaceChild(e,t)},t.e=function(e){return e&&e.parentNode?e.parentNode.removeChild(e):null},t.d=function(e){for(;e.lastChild;)e.removeChild(e.lastChild)}},function(e,t,o){"use strict";var a=o(20),r=o(124);t.a=function(e){return Math.abs(e)<=a.n?e:e-Object(r.a)(e)*a.o}},function(e,t,o){"use strict";var a=o(0),r=o(55),i=o(74),n=o(230),s=o(10),l=o(65);const d={RENDER_ORDER:"renderOrder"},p=function(e){const t=e?e:{},o=Object(s.a)({},t);delete o.style,delete o.renderBuffer,delete o.updateWhileAnimating,delete o.updateWhileInteracting,i.a.call(this,o),this.declutter_=t.declutter!==void 0&&t.declutter,this.renderBuffer_=t.renderBuffer===void 0?100:t.renderBuffer,this.style_=null,this.styleFunction_=void 0,this.setStyle(t.style),this.updateWhileAnimating_=t.updateWhileAnimating!==void 0&&t.updateWhileAnimating,this.updateWhileInteracting_=t.updateWhileInteracting!==void 0&&t.updateWhileInteracting,this.renderMode_=t.renderMode||n.a.VECTOR,this.type=r.a.VECTOR};Object(a.g)(p,i.a),p.prototype.getDeclutter=function(){return this.declutter_},p.prototype.setDeclutter=function(e){this.declutter_=e},p.prototype.getRenderBuffer=function(){return this.renderBuffer_},p.prototype.getRenderOrder=function(){return this.get(d.RENDER_ORDER)},p.prototype.getSource,p.prototype.getStyle=function(){return this.style_},p.prototype.getStyleFunction=function(){return this.styleFunction_},p.prototype.getUpdateWhileAnimating=function(){return this.updateWhileAnimating_},p.prototype.getUpdateWhileInteracting=function(){return this.updateWhileInteracting_},p.prototype.setRenderOrder=function(e){this.set(d.RENDER_ORDER,e)},p.prototype.setStyle=function(e){this.style_=e===void 0?l.a:e,this.styleFunction_=null===e?void 0:Object(l.d)(this.style_),this.changed()},p.prototype.getRenderMode=function(){return this.renderMode_},t.a=p},function(e,t,o){"use strict";function a(e,t){if(!e)return null;const o=E[e.type];return Object(l.b)(o(e),!1,t)}function r(e,t){const o=C[e.getType()];return o(Object(l.b)(e,!0,t),t)}var i=o(0),n=o(19),s=o(15),l=o(36),d=o(178),p=o(179),g=o(28),_=o(53),c=o(54),u=o(60),y=o(21),m=o(29),h=o(10),f=o(4);const x=function(e){const t=e?e:{};d.a.call(this),this.defaultDataProjection=Object(f.h)(t.defaultDataProjection?t.defaultDataProjection:"EPSG:4326"),t.featureProjection&&(this.defaultFeatureProjection=Object(f.h)(t.featureProjection)),this.geometryName_=t.geometryName,this.extractGeometryName_=t.extractGeometryName};Object(i.g)(x,d.a);const E={Point:function(e){return new y.a(e.coordinates)},LineString:function(e){return new g.a(e.coordinates)},Polygon:function(e){return new m.b(e.coordinates)},MultiPoint:function(e){return new c.a(e.coordinates)},MultiLineString:function(e){return new _.a(e.coordinates)},MultiPolygon:function(e){return new u.a(e.coordinates)},GeometryCollection:function(e,t){const o=e.geometries.map(function(e){return a(e,t)});return new p.a(o)}},C={Point:function(e){return{type:"Point",coordinates:e.getCoordinates()}},LineString:function(e){return{type:"LineString",coordinates:e.getCoordinates()}},Polygon:function(e,t){let o;return t&&(o=t.rightHanded),{type:"Polygon",coordinates:e.getCoordinates(o)}},MultiPoint:function(e){return{type:"MultiPoint",coordinates:e.getCoordinates()}},MultiLineString:function(e){return{type:"MultiLineString",coordinates:e.getCoordinates()}},MultiPolygon:function(e,t){let o;return t&&(o=t.rightHanded),{type:"MultiPolygon",coordinates:e.getCoordinates(o)}},GeometryCollection:function(e,t){const o=e.getGeometriesArray().map(function(e){const o=Object(h.a)({},t);return delete o.featureProjection,r(e,o)});return{type:"GeometryCollection",geometries:o}},Circle:function(){return{type:"GeometryCollection",geometries:[]}}};x.prototype.readFeature,x.prototype.readFeatures,x.prototype.readFeatureFromObject=function(e,t){let o=null;o="Feature"===e.type?e:{type:"Feature",geometry:e};const r=a(o.geometry,t),i=new s.a;return this.geometryName_?i.setGeometryName(this.geometryName_):this.extractGeometryName_&&void 0!==o.geometry_name&&i.setGeometryName(o.geometry_name),i.setGeometry(r),void 0!==o.id&&i.setId(o.id),o.properties&&i.setProperties(o.properties),i},x.prototype.readFeaturesFromObject=function(e,t){let o=null;if("FeatureCollection"===e.type){o=[];const a=e.features;for(let e=0,r=a.length;e<r;++e)o.push(this.readFeatureFromObject(a[e],t))}else o=[this.readFeatureFromObject(e,t)];return o},x.prototype.readGeometry,x.prototype.readGeometryFromObject=function(e,t){return a(e,t)},x.prototype.readProjection,x.prototype.readProjectionFromObject=function(e){const t=e.crs;let o;return t?"name"==t.type?o=Object(f.h)(t.properties.name):Object(n.a)(!1,36):o=this.defaultDataProjection,o},x.prototype.writeFeature,x.prototype.writeFeatureObject=function(e,t){t=this.adaptOptions(t);const o={type:"Feature"},a=e.getId();void 0!==a&&(o.id=a);const i=e.getGeometry();o.geometry=i?r(i,t):null;const n=e.getProperties();return delete n[e.getGeometryName()],o.properties=Object(h.d)(n)?null:n,o},x.prototype.writeFeatures,x.prototype.writeFeaturesObject=function(e,t){t=this.adaptOptions(t);const o=[];for(let a=0,r=e.length;a<r;++a)o.push(this.writeFeatureObject(e[a],t));return{type:"FeatureCollection",features:o}},x.prototype.writeGeometry,x.prototype.writeGeometryObject=function(e,t){return r(e,this.adaptOptions(t))},t.a=x},function(e,t,o){"use strict";function a(e,t){const o=e[0],a=e[1],r=e[2],i=e[3],n=e[4],s=e[5],l=t[0],d=t[1],p=t[2],g=t[3],_=t[4],c=t[5];return e[0]=o*l+r*d,e[1]=a*l+i*d,e[2]=o*p+r*g,e[3]=a*p+i*g,e[4]=o*_+r*c+n,e[5]=a*_+i*c+s,e}function r(t,o,a,r,i,n,e){return t[0]=o,t[1]=a,t[2]=r,t[3]=i,t[4]=n,t[5]=e,t}function i(e){return e[0]*e[3]-e[1]*e[2]}var n=Math.sin,s=Math.cos;t.c=function(){return[1,0,0,1,0,0]},t.f=function(e){return r(e,1,0,0,1,0,0)},t.e=a,t.i=function(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e},t.a=function(e,t){const o=t[0],a=t[1];return t[0]=e[0]*o+e[2]*a+e[4],t[1]=e[1]*o+e[3]*a+e[5],t},t.g=function(e,t){const o=s(t),i=n(t);return a(e,r(d,o,i,-i,o,0,0))},t.h=function(e,t,o){return a(e,r(d,t,0,0,o,0,0))},t.j=function(e,t,o){return a(e,r(d,1,0,0,1,t,o))},t.b=function(e,t,o,a,r,i,l,d){const p=n(i),g=s(i);return e[0]=a*g,e[1]=r*p,e[2]=-a*p,e[3]=r*g,e[4]=l*a*g-d*a*p+t,e[5]=l*r*p+d*r*g+o,e},t.d=function(t){const o=i(t);Object(l.a)(0!==o,32);const r=t[0],a=t[1],n=t[2],s=t[3],d=t[4],e=t[5];return t[0]=s/o,t[1]=-a/o,t[2]=-n/o,t[3]=r/o,t[4]=(n*e-s*d)/o,t[5]=-(r*e-a*d)/o,t};var l=o(19);const d=[,,,,,,]},function(e,t,o){"use strict";var a=o(0),r=o(13),i=o(3),n=o(30),s=o(22),l=o(44),d=o(110),p=o(64),g=o(73),_=o(163),c=o(133),u=o(228),y=o(208),m=o(87);const h=function(e,t){l.a.call(this),this.flatMidpoint_=null,this.flatMidpointRevision_=-1,this.maxDelta_=-1,this.maxDeltaRevision_=-1,this.setCoordinates(e,t)};Object(a.g)(h,l.a),h.prototype.appendCoordinate=function(e){this.flatCoordinates?Object(r.c)(this.flatCoordinates,e):this.flatCoordinates=e.slice(),this.changed()},h.prototype.clone=function(){const e=new h(null);return e.setFlatCoordinates(this.layout,this.flatCoordinates.slice()),e},h.prototype.closestPointXY=function(e,t,o,a){return a<Object(i.e)(this.getExtent(),e,t)?a:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(Object(d.e)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),Object(d.d)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!1,e,t,o,a))},h.prototype.forEachSegment=function(e){return Object(y.a)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e)},h.prototype.getCoordinateAtM=function(e,t){if(this.layout!=n.a.XYM&&this.layout!=n.a.XYZM)return null;return Object(_.b)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e,t!==void 0&&t)},h.prototype.getCoordinates=function(){return Object(g.a)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},h.prototype.getCoordinateAt=function(e,t){return Object(_.a)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e,t)},h.prototype.getLength=function(){return Object(u.a)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},h.prototype.getFlatMidpoint=function(){return this.flatMidpointRevision_!=this.getRevision()&&(this.flatMidpoint_=this.getCoordinateAt(.5,this.flatMidpoint_),this.flatMidpointRevision_=this.getRevision()),this.flatMidpoint_},h.prototype.getSimplifiedGeometryInternal=function(e){const t=[];t.length=Object(m.a)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e,t,0);const o=new h(null);return o.setFlatCoordinates(n.a.XY,t),o},h.prototype.getType=function(){return s.a.LINE_STRING},h.prototype.intersectsExtent=function(e){return Object(c.a)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e)},h.prototype.setCoordinates=function(e,t){e?(this.setLayout(t,e,1),!this.flatCoordinates&&(this.flatCoordinates=[]),this.flatCoordinates.length=Object(p.b)(this.flatCoordinates,0,e,this.stride),this.changed()):this.setFlatCoordinates(n.a.XY,null)},h.prototype.setFlatCoordinates=function(e,t){this.setFlatCoordinatesInternal(e,t),this.changed()},t.a=h},function(e,t,o){"use strict";function a(e,t,o,a){const r=e.getFlatCoordinates(),i=e.getLayout(),n=e.getStride(),l=e.getEnds(),d=r.length/n-1,p=a?a:0;for(let l=0;l<=d;++l){const e=l*n,a=p+2*Object(R.d)(l,d)*s/d;r[e]=t[0]+o*Math.cos(a),r[e+1]=t[1]+o*Math.sin(a)}e.setFlatCoordinates(i,r,l)}var r=Math.sqrt,s=Math.PI;t.a=function(e,t,o,a){const r=o?o:32,n=[];for(let d=0;d<r;++d)Object(l.c)(n,Object(u.d)(e,t,2*s*d/r,a));n.push(n[0],n[1]);const i=new I(null);return i.setFlatCoordinates(d.a.XY,n,[n.length]),i},t.d=function(e){const t=e[0],o=e[1],a=e[2],r=e[3],i=[t,o,t,r,a,r,a,o,t,o],n=new I(null);return n.setFlatCoordinates(d.a.XY,i,[i.length]),n},t.c=function(e,t,o){const r=t?t:32,i=e.getStride(),n=e.getLayout(),s=new I(null,n),l=i*(r+1),d=Array(l);for(let a=0;a<l;a++)d[a]=0;const p=[d.length];return s.setFlatCoordinates(n,d,p),a(s,e.getCenter(),e.getRadius(),o),s},t.e=a;var i=o(0),l=o(13),n=o(3),d=o(30),p=o(22),g=o(156),_=o(21),c=o(44),u=o(157),y=o(132),m=o(110),h=o(111),f=o(64),x=o(73),E=o(158),C=o(133),T=o(88),S=o(87),R=o(17);const I=function(e,t){c.a.call(this),this.ends_=[],this.flatInteriorPointRevision_=-1,this.flatInteriorPoint_=null,this.maxDelta_=-1,this.maxDeltaRevision_=-1,this.orientedRevision_=-1,this.orientedFlatCoordinates_=null,this.setCoordinates(e,t)};Object(i.g)(I,c.a),I.prototype.appendLinearRing=function(e){this.flatCoordinates?Object(l.c)(this.flatCoordinates,e.getFlatCoordinates()):this.flatCoordinates=e.getFlatCoordinates().slice(),this.ends_.push(this.flatCoordinates.length),this.changed()},I.prototype.clone=function(){const e=new I(null);return e.setFlatCoordinates(this.layout,this.flatCoordinates.slice(),this.ends_.slice()),e},I.prototype.closestPointXY=function(e,t,o,a){return a<Object(n.e)(this.getExtent(),e,t)?a:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=r(Object(m.a)(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),Object(m.b)(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,!0,e,t,o,a))},I.prototype.containsXY=function(e,t){return Object(h.c)(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,e,t)},I.prototype.getArea=function(){return Object(y.b)(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride)},I.prototype.getCoordinates=function(e){let t;return void 0===e?t=this.flatCoordinates:(t=this.getOrientedFlatCoordinates().slice(),Object(T.d)(t,0,this.ends_,this.stride,e)),Object(x.b)(t,0,this.ends_,this.stride)},I.prototype.getEnds=function(){return this.ends_},I.prototype.getFlatInteriorPoint=function(){if(this.flatInteriorPointRevision_!=this.getRevision()){const e=Object(n.x)(this.getExtent());this.flatInteriorPoint_=Object(E.a)(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,e,0),this.flatInteriorPointRevision_=this.getRevision()}return this.flatInteriorPoint_},I.prototype.getInteriorPoint=function(){return new _.a(this.getFlatInteriorPoint(),d.a.XYM)},I.prototype.getLinearRingCount=function(){return this.ends_.length},I.prototype.getLinearRing=function(e){if(0>e||this.ends_.length<=e)return null;const t=new g.a(null);return t.setFlatCoordinates(this.layout,this.flatCoordinates.slice(0===e?0:this.ends_[e-1],this.ends_[e])),t},I.prototype.getLinearRings=function(){const e=this.layout,t=this.flatCoordinates,o=this.ends_,a=[];let r=0;for(let n=0,i=o.length;n<i;++n){const i=o[n],s=new g.a(null);s.setFlatCoordinates(e,t.slice(r,i)),a.push(s),r=i}return a},I.prototype.getOrientedFlatCoordinates=function(){if(this.orientedRevision_!=this.getRevision()){const e=this.flatCoordinates;Object(T.b)(e,0,this.ends_,this.stride)?this.orientedFlatCoordinates_=e:(this.orientedFlatCoordinates_=e.slice(),this.orientedFlatCoordinates_.length=Object(T.d)(this.orientedFlatCoordinates_,0,this.ends_,this.stride)),this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_},I.prototype.getSimplifiedGeometryInternal=function(e){const t=[],o=[];t.length=Object(S.c)(this.flatCoordinates,0,this.ends_,this.stride,r(e),t,0,o);const a=new I(null);return a.setFlatCoordinates(d.a.XY,t,o),a},I.prototype.getType=function(){return p.a.POLYGON},I.prototype.intersectsExtent=function(e){return Object(C.c)(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,e)},I.prototype.setCoordinates=function(e,t){if(!e)this.setFlatCoordinates(d.a.XY,null,this.ends_);else{this.setLayout(t,e,2),this.flatCoordinates||(this.flatCoordinates=[]);const o=Object(f.c)(this.flatCoordinates,0,e,this.stride,this.ends_);this.flatCoordinates.length=0===o.length?0:o[o.length-1],this.changed()}},I.prototype.setFlatCoordinates=function(e,t,o){this.setFlatCoordinatesInternal(e,t),this.ends_=o,this.changed()},t.b=I},function(e,t){"use strict";t.a={XY:"XY",XYZ:"XYZ",XYM:"XYM",XYZM:"XYZM"}},function(e,t,o){"use strict";var a=o(0),r=o(93),i=o(3),n=o(175),s=o(4),l=o(45),d=o(68),p=o(49),g=o(69);const _=function(e){this.hidpi_=e.hidpi!==void 0&&e.hidpi,d.a.call(this,{cacheSize:e.cacheSize,crossOrigin:"anonymous",opaque:!0,projection:Object(s.h)("EPSG:3857"),reprojectionErrorThreshold:e.reprojectionErrorThreshold,state:l.a.LOADING,tileLoadFunction:e.tileLoadFunction,tilePixelRatio:this.hidpi_?2:1,wrapX:!(e.wrapX!==void 0)||e.wrapX,transition:e.transition}),this.culture_=e.culture===void 0?"en-us":e.culture,this.maxZoom_=e.maxZoom===void 0?-1:e.maxZoom,this.apiKey_=e.key,this.imagerySet_=e.imagerySet;const t="https://dev.virtualearth.net/REST/v1/Imagery/Metadata/"+this.imagerySet_+"?uriScheme=https&include=ImageryProviders&key="+this.apiKey_+"&c="+this.culture_;Object(n.a)(t,this.handleImageryMetadataResponse.bind(this),void 0,"jsonp")};Object(a.g)(_,d.a);_.prototype.getApiKey=function(){return this.apiKey_},_.prototype.getImagerySet=function(){return this.imagerySet_},_.prototype.handleImageryMetadataResponse=function(e){if(200!=e.statusCode||"OK"!=e.statusDescription||"ValidCredentials"!=e.authenticationResultCode||1!=e.resourceSets.length||1!=e.resourceSets[0].resources.length)return void this.setState(l.a.ERROR);const t=e.resourceSets[0].resources[0],o=-1==this.maxZoom_?t.zoomMax:this.maxZoom_,a=this.getProjection(),n=Object(g.c)(a),d=t.imageWidth==t.imageHeight?t.imageWidth:[t.imageWidth,t.imageHeight],_=Object(g.b)({extent:n,minZoom:t.zoomMin,maxZoom:o,tileSize:d/(this.hidpi_?2:1)});this.tileGrid=_;const c=this.culture_,u=this.hidpi_;if(this.tileUrlFunction=Object(r.b)(t.imageUrlSubdomains.map(function(e){const o=[0,0,0],a=t.imageUrl.replace("{subdomain}",e).replace("{culture}",c);return function(e){if(!e)return;else{Object(p.a)(e[0],e[1],-e[2]-1,o);let t=a;return u&&(t+="&dpi=d1&device=mobile"),t.replace("{quadkey}",Object(p.f)(o))}}})),t.imageryProviders){const e=Object(s.k)(Object(s.h)("EPSG:4326"),this.getProjection());this.setAttributions(function(o){const a=[],r=o.viewState.zoom;return t.imageryProviders.map(function(t){let n=!1;const s=t.coverageAreas;for(let a=0,l=s.length;a<l;++a){const t=s[a];if(r>=t.zoomMin&&r<=t.zoomMax){const a=t.bbox,r=[a[1],a[0],a[3],a[2]],s=Object(i.a)(r,e);if(Object(i.F)(s,o.extent)){n=!0;break}}}n&&a.push(t.attribution)}),a.push("<a class=\"ol-attribution-bing-tos\" href=\"https://www.microsoft.com/maps/product/terms.html\">Terms of Use</a>"),a})}this.setState(l.a.READY)},t.a=_},function(e,t,o){"use strict";function a(e){return g.hasOwnProperty(e)?g[e]:g[e]="change:"+e}t.b=a;var r=o(0),i=o(107),n=o(108),s=o(33),l=o(10);const d=function(e,t,o){s.a.call(this,e),this.key=t,this.oldValue=o};Object(r.g)(d,s.a);const p=function(e){n.a.call(this),Object(r.f)(this),this.values_={},e!==void 0&&this.setProperties(e)};Object(r.g)(p,n.a);const g={};p.prototype.get=function(e){let t;return this.values_.hasOwnProperty(e)&&(t=this.values_[e]),t},p.prototype.getKeys=function(){return Object.keys(this.values_)},p.prototype.getProperties=function(){return Object(l.a)({},this.values_)},p.prototype.notify=function(e,t){let o;o=a(e),this.dispatchEvent(new d(o,e,t)),o=i.a.PROPERTYCHANGE,this.dispatchEvent(new d(o,e,t))},p.prototype.set=function(e,t,o){if(o)this.values_[e]=t;else{const o=this.values_[e];this.values_[e]=t,o!==t&&this.notify(e,o)}},p.prototype.setProperties=function(e,t){for(const o in e)this.set(o,e[o],t)},p.prototype.unset=function(e,t){if(e in this.values_){const o=this.values_[e];delete this.values_[e],t||this.notify(e,o)}},t.a=p},function(e,t){"use strict";t.b=function(e){e.stopPropagation()};const o=function(e){this.propagationStopped,this.type=e,this.target=null};o.prototype.preventDefault=o.prototype.stopPropagation=function(){this.propagationStopped=!0},t.a=o},function(e,t,o){"use strict";t.l=function(e){const t=e?e:{},o=new a.b,u=new r.a(-.005,.05,100),y=void 0===t.altShiftDragRotate||t.altShiftDragRotate;y&&o.push(new s.a);const m=void 0===t.doubleClickZoom||t.doubleClickZoom;m&&o.push(new i.a({delta:t.zoomDelta,duration:t.zoomDuration}));const h=void 0===t.dragPan||t.dragPan;h&&o.push(new n.a({kinetic:u}));const f=void 0===t.pinchRotate||t.pinchRotate;f&&o.push(new _.a);const x=void 0===t.pinchZoom||t.pinchZoom;x&&o.push(new c.a({constrainResolution:t.constrainResolution,duration:t.zoomDuration}));const E=void 0===t.keyboard||t.keyboard;E&&(o.push(new d.a),o.push(new p.a({delta:t.zoomDelta,duration:t.zoomDuration})));const C=void 0===t.mouseWheelZoom||t.mouseWheelZoom;C&&o.push(new g.a({constrainResolution:t.constrainResolution,duration:t.zoomDuration}));const T=void 0===t.shiftDragZoom||t.shiftDragZoom;return T&&o.push(new l.a({duration:t.zoomDuration})),o};var a=o(62),r=o(301),i=o(216),n=o(217),s=o(218),l=o(219),d=o(221),p=o(222),g=o(223),_=o(224),c=o(225),u=o(304);o.d(t,"a",function(){return u.a});var y=o(220);o.d(t,"b",function(){return y.a});var m=o(305);o.d(t,"c",function(){return m.a});var h=o(80);o.d(t,"d",function(){return h.c});var f=o(232),x=o(47),E=o(307);o.d(t,"e",function(){return E.a}),o.d(t,"f",function(){return g.a}),o.d(t,"g",function(){return c.a});var C=o(48);o.d(t,"h",function(){return C.b});var T=o(166);o.d(t,"i",function(){return T.a});var S=o(308);o.d(t,"j",function(){return S.a});var R=o(309);o.d(t,"k",function(){return R.a})},function(e,t){"use strict";t.a={IDLE:0,LOADING:1,LOADED:2,ERROR:3,EMPTY:4,ABORT:5}},function(e,t,o){"use strict";t.b=function(e,t,o){const r=o?Object(i.h)(o.featureProjection):null,n=o?Object(i.h)(o.dataProjection):null;let s;if(s=r&&n&&!Object(i.f)(r,n)?e instanceof a.a?(t?e.clone():e).transform(t?r:n,t?n:r):Object(i.o)(e,n,r):e,t&&o&&void 0!==o.decimals){const t=Math.pow(10,o.decimals);s===e&&(s=s.clone()),s.applyTransform(function(e){for(let o=0,a=e.length;o<a;++o)e[o]=Math.round(e[o]*t)/t;return e})}return s};var a=o(72),r=o(10),i=o(4);const n=function(){this.defaultDataProjection=null,this.defaultFeatureProjection=null};n.prototype.getReadOptions=function(e,t){let o;return t&&(o={dataProjection:t.dataProjection?t.dataProjection:this.readProjection(e),featureProjection:t.featureProjection}),this.adaptOptions(o)},n.prototype.adaptOptions=function(e){return Object(r.a)({dataProjection:this.defaultDataProjection,featureProjection:this.defaultFeatureProjection},e)},n.prototype.getLastExtent=function(){return null},n.prototype.getType=function(){},n.prototype.readFeature=function(){},n.prototype.readFeatures=function(){},n.prototype.readGeometry=function(){},n.prototype.readProjection=function(){},n.prototype.writeFeature=function(){},n.prototype.writeFeatures=function(){},n.prototype.writeGeometry=function(){},t.a=n},function(e,t,o){"use strict";var a=o(0);const r="undefined"==typeof navigator?"":navigator.userAgent.toLowerCase(),i=-1!==r.indexOf("firefox");t.c=i;const n=-1!==r.indexOf("safari")&&-1==r.indexOf("chrom");t.h=n;const s=-1!==r.indexOf("webkit")&&-1==r.indexOf("edge");t.k=s;const l=-1!==r.indexOf("macintosh");t.e=l;const d=window.devicePixelRatio||1;t.b=d;const p=function(){let e=!1;try{e=!!document.createElement("CANVAS").getContext("2d").setLineDash}catch(t){}return e}();t.a=p;const g="geolocation"in navigator;t.d=g;const _="ontouchstart"in window;t.i=_;const c="PointerEvent"in window;t.g=c;const u=!!navigator.msPointerEnabled;t.f=u;const y=a.b;t.j=y},function(e,t,o){"use strict";var a=o(71),r=o(19),i=o(18),n=o(37);t.a=function(e){const t=e.originalEvent;return t.altKey&&!(t.metaKey||t.ctrlKey)&&!t.shiftKey};t.b=function(e){const t=e.originalEvent;return t.altKey&&!(t.metaKey||t.ctrlKey)&&t.shiftKey};t.e=function(e){return e.target.getTargetElement()===document.activeElement};const s=i.b;t.c=s;t.d=function(e){return e.type==a.a.CLICK};t.f=function(e){const t=e.originalEvent;return 0==t.button&&!(n.k&&n.e&&t.ctrlKey)};const l=i.a;t.h=l;t.k=function(e){return"pointermove"==e.type};t.n=function(e){return e.type==a.a.SINGLECLICK};t.i=function(e){const t=e.originalEvent;return!t.altKey&&!(t.metaKey||t.ctrlKey)&&!t.shiftKey};t.j=function(e){const t=e.originalEvent;return!t.altKey&&(n.e?t.metaKey:t.ctrlKey)&&!t.shiftKey};t.m=function(e){const t=e.originalEvent;return!t.altKey&&!(t.metaKey||t.ctrlKey)&&t.shiftKey};t.o=function(e){const t=e.originalEvent.target,o=t.tagName;return"INPUT"!==o&&"SELECT"!==o&&"TEXTAREA"!==o};t.g=function(e){return Object(r.a)(e.pointerEvent,56),"mouse"==e.pointerEvent.pointerType};t.l=function(e){const t=e.pointerEvent;return t.isPrimary&&0===t.button}},function(e,t){"use strict";t.H=function(e,t){const a=o.length;for(let r=0;r<a;++r)try{const a=e.getContext(o[r],t);if(a)return a}catch(t){}return null};t.n=1;t.r=770;t.d=36064;t.e=16384;t.B=4;t.C=5;t.o=771;t.a=34962;t.i=34963;t.u=35040;t.s=35044;t.h=35048;t.f=2884;t.b=3042;t.t=2960;t.g=2929;t.q=3089;t.D=5121;t.F=5123;t.E=5125;t.j=5126;t.p=6408;t.k=35632;t.G=35633;t.m=9729;t.x=10240;t.y=10241;t.z=10242;t.A=10243;t.w=3553;t.v=33984;t.c=33071;t.l=36160;const o=["experimental-webgl","webgl","webkit-3d","moz-webgl"]},function(e,t){"use strict";t.a={ANIMATING:0,INTERACTING:1}},function(e,t,o){"use strict";function a(e,t){const o=e[0],a=e[1],r=t[0],i=t[1],n=r[0],s=r[1],l=i[0],d=i[1],p=l-n,g=d-s,_=0===p&&0===g?0:(p*(o-n)+g*(a-s))/(p*p+g*g||0);let c,u;return 0>=_?(c=n,u=s):1<=_?(c=l,u=d):(c=n+_*p,u=s+_*g),[c,u]}function r(e,t,o){const a=Object(_.d)(t+180,360)-180,r=Math.abs(3600*a),i=o||0,n=Math.pow(10,i);let s=g(r/3600),l=g((r-3600*s)/60),d=r-3600*s-60*l;return d=Math.ceil(d*n)/n,60<=d&&(d=0,l+=1),60<=l&&(l=0,s+=1),s+"\xB0 "+Object(c.b)(l,2)+"\u2032 "+Object(c.b)(d,2,i)+"\u2033"+(0==a?"":" "+e.charAt(0>a?1:0))}function i(e,t,o){return e?t.replace("{x}",e[0].toFixed(o)).replace("{y}",e[1].toFixed(o)):""}function n(e,t){let o=!0;for(let a=e.length-1;0<=a;--a)if(e[a]!=t[a]){o=!1;break}return o}function s(e,t){return e[0]*=t,e[1]*=t,e}function l(e,t){const o=e[0]-t[0],a=e[1]-t[1];return o*o+a*a}function d(e,t){return i(e,"{x}, {y}",t)}var p=Math.sqrt,g=Math.floor;t.a=function(e,t){return e[0]+=t[0],e[1]+=t[1],e},t.b=function(e,t){const o=t.getRadius(),a=t.getCenter(),r=a[0],i=a[1],n=e[0],s=e[1];let l=n-r;const g=s-i;0==l&&0==g&&(l=1);const _=p(l*l+g*g),d=r+o*l/_;return[d,i+o*g/_]},t.c=a,t.d=function(e){return function(t){return d(t,e)}},t.e=r,t.g=n,t.h=function(e,t){const o=Math.cos(t),a=Math.sin(t),r=e[0]*o-e[1]*a,i=e[1]*o+e[0]*a;return e[0]=r,e[1]=i,e},t.i=s,t.j=l,t.f=function(e,t){return p(l(e,t))},t.k=function(e,t){return l(e,a(e,t))},t.l=function(e,t){return e?r("NS",e[1],t)+" "+r("EW",e[0],t):""};var _=o(17),c=o(131)},function(e,t,o){"use strict";var a=o(0),r=o(68),i=o(69);const n=function(e){const t=e||{},o=t.projection===void 0?"EPSG:3857":t.projection,a=t.tileGrid===void 0?Object(i.b)({extent:Object(i.c)(o),maxZoom:t.maxZoom,minZoom:t.minZoom,tileSize:t.tileSize}):t.tileGrid;r.a.call(this,{attributions:t.attributions,cacheSize:t.cacheSize,crossOrigin:t.crossOrigin,opaque:t.opaque,projection:o,reprojectionErrorThreshold:t.reprojectionErrorThreshold,tileGrid:a,tileLoadFunction:t.tileLoadFunction,tilePixelRatio:t.tilePixelRatio,tileUrlFunction:t.tileUrlFunction,url:t.url,urls:t.urls,wrapX:!(t.wrapX!==void 0)||t.wrapX,transition:t.transition})};Object(a.g)(n,r.a),t.a=n},function(e,t,o){"use strict";function a(e,t){return d.createElementNS(e,t)}function r(e,t,o){if(e.nodeType==Node.CDATA_SECTION_NODE||e.nodeType==Node.TEXT_NODE)t?o.push((e.nodeValue+"").replace(/(\r\n|\r|\n)/g,"")):o.push(e.nodeValue);else{let a;for(a=e.firstChild;a;a=a.nextSibling)r(a,t,o)}return o}function i(e,t){const o=e;return function(e,r,i){const n=r[r.length-1],s=n.node;let l=o;void 0===l&&(l=i);let d=t;return void 0===t&&(d=s.namespaceURI),a(d,l)}}function n(e,t,o,a){let r;for(r=t.firstElementChild;r;r=r.nextElementSibling){const t=e[r.namespaceURI];if(t!==void 0){const e=t[r.localName];e!==void 0&&e.call(a,r,o)}}}function s(e,t,o,a,r,n){const s=(r===void 0?o:r).length;let l,d;for(let p=0;p<s;++p)l=o[p],void 0!==l&&(d=t.call(void 0===n?this:n,l,a,void 0===r?void 0:r[p]),void 0!==d&&e[d.namespaceURI][d.localName].call(n,d,l,a))}t.d=a,t.e=function(e,t){return r(e,t,[]).join("")},t.g=function(e){return e instanceof Document},t.h=function(e){return e instanceof Node},t.f=function(e,t,o){return e.getAttributeNS(t,o)||""},t.s=function(e){return new DOMParser().parseFromString(e,"application/xml")},t.i=function(e,t){return function(o,a){const r=e.call(t===void 0?this:t,o,a);if(r!==void 0){const e=a[a.length-1];Object(l.c)(e,r)}}},t.j=function(e,t){return function(o,a){const r=e.call(t===void 0?this:t,o,a);if(r!==void 0){const e=a[a.length-1];e.push(r)}}},t.o=function(e,t){return function(o,a){const r=e.call(t===void 0?this:t,o,a);r!==void 0&&(a[a.length-1]=r)}},t.m=function(e,t,o){return function(a,r){const i=e.call(o===void 0?this:o,a,r);if(i!==void 0){const e=r[r.length-1],o=t===void 0?a.localName:t;let n;n=o in e?e[o]:e[o]=[],n.push(i)}}},t.n=function(e,t,o){return function(a,r){const i=e.call(o===void 0?this:o,a,r);if(i!==void 0){const e=r[r.length-1],o=t===void 0?a.localName:t;e[o]=i}}},t.l=function(e,t){return function(o,a,r){e.call(t===void 0?this:t,o,a,r);const i=r[r.length-1],n=i.node;n.appendChild(o)}},t.k=function(e){let t,o;return function(a,r,n){if(t===void 0){t={};const r={};r[a.localName]=e,t[a.namespaceURI]=r,o=i(a.localName)}s(t,o,r,n)}},t.q=i,t.p=function(e,t){const o=t.length,a=Array(o);for(let r=0;r<o;++r)a[r]=e[t[r]];return a},t.r=function(e,t,o){const a=o===void 0?{}:o;let r,i;for(r=0,i=e.length;r<i;++r)a[e[r]]=t;return a},t.t=n,t.u=function(e,t,o,a,r){return a.push(e),n(t,o,a,r),a.pop()},t.v=function(e,t,o,a,r,i,n){return r.push(e),s(t,o,a,r,i,n),r.pop()};var l=o(13);const d=document.implementation.createDocument("","",null);t.a=d;t.c="http://www.w3.org/2001/XMLSchema-instance";const p=i();t.b=p},function(e,t,o){"use strict";function a(e){let t;return 2==e?t=d.a.XY:3==e?t=d.a.XYZ:4==e&&(t=d.a.XYZM),t}function r(e){let t;return e==d.a.XY?t=2:e==d.a.XYZ||e==d.a.XYM?t=3:e==d.a.XYZM&&(t=4),t}t.b=r,t.c=function(e,t,o){const a=e.getFlatCoordinates();if(!a)return null;else{const r=e.getStride();return Object(p.c)(a,0,a.length,r,t,o)}};var i=o(0),n=o(18),s=o(3),l=o(72),d=o(30),p=o(63),g=o(10);const _=function(){l.a.call(this),this.layout=d.a.XY,this.stride=2,this.flatCoordinates=null};Object(i.g)(_,l.a),_.prototype.containsXY=n.a,_.prototype.computeExtent=function(e){return Object(s.o)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e)},_.prototype.getCoordinates=function(){},_.prototype.getFirstCoordinate=function(){return this.flatCoordinates.slice(0,this.stride)},_.prototype.getFlatCoordinates=function(){return this.flatCoordinates},_.prototype.getLastCoordinate=function(){return this.flatCoordinates.slice(this.flatCoordinates.length-this.stride)},_.prototype.getLayout=function(){return this.layout},_.prototype.getSimplifiedGeometry=function(e){if(this.simplifiedGeometryRevision!=this.getRevision()&&(Object(g.b)(this.simplifiedGeometryCache),this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=this.getRevision()),0>e||0!==this.simplifiedGeometryMaxMinSquaredTolerance&&e<=this.simplifiedGeometryMaxMinSquaredTolerance)return this;const t=e.toString();if(this.simplifiedGeometryCache.hasOwnProperty(t))return this.simplifiedGeometryCache[t];else{const o=this.getSimplifiedGeometryInternal(e),a=o.getFlatCoordinates();return a.length<this.flatCoordinates.length?(this.simplifiedGeometryCache[t]=o,o):(this.simplifiedGeometryMaxMinSquaredTolerance=e,this)}},_.prototype.getSimplifiedGeometryInternal=function(){return this},_.prototype.getStride=function(){return this.stride},_.prototype.setFlatCoordinatesInternal=function(e,t){this.stride=r(e),this.layout=e,this.flatCoordinates=t},_.prototype.setCoordinates=function(){},_.prototype.setLayout=function(e,t,o){let i;if(e)i=r(e);else{for(let e=0;e<o;++e){if(0===t.length)return this.layout=d.a.XY,void(this.stride=2);t=t[0]}i=t.length,e=a(i)}this.layout=e,this.stride=i},_.prototype.applyTransform=function(e){this.flatCoordinates&&(e(this.flatCoordinates,this.flatCoordinates,this.stride),this.changed())},_.prototype.rotate=function(e,t){const o=this.getFlatCoordinates();if(o){const a=this.getStride();Object(p.a)(o,0,o.length,a,e,t,o),this.changed()}},_.prototype.scale=function(e,t,o){let a=t;a===void 0&&(a=e);let r=o;r||(r=Object(s.x)(this.getExtent()));const i=this.getFlatCoordinates();if(i){const t=this.getStride();Object(p.b)(i,0,i.length,t,e,a,r,i),this.changed()}},_.prototype.translate=function(e,t){const o=this.getFlatCoordinates();if(o){const a=this.getStride();Object(p.d)(o,0,o.length,a,e,t,o),this.changed()}},t.a=_},function(e,t){"use strict";t.a={UNDEFINED:"undefined",LOADING:"loading",READY:"ready",ERROR:"error"}},function(e,t){"use strict";t.c="ol-hidden";t.d="ol-selectable";t.e="ol-unselectable";t.f="ol-unsupported";t.b="ol-control";t.a="ol-collapsed";const o=function(){let e;const t={};return function(o){if(e||(e=document.createElement("div").style),!(o in t)){e.font=o;const a=e.fontFamily;if(e.font="",!a)return null;t[o]=a.split(/,\s?/)}return t[o]}}();t.g=o},function(e,t,o){"use strict";function a(e,t,o,a){if(t!==void 0){const r=e.getRotation(),i=e.getCenter();r!==void 0&&i&&0<a?e.animate({rotation:t,anchor:o,duration:a,easing:s.b}):e.rotate(t,o)}}function r(e,t,o,a){if(t){const r=e.getResolution(),i=e.getCenter();if(r!==void 0&&i&&t!==r&&a)e.animate({resolution:t,anchor:o,duration:a,easing:s.b});else{if(o){const a=e.calculateCenterZoom(t,o);e.setCenter(a)}e.setResolution(t)}}}t.b=function(e,t,o){const a=e.getCenter();if(a){const r=e.constrainCenter([a[0]+t[0],a[1]+t[1]]);o?e.animate({duration:o,easing:s.d,center:r}):e.setCenter(r)}},t.c=function(e,t,o,r){t=e.constrainRotation(t,0),a(e,t,o,r)},t.d=a,t.e=function(e,t,o,a,i){t=e.constrainResolution(t,0,i),r(e,t,o,a)},t.f=function(e,t,o,a){const i=e.getResolution();let n=e.constrainResolution(i,t,0);if(n!==void 0){const t=e.getResolutions();n=Object(d.a)(n,e.getMinResolution()||t[t.length-1],e.getMaxResolution()||t[0])}if(o&&void 0!==n&&n!==i){const t=e.getCenter();let a=e.calculateCenterZoom(n,o);a=e.constrainCenter(a),o=[(n*t[0]-i*a[0])/(n-i),(n*t[1]-i*a[1])/(n-i)]}r(e,n,o,a)},t.g=r;var i=o(0),n=o(32),s=o(51),l=o(159),d=o(17);const p=function(e){n.a.call(this),this.map_=null,this.setActive(!0),this.handleEvent=e.handleEvent};Object(i.g)(p,n.a),p.prototype.getActive=function(){return this.get(l.a.ACTIVE)},p.prototype.getMap=function(){return this.map_},p.prototype.setActive=function(e){this.set(l.a.ACTIVE,e)},p.prototype.setMap=function(e){this.map_=e},t.a=p},function(e,t,o){"use strict";function a(e){const t=e.type;return t===s.a.POINTERDOWN||t===s.a.POINTERDRAG||t===s.a.POINTERUP}function r(e){if(!(e instanceof l.a))return!0;let t=!1;if(this.updateTrackedPointers_(e),this.handlingDownUpSequence){if(e.type==s.a.POINTERDRAG)this.handleDragEvent_(e);else if(e.type==s.a.POINTERUP){const t=this.handleUpEvent_(e);this.handlingDownUpSequence=t&&0<this.targetPointers.length}}else if(e.type==s.a.POINTERDOWN){const o=this.handleDownEvent_(e);this.handlingDownUpSequence=o,t=this.shouldStopEvent(o)}else e.type==s.a.POINTERMOVE&&this.handleMoveEvent_(e);return!t}t.a=function(e){const t=e.length;let o=0,a=0;for(let r=0;r<t;r++)o+=e[r].clientX,a+=e[r].clientY;return[o/t,a/t]},t.c=r;var i=o(0),n=o(18),s=o(71),l=o(109),d=o(47),p=o(10);const g=n.c,_=n.a,c=n.a,u=n.c,y=function(e){const t=e?e:{};d.a.call(this,{handleEvent:t.handleEvent||r}),this.handleDownEvent_=t.handleDownEvent?t.handleDownEvent:c,this.handleDragEvent_=t.handleDragEvent?t.handleDragEvent:g,this.handleMoveEvent_=t.handleMoveEvent?t.handleMoveEvent:u,this.handleUpEvent_=t.handleUpEvent?t.handleUpEvent:_,this.handlingDownUpSequence=!1,this.trackedPointers_={},this.targetPointers=[]};Object(i.g)(y,d.a),y.prototype.updateTrackedPointers_=function(e){if(a(e)){const t=e.pointerEvent,o=t.pointerId.toString();e.type==s.a.POINTERUP?delete this.trackedPointers_[o]:e.type==s.a.POINTERDOWN?this.trackedPointers_[o]=t:o in this.trackedPointers_&&(this.trackedPointers_[o]=t),this.targetPointers=Object(p.c)(this.trackedPointers_)}},y.prototype.shouldStopEvent=function(e){return e},t.b=y},function(e,t){"use strict";function o(e,t,o){return e+"/"+t+"/"+o}t.a=function(e,t,o,a){return void 0===a?[e,t,o]:(a[0]=e,a[1]=t,a[2]=o,a)},t.d=o,t.c=function(e){return o(e[0],e[1],e[2])},t.b=function(e){return e.split("/").map(Number)},t.e=function(e){return(e[1]<<e[0])+e[2]},t.f=function(e){const t=e[0],o=Array(t);let a=1<<t-1,r,i;for(r=0;r<t;++r)i=48,e[1]&a&&(i+=1),e[2]&a&&(i+=2),o[r]=String.fromCharCode(i),a>>=1;return o.join("")},t.g=function(e,t){const o=e[0],a=e[1],r=e[2];if(t.getMinZoom()>o||o>t.getMaxZoom())return!1;const i=t.getExtent();let n;return n=i?t.getTileRangeForExtentAndZ(i,o):t.getFullTileRange(o),!n||n.containsXY(a,r)}},function(e,t,o){"use strict";var a=o(0),r=o(93),i=o(19),n=o(3),s=o(175),l=o(4),d=o(45),p=o(68),g=o(69);const _=function(e){if(this.tileJSON_=null,p.a.call(this,{attributions:e.attributions,cacheSize:e.cacheSize,crossOrigin:e.crossOrigin,projection:Object(l.h)("EPSG:3857"),reprojectionErrorThreshold:e.reprojectionErrorThreshold,state:d.a.LOADING,tileLoadFunction:e.tileLoadFunction,wrapX:void 0===e.wrapX||e.wrapX,transition:e.transition}),!e.url)e.tileJSON?this.handleTileJSONResponse(e.tileJSON):Object(i.a)(!1,51);else if(e.jsonp)Object(s.a)(e.url,this.handleTileJSONResponse.bind(this),this.handleTileJSONError.bind(this));else{const t=new XMLHttpRequest;t.addEventListener("load",this.onXHRLoad_.bind(this)),t.addEventListener("error",this.onXHRError_.bind(this)),t.open("GET",e.url),t.send()}};Object(a.g)(_,p.a),_.prototype.onXHRLoad_=function(e){const t=e.target;if(!t.status||200<=t.status&&300>t.status){let e;try{e=JSON.parse(t.responseText)}catch(e){return void this.handleTileJSONError()}this.handleTileJSONResponse(e)}else this.handleTileJSONError()},_.prototype.onXHRError_=function(){this.handleTileJSONError()},_.prototype.getTileJSON=function(){return this.tileJSON_},_.prototype.handleTileJSONResponse=function(e){const t=Object(l.h)("EPSG:4326"),o=this.getProjection();let a;if(void 0!==e.bounds){const r=Object(l.k)(t,o);a=Object(n.a)(e.bounds,r)}const i=e.minzoom||0,s=e.maxzoom||22,p=Object(g.b)({extent:Object(g.c)(o),maxZoom:s,minZoom:i});if(this.tileGrid=p,this.tileUrlFunction=Object(r.a)(e.tiles,p),void 0!==e.attribution&&!this.getAttributions()){const o=void 0===a?t.getExtent():a;this.setAttributions(function(t){return Object(n.F)(o,t.extent)?[e.attribution]:null})}this.tileJSON_=e,this.setState(d.a.READY)},_.prototype.handleTileJSONError=function(){this.setState(d.a.ERROR)},t.a=_},function(e,t){"use strict";function o(e){return Math.pow(e,3)}t.a=o,t.b=function(e){return 1-o(1-e)},t.c=function(e){return 3*e*e-2*e*e*e},t.d=function(e){return e}},function(e,t,o){"use strict";var a=o(56);const r=function(e){this.code_=e.code,this.units_=e.units,this.extent_=e.extent===void 0?null:e.extent,this.worldExtent_=e.worldExtent===void 0?null:e.worldExtent,this.axisOrientation_=e.axisOrientation===void 0?"enu":e.axisOrientation,this.global_=e.global!==void 0&&e.global,this.canWrapX_=!!(this.global_&&this.extent_),this.getPointResolutionFunc_=e.getPointResolution,this.defaultTileGrid_=null,this.metersPerUnit_=e.metersPerUnit};r.prototype.canWrapX=function(){return this.canWrapX_},r.prototype.getCode=function(){return this.code_},r.prototype.getExtent=function(){return this.extent_},r.prototype.getUnits=function(){return this.units_},r.prototype.getMetersPerUnit=function(){return this.metersPerUnit_||a.a[this.units_]},r.prototype.getWorldExtent=function(){return this.worldExtent_},r.prototype.getAxisOrientation=function(){return this.axisOrientation_},r.prototype.isGlobal=function(){return this.global_},r.prototype.setGlobal=function(e){this.global_=e,this.canWrapX_=!!(e&&this.extent_)},r.prototype.getDefaultTileGrid=function(){return this.defaultTileGrid_},r.prototype.setDefaultTileGrid=function(e){this.defaultTileGrid_=e},r.prototype.setExtent=function(e){this.extent_=e,this.canWrapX_=!!(this.global_&&e)},r.prototype.setWorldExtent=function(e){this.worldExtent_=e},r.prototype.setGetPointResolution=function(e){this.getPointResolutionFunc_=e},r.prototype.getPointResolutionFunc=function(){return this.getPointResolutionFunc_},t.a=r},function(e,t,o){"use strict";var a=o(0),r=o(13),i=o(3),n=o(30),s=o(22),l=o(28),d=o(44),p=o(110),g=o(64),_=o(73),c=o(163),u=o(133),y=o(87);const m=function(e,t){d.a.call(this),this.ends_=[],this.maxDelta_=-1,this.maxDeltaRevision_=-1,this.setCoordinates(e,t)};Object(a.g)(m,d.a),m.prototype.appendLineString=function(e){this.flatCoordinates?Object(r.c)(this.flatCoordinates,e.getFlatCoordinates().slice()):this.flatCoordinates=e.getFlatCoordinates().slice(),this.ends_.push(this.flatCoordinates.length),this.changed()},m.prototype.clone=function(){const e=new m(null);return e.setFlatCoordinates(this.layout,this.flatCoordinates.slice(),this.ends_.slice()),e},m.prototype.closestPointXY=function(e,t,o,a){return a<Object(i.e)(this.getExtent(),e,t)?a:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(Object(p.a)(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),Object(p.b)(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,!1,e,t,o,a))},m.prototype.getCoordinateAtM=function(e,t,o){if(this.layout!=n.a.XYM&&this.layout!=n.a.XYZM||0===this.flatCoordinates.length)return null;return Object(c.c)(this.flatCoordinates,0,this.ends_,this.stride,e,t!==void 0&&t,o!==void 0&&o)},m.prototype.getCoordinates=function(){return Object(_.b)(this.flatCoordinates,0,this.ends_,this.stride)},m.prototype.getEnds=function(){return this.ends_},m.prototype.getLineString=function(e){if(0>e||this.ends_.length<=e)return null;const t=new l.a(null);return t.setFlatCoordinates(this.layout,this.flatCoordinates.slice(0===e?0:this.ends_[e-1],this.ends_[e])),t},m.prototype.getLineStrings=function(){const e=this.flatCoordinates,t=this.ends_,o=this.layout,a=[];let r=0;for(let n=0,i=t.length;n<i;++n){const i=t[n],s=new l.a(null);s.setFlatCoordinates(o,e.slice(r,i)),a.push(s),r=i}return a},m.prototype.getFlatMidpoints=function(){const e=[],t=this.flatCoordinates;let o=0;const a=this.ends_,n=this.stride;for(let s=0,i=a.length;s<i;++s){const i=a[s],l=Object(c.a)(t,o,i,n,.5);Object(r.c)(e,l),o=i}return e},m.prototype.getSimplifiedGeometryInternal=function(e){const t=[],o=[];t.length=Object(y.b)(this.flatCoordinates,0,this.ends_,this.stride,e,t,0,o);const a=new m(null);return a.setFlatCoordinates(n.a.XY,t,o),a},m.prototype.getType=function(){return s.a.MULTI_LINE_STRING},m.prototype.intersectsExtent=function(e){return Object(u.b)(this.flatCoordinates,0,this.ends_,this.stride,e)},m.prototype.setCoordinates=function(e,t){if(!e)this.setFlatCoordinates(n.a.XY,null,this.ends_);else{this.setLayout(t,e,2),this.flatCoordinates||(this.flatCoordinates=[]);const o=Object(g.c)(this.flatCoordinates,0,e,this.stride,this.ends_);this.flatCoordinates.length=0===o.length?0:o[o.length-1],this.changed()}},m.prototype.setFlatCoordinates=function(e,t,o){this.setFlatCoordinatesInternal(e,t),this.ends_=o,this.changed()},m.prototype.setLineStrings=function(e){let t=this.getLayout();const o=[],a=[];for(let n=0,i=e.length;n<i;++n){const i=e[n];0===n&&(t=i.getLayout()),Object(r.c)(o,i.getFlatCoordinates()),a.push(o.length)}this.setFlatCoordinates(t,o,a)},t.a=m},function(e,t,o){"use strict";var a=o(0),r=o(13),n=o(3),i=o(30),s=o(22),l=o(21),d=o(44),p=o(64),g=o(73),_=o(17);const c=function(e,t){d.a.call(this),this.setCoordinates(e,t)};Object(a.g)(c,d.a),c.prototype.appendPoint=function(e){this.flatCoordinates?Object(r.c)(this.flatCoordinates,e.getFlatCoordinates()):this.flatCoordinates=e.getFlatCoordinates().slice(),this.changed()},c.prototype.clone=function(){const e=new c(null);return e.setFlatCoordinates(this.layout,this.flatCoordinates.slice()),e},c.prototype.closestPointXY=function(e,t,o,a){if(a<Object(n.e)(this.getExtent(),e,t))return a;const r=this.flatCoordinates,s=this.stride;for(let n=0,i=r.length;n<i;n+=s){const i=Object(_.g)(e,t,r[n],r[n+1]);if(i<a){a=i;for(let e=0;e<s;++e)o[e]=r[n+e];o.length=s}}return a},c.prototype.getCoordinates=function(){return Object(g.a)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},c.prototype.getPoint=function(e){const t=this.flatCoordinates?this.flatCoordinates.length/this.stride:0;if(0>e||t<=e)return null;const o=new l.a(null);return o.setFlatCoordinates(this.layout,this.flatCoordinates.slice(e*this.stride,(e+1)*this.stride)),o},c.prototype.getPoints=function(){const e=this.flatCoordinates,t=this.layout,o=this.stride,a=[];for(let r=0,i=e.length;r<i;r+=o){const i=new l.a(null);i.setFlatCoordinates(t,e.slice(r,r+o)),a.push(i)}return a},c.prototype.getType=function(){return s.a.MULTI_POINT},c.prototype.intersectsExtent=function(e){const t=this.flatCoordinates,o=this.stride;for(let a=0,r=t.length;a<r;a+=o){const o=t[a],r=t[a+1];if(Object(n.h)(e,o,r))return!0}return!1},c.prototype.setCoordinates=function(e,t){e?(this.setLayout(t,e,1),!this.flatCoordinates&&(this.flatCoordinates=[]),this.flatCoordinates.length=Object(p.b)(this.flatCoordinates,0,e,this.stride),this.changed()):this.setFlatCoordinates(i.a.XY,null)},c.prototype.setFlatCoordinates=function(e,t){this.setFlatCoordinatesInternal(e,t),this.changed()},t.a=c},function(e,t){"use strict";t.a={IMAGE:"IMAGE",TILE:"TILE",VECTOR_TILE:"VECTOR_TILE",VECTOR:"VECTOR"}},function(e,t){"use strict";const o={DEGREES:"degrees",FEET:"ft",METERS:"m",PIXELS:"pixels",TILE_PIXELS:"tile-pixels",USFEET:"us-ft"},a={};t.a=a,a[o.DEGREES]=6370997*(2*Math.PI)/360,a[o.FEET]=.3048,a[o.METERS]=1,a[o.USFEET]=1200/3937,t.b=o},function(e,t){"use strict";t.a=function(e,t,o){return void 0===o&&(o=[0,0]),o[0]=e[0]+2*t,o[1]=e[1]+2*t,o},t.b=function(e){return 0<e[0]&&0<e[1]},t.c=function(e,t,o){return void 0===o&&(o=[0,0]),o[0]=0|e[0]*t+.5,o[1]=0|e[1]*t+.5,o},t.d=function(e,t){return Array.isArray(e)?e:(void 0===t?t=[e,e]:t[0]=t[1]=e,t)}},function(e,t,o){"use strict";var a=o(0),r=o(18),i=o(128),n=o(32),s=o(23),l=o(8);const d=function(e){n.a.call(this),this.element=e.element?e.element:null,this.target_=null,this.map_=null,this.listenerKeys=[],this.render=e.render?e.render:r.c,e.target&&this.setTarget(e.target)};Object(a.g)(d,n.a),d.prototype.disposeInternal=function(){Object(s.e)(this.element),n.a.prototype.disposeInternal.call(this)},d.prototype.getMap=function(){return this.map_},d.prototype.setMap=function(e){this.map_&&Object(s.e)(this.element);for(let t=0,o=this.listenerKeys.length;t<o;++t)Object(l.e)(this.listenerKeys[t]);if(this.listenerKeys.length=0,this.map_=e,this.map_){const t=this.target_?this.target_:e.getOverlayContainerStopEvent();t.appendChild(this.element),this.render!==r.c&&this.listenerKeys.push(Object(l.a)(e,i.a.POSTRENDER,this.render,this)),e.render()}},d.prototype.setTarget=function(e){this.target_="string"==typeof e?document.getElementById(e):e},t.a=d},function(e,t){"use strict";t.a={IDLE:0,LOADING:1,LOADED:2,ERROR:3}},function(e,t,o){"use strict";var a=Math.sqrt,r=o(0),n=o(13),i=o(3),s=o(30),l=o(22),d=o(54),p=o(29),g=o(44),_=o(132),c=o(229),u=o(110),m=o(111),y=o(64),h=o(73),f=o(158),x=o(133),E=o(88),C=o(87);const T=function(e,t){g.a.call(this),this.endss_=[],this.flatInteriorPointsRevision_=-1,this.flatInteriorPoints_=null,this.maxDelta_=-1,this.maxDeltaRevision_=-1,this.orientedRevision_=-1,this.orientedFlatCoordinates_=null,this.setCoordinates(e,t)};Object(r.g)(T,g.a),T.prototype.appendPolygon=function(e){let t;if(!this.flatCoordinates)this.flatCoordinates=e.getFlatCoordinates().slice(),t=e.getEnds().slice(),this.endss_.push();else{const o=this.flatCoordinates.length;Object(n.c)(this.flatCoordinates,e.getFlatCoordinates()),t=e.getEnds().slice();for(let e=0,a=t.length;e<a;++e)t[e]+=o}this.endss_.push(t),this.changed()},T.prototype.clone=function(){const e=new T(null),t=this.endss_.length,o=Array(t);for(let e=0;e<t;++e)o[e]=this.endss_[e].slice();return e.setFlatCoordinates(this.layout,this.flatCoordinates.slice(),o),e},T.prototype.closestPointXY=function(e,t,o,r){return r<Object(i.e)(this.getExtent(),e,t)?r:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=a(Object(u.f)(this.flatCoordinates,0,this.endss_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),Object(u.c)(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,this.maxDelta_,!0,e,t,o,r))},T.prototype.containsXY=function(e,t){return Object(m.d)(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,e,t)},T.prototype.getArea=function(){return Object(_.c)(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride)},T.prototype.getCoordinates=function(e){let t;return void 0===e?t=this.flatCoordinates:(t=this.getOrientedFlatCoordinates().slice(),Object(E.e)(t,0,this.endss_,this.stride,e)),Object(h.c)(t,0,this.endss_,this.stride)},T.prototype.getEndss=function(){return this.endss_},T.prototype.getFlatInteriorPoints=function(){if(this.flatInteriorPointsRevision_!=this.getRevision()){const e=Object(c.a)(this.flatCoordinates,0,this.endss_,this.stride);this.flatInteriorPoints_=Object(f.b)(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,e),this.flatInteriorPointsRevision_=this.getRevision()}return this.flatInteriorPoints_},T.prototype.getInteriorPoints=function(){const e=new d.a(null);return e.setFlatCoordinates(s.a.XYM,this.getFlatInteriorPoints().slice()),e},T.prototype.getOrientedFlatCoordinates=function(){if(this.orientedRevision_!=this.getRevision()){const e=this.flatCoordinates;Object(E.c)(e,0,this.endss_,this.stride)?this.orientedFlatCoordinates_=e:(this.orientedFlatCoordinates_=e.slice(),this.orientedFlatCoordinates_.length=Object(E.e)(this.orientedFlatCoordinates_,0,this.endss_,this.stride)),this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_},T.prototype.getSimplifiedGeometryInternal=function(e){const t=[],o=[];t.length=Object(C.d)(this.flatCoordinates,0,this.endss_,this.stride,a(e),t,0,o);const r=new T(null);return r.setFlatCoordinates(s.a.XY,t,o),r},T.prototype.getPolygon=function(e){if(0>e||this.endss_.length<=e)return null;let t;if(0===e)t=0;else{const o=this.endss_[e-1];t=o[o.length-1]}const o=this.endss_[e].slice(),a=o[o.length-1];if(0!==t)for(let e=0,a=o.length;e<a;++e)o[e]-=t;const r=new p.b(null);return r.setFlatCoordinates(this.layout,this.flatCoordinates.slice(t,a),o),r},T.prototype.getPolygons=function(){const e=this.layout,t=this.flatCoordinates,o=this.endss_,a=[];let r=0;for(let n=0,i=o.length;n<i;++n){const i=o[n].slice(),s=i[i.length-1];if(0!==r)for(let e=0,t=i.length;e<t;++e)i[e]-=r;const l=new p.b(null);l.setFlatCoordinates(e,t.slice(r,s),i),a.push(l),r=s}return a},T.prototype.getType=function(){return l.a.MULTI_POLYGON},T.prototype.intersectsExtent=function(e){return Object(x.d)(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,e)},T.prototype.setCoordinates=function(e,t){if(!e)this.setFlatCoordinates(s.a.XY,null,this.endss_);else{this.setLayout(t,e,3),this.flatCoordinates||(this.flatCoordinates=[]);const o=Object(y.d)(this.flatCoordinates,0,e,this.stride,this.endss_);if(0===o.length)this.flatCoordinates.length=0;else{const e=o[o.length-1];this.flatCoordinates.length=0===e.length?0:e[e.length-1]}this.changed()}},T.prototype.setFlatCoordinates=function(e,t,o){this.setFlatCoordinatesInternal(e,t),this.endss_=o,this.changed()},T.prototype.setPolygons=function(e){let t=this.getLayout();const o=[],a=[];for(let r=0,i=e.length;r<i;++r){const i=e[r];0===r&&(t=i.getLayout());const s=o.length,l=i.getEnds();for(let e=0,t=l.length;e<t;++e)l[e]+=s;Object(n.c)(o,i.getFlatCoordinates()),a.push(l)}this.setFlatCoordinates(t,o,a)},t.a=T},function(e,t,o){"use strict";var a=Math.floor,r=o(252),i=o(0),n=o(19),s=o(3),l=o(10),d=o(17),p=o(4),g=o(138),_=o(57),c=o(68),u=o(253),y=o(49),m=o(131),h=o(96);const f=function(e){const t=e||{},o=t.params||{},a=!("TRANSPARENT"in o)||o.TRANSPARENT;c.a.call(this,{attributions:t.attributions,cacheSize:t.cacheSize,crossOrigin:t.crossOrigin,opaque:!a,projection:t.projection,reprojectionErrorThreshold:t.reprojectionErrorThreshold,tileClass:t.tileClass,tileGrid:t.tileGrid,tileLoadFunction:t.tileLoadFunction,url:t.url,urls:t.urls,wrapX:!(t.wrapX!==void 0)||t.wrapX,transition:t.transition}),this.gutter_=t.gutter===void 0?0:t.gutter,this.params_=o,this.v13_=!0,this.serverType_=t.serverType,this.hidpi_=!(t.hidpi!==void 0)||t.hidpi,this.tmpExtent_=Object(s.j)(),this.updateV13_(),this.setKey(this.getKeyForParams_())};Object(i.g)(f,c.a),f.prototype.getGetFeatureInfoUrl=function(e,t,o,i){const n=Object(p.h)(o),d=this.getProjection();let c=this.getTileGrid();c||(c=this.getTileGridForProjection(n));const u=c.getTileCoordForCoordAndResolution(e,t);if(c.getResolutions().length<=u[0])return;let m=c.getResolution(u[0]),h=c.getTileCoordExtent(u,this.tmpExtent_),f=Object(_.d)(c.getTileSize(u[0]),this.tmpSize);const E=this.gutter_;0!==E&&(f=Object(_.a)(f,E,this.tmpSize),h=Object(s.c)(h,m*E,h)),d&&d!==n&&(m=Object(g.a)(d,n,e,m),h=Object(p.o)(h,n,d),e=Object(p.n)(e,n,d));const C={SERVICE:"WMS",VERSION:r.a,REQUEST:"GetFeatureInfo",FORMAT:"image/png",TRANSPARENT:!0,QUERY_LAYERS:this.params_.LAYERS};Object(l.a)(C,this.params_,i);const T=a((e[0]-h[0])/m),x=a((h[3]-e[1])/m);return C[this.v13_?"I":"X"]=T,C[this.v13_?"J":"Y"]=x,this.getRequestUrl_(u,f,h,1,d||n,C)},f.prototype.getGutterInternal=function(){return this.gutter_},f.prototype.getParams=function(){return this.params_},f.prototype.getRequestUrl_=function(e,t,o,a,r,i){const s=this.urls;if(!s)return;if(i.WIDTH=t[0],i.HEIGHT=t[1],i[this.v13_?"CRS":"SRS"]=r.getCode(),"STYLES"in this.params_||(i.STYLES=""),1!=a)switch(this.serverType_){case u.a.GEOSERVER:const e=0|90*a+.5;"FORMAT_OPTIONS"in i?i.FORMAT_OPTIONS+=";dpi:"+e:i.FORMAT_OPTIONS="dpi:"+e;break;case u.a.MAPSERVER:i.MAP_RESOLUTION=90*a;break;case u.a.CARMENTA_SERVER:case u.a.QGIS:i.DPI=90*a;break;default:Object(n.a)(!1,52);}const l=r.getAxisOrientation(),p=o;if(this.v13_&&"ne"==l.substr(0,2)){let e;e=o[0],p[0]=o[1],p[1]=e,e=o[2],p[2]=o[3],p[3]=e}i.BBOX=p.join(",");let g;if(1==s.length)g=s[0];else{const t=Object(d.d)(Object(y.e)(e),s.length);g=s[t]}return Object(h.a)(g,i)},f.prototype.getTilePixelRatio=function(e){return this.hidpi_&&this.serverType_!==void 0?e:1},f.prototype.getKeyForParams_=function(){let e=0;const t=[];for(const o in this.params_)t[e++]=o+"-"+this.params_[o];return t.join("/")},f.prototype.fixedTileUrlFunction=function(e,t,o){let a=this.getTileGrid();if(a||(a=this.getTileGridForProjection(o)),a.getResolutions().length<=e[0])return;1==t||this.hidpi_&&void 0!==this.serverType_||(t=1);const i=a.getResolution(e[0]);let n=a.getTileCoordExtent(e,this.tmpExtent_),d=Object(_.d)(a.getTileSize(e[0]),this.tmpSize);const p=this.gutter_;0!==p&&(d=Object(_.a)(d,p,this.tmpSize),n=Object(s.c)(n,i*p,n)),1!=t&&(d=Object(_.c)(d,t,this.tmpSize));const g={SERVICE:"WMS",VERSION:r.a,REQUEST:"GetMap",FORMAT:"image/png",TRANSPARENT:!0};return Object(l.a)(g,this.params_),this.getRequestUrl_(e,d,n,t,o,g)},f.prototype.updateParams=function(e){Object(l.a)(this.params_,e),this.updateV13_(),this.setKey(this.getKeyForParams_())},f.prototype.updateV13_=function(){const e=this.params_.VERSION||r.a;this.v13_=0<=Object(m.a)(e,"1.3")},t.a=f},function(e,t,o){"use strict";var a=o(0),r=o(198),i=o(78),n=o(32),s=o(33);const l={LENGTH:"length"},d=function(e,t){s.a.call(this,e),this.element=t};t.a=d,Object(a.g)(d,s.a);const p=function(e,t){n.a.call(this);if(this.unique_=!!(t||{}).unique,this.array_=e?e:[],this.unique_)for(let e=0,t=this.array_.length;e<t;++e)this.assertUnique_(this.array_[e],e);this.updateLength_()};Object(a.g)(p,n.a),p.prototype.clear=function(){for(;0<this.getLength();)this.pop()},p.prototype.extend=function(e){let t,o;for(t=0,o=e.length;t<o;++t)this.push(e[t]);return this},p.prototype.forEach=function(e){const t=this.array_;for(let o=0,a=t.length;o<a;++o)e(t[o],o,t)},p.prototype.getArray=function(){return this.array_},p.prototype.item=function(e){return this.array_[e]},p.prototype.getLength=function(){return this.get(l.LENGTH)},p.prototype.insertAt=function(e,t){this.unique_&&this.assertUnique_(t),this.array_.splice(e,0,t),this.updateLength_(),this.dispatchEvent(new d(i.a.ADD,t))},p.prototype.pop=function(){return this.removeAt(this.getLength()-1)},p.prototype.push=function(e){this.unique_&&this.assertUnique_(e);const t=this.getLength();return this.insertAt(t,e),this.getLength()},p.prototype.remove=function(e){const t=this.array_;let o,a;for(o=0,a=t.length;o<a;++o)if(t[o]===e)return this.removeAt(o)},p.prototype.removeAt=function(e){const t=this.array_[e];return this.array_.splice(e,1),this.updateLength_(),this.dispatchEvent(new d(i.a.REMOVE,t)),t},p.prototype.setAt=function(e,t){const o=this.getLength();if(e<o){this.unique_&&this.assertUnique_(t,e);const o=this.array_[e];this.array_[e]=t,this.dispatchEvent(new d(i.a.REMOVE,o)),this.dispatchEvent(new d(i.a.ADD,t))}else{let a;for(a=o;a<e;++a)this.insertAt(a,void 0);this.insertAt(e,t)}},p.prototype.updateLength_=function(){this.set(l.LENGTH,this.array_.length)},p.prototype.assertUnique_=function(e,t){for(let o=0,a=this.array_.length;o<a;++o)if(this.array_[o]===e&&o!==t)throw new r.a(58)},t.b=p},function(e,t){"use strict";t.c=function(e,t,o,a,r,n){const s=n?n:[];let l=0;for(let i=t;i<o;i+=a){const t=e[i],o=e[i+1];s[l++]=r[0]*t+r[2]*o+r[4],s[l++]=r[1]*t+r[3]*o+r[5]}return n&&s.length!=l&&(s.length=l),s},t.a=function(e,t,o,a,r,n,s){const l=s?s:[],d=Math.cos(r),p=Math.sin(r),g=n[0],_=n[1];let c=0;for(let i=t;i<o;i+=a){const t=e[i]-g,o=e[i+1]-_;l[c++]=g+t*d-o*p,l[c++]=_+t*p+o*d;for(let t=i+2;t<i+a;++t)l[c++]=e[t]}return s&&l.length!=c&&(l.length=c),l},t.b=function(e,t,o,a,r,n,s,l){const d=l?l:[],p=s[0],g=s[1];let _=0;for(let i=t;i<o;i+=a){const t=e[i]-p,o=e[i+1]-g;d[_++]=p+r*t,d[_++]=g+n*o;for(let t=i+2;t<i+a;++t)d[_++]=e[t]}return l&&d.length!=_&&(d.length=_),d},t.d=function(e,t,o,a,r,n,s){const l=s?s:[];let d=0;for(let i=t;i<o;i+=a){l[d++]=e[i]+r,l[d++]=e[i+1]+n;for(let t=i+2;t<i+a;++t)l[d++]=e[t]}return s&&l.length!=d&&(l.length=d),l}},function(e,t){"use strict";function o(e,t,o,a){for(let r=0,i=o.length;r<i;++r){const i=o[r];for(let o=0;o<a;++o)e[t++]=i[o]}return t}function a(e,t,a,r,n){const s=n?n:[];let l=0;for(let i=0,d=a.length;i<d;++i){const n=o(e,t,a[i],r);s[l++]=n,t=n}return s.length=l,s}t.a=function(e,t,o){for(let a=0,r=o.length;a<r;++a)e[t++]=o[a];return t},t.b=o,t.c=a,t.d=function(e,t,o,r,n){const s=n?n:[];let l=0;for(let i=0,d=o.length;i<d;++i){const n=a(e,t,o[i],r,s[l]);s[l++]=n,t=n[n.length-1]}return s.length=l,s}},function(e,t,o){"use strict";function a(){if(!g){const e=new l.a({color:"rgba(255,255,255,0.4)"}),t=new d.a({color:"#3399CC",width:1.25});g=[new p({image:new s.a({fill:e,stroke:t,radius:5}),fill:e,stroke:t})]}return g}function r(e){return e.getGeometry()}t.d=function(e){let t;if("function"==typeof e)t=e;else{let o;Array.isArray(e)?o=e:(Object(i.a)(e instanceof p,41),o=[e]),t=function(){return o}}return t},t.a=a,t.b=function(){const e={},t=[255,255,255,1],o=[0,153,255,1],a=3;return e[n.a.POLYGON]=[new p({fill:new l.a({color:[255,255,255,.5]})})],e[n.a.MULTI_POLYGON]=e[n.a.POLYGON],e[n.a.LINE_STRING]=[new p({stroke:new d.a({color:t,width:a+2})}),new p({stroke:new d.a({color:o,width:a})})],e[n.a.MULTI_LINE_STRING]=e[n.a.LINE_STRING],e[n.a.CIRCLE]=e[n.a.POLYGON].concat(e[n.a.LINE_STRING]),e[n.a.POINT]=[new p({image:new s.a({radius:2*a,fill:new l.a({color:o}),stroke:new d.a({color:t,width:a/2})}),zIndex:Infinity})],e[n.a.MULTI_POINT]=e[n.a.POINT],e[n.a.GEOMETRY_COLLECTION]=e[n.a.POLYGON].concat(e[n.a.LINE_STRING],e[n.a.POINT]),e};var i=o(19),n=o(22),s=o(226),l=o(113),d=o(89);const p=function(e){const t=e||{};this.geometry_=null,this.geometryFunction_=r,t.geometry!==void 0&&this.setGeometry(t.geometry),this.fill_=t.fill===void 0?null:t.fill,this.image_=t.image===void 0?null:t.image,this.renderer_=t.renderer===void 0?null:t.renderer,this.stroke_=t.stroke===void 0?null:t.stroke,this.text_=t.text===void 0?null:t.text,this.zIndex_=t.zIndex};p.prototype.clone=function(){let e=this.getGeometry();return e&&e.clone&&(e=e.clone()),new p({geometry:e,fill:this.getFill()?this.getFill().clone():void 0,image:this.getImage()?this.getImage().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,text:this.getText()?this.getText().clone():void 0,zIndex:this.getZIndex()})},p.prototype.getRenderer=function(){return this.renderer_},p.prototype.setRenderer=function(e){this.renderer_=e},p.prototype.getGeometry=function(){return this.geometry_},p.prototype.getGeometryFunction=function(){return this.geometryFunction_},p.prototype.getFill=function(){return this.fill_},p.prototype.setFill=function(e){this.fill_=e},p.prototype.getImage=function(){return this.image_},p.prototype.setImage=function(e){this.image_=e},p.prototype.getStroke=function(){return this.stroke_},p.prototype.setStroke=function(e){this.stroke_=e},p.prototype.getText=function(){return this.text_},p.prototype.setText=function(e){this.text_=e},p.prototype.getZIndex=function(){return this.zIndex_},p.prototype.setGeometry=function(e){"function"==typeof e?this.geometryFunction_=e:"string"==typeof e?this.geometryFunction_=function(t){return t.get(e)}:e?e!==void 0&&(this.geometryFunction_=function(){return e}):this.geometryFunction_=r,this.geometry_=e},p.prototype.setZIndex=function(e){this.zIndex_=e};let g=null;t.c=p},function(e,t,o){"use strict";function i(e){const t=document.createElement("div");if(t.style.color=e,""!==t.style.color){document.body.appendChild(t);const e=getComputedStyle(t).color;return document.body.removeChild(t),e}return""}function a(e){let t,o,r,s,a;if(p.exec(e)&&(e=i(e)),d.exec(e)){const i=e.length-1;let n=4>=i?1:2;const l=4==i||8==i;t=parseInt(e.substr(1+0*n,n),16),o=parseInt(e.substr(1+1*n,n),16),r=parseInt(e.substr(1+2*n,n),16),s=l?parseInt(e.substr(1+3*n,n),16):255,1==n&&(t=(t<<4)+t,o=(o<<4)+o,r=(r<<4)+r,l&&(s=(s<<4)+s)),a=[t,o,r,s/255]}else 0==e.indexOf("rgba(")?(a=e.slice(5,-1).split(",").map(Number),n(a)):0==e.indexOf("rgb(")?(a=e.slice(4,-1).split(",").map(Number),a.push(1),n(a)):Object(l.a)(!1,14);return a}function n(e){return e[0]=Object(s.a)(0|e[0]+.5,0,255),e[1]=Object(s.a)(0|e[1]+.5,0,255),e[2]=Object(s.a)(0|e[2]+.5,0,255),e[3]=Object(s.a)(e[3],0,1),e}function r(e){let t=e[0];t!=(0|t)&&(t=0|t+.5);let o=e[1];o!=(0|o)&&(o=0|o+.5);let r=e[2];r!=(0|r)&&(r=0|r+.5);const i=e[3]===void 0?1:e[3];return"rgba("+t+","+o+","+r+","+i+")"}t.b=function(e){return"string"==typeof e?e:r(e)},t.a=function(e){return Array.isArray(e)?e:g(e)},t.c=r;var l=o(19),s=o(17);const d=/^#([a-f0-9]{3}|[a-f0-9]{4}(?:[a-f0-9]{2}){0,2})$/i,p=/^([a-z]*)$/i,g=function(){const e={};let t=0;return function(o){let r;if(e.hasOwnProperty(o))r=e[o];else{if(t>=1024){let o=0;for(const a in e)0==(3&o++)&&(delete e[a],--t)}r=a(o),e[o]=r,++t}return r}}()},function(e,t,o){"use strict";function a(){return _||(_=Object(n.a)(1,1)),_}function r(e,t){const o=a();return e!=o.font&&(o.font=e),o.measureText(t).width}t.q=r,t.s=function(e,t,o,a){0!==t&&(e.translate(o,a),e.rotate(t),e.translate(-o,-a))},t.n=function(e,t,o,a,r,i,n,s,l,d,p){let g;1!=o&&(g=e.globalAlpha,e.globalAlpha=g*o),t&&e.setTransform.apply(e,t),e.drawImage(a,r,i,n,s,l,d,n*p,s*p),g&&(e.globalAlpha=g),t&&e.setTransform.apply(e,m)};var i=o(46),n=o(23),s=o(10),l=o(160),d=o(27);t.c="10px sans-serif";t.b=[0,0,0,1];t.d="round";t.e=[];t.f=0;t.g="round";t.i=10;t.k=[0,0,0,1];t.l="center";t.m="middle";t.j=[0,0,0,0];t.h=1;const p=new l.a;t.o=p;const g={};let _=null;const c={},u=function(){function e(e){const t=a();let o=!0;for(let a=0;a<d;++a){const r=l[a];if(t.font=n+r,m=t.measureText(u).width,e!=r){t.font=n+e+","+r;const a=t.measureText(u).width;o=o&&a!=m}}return o}function t(){let t=!0;for(const a in r)r[a]<o&&(e(a)?(r[a]=o,Object(s.b)(c),_=null,p.clear()):(++r[a],t=!1));t&&(clearInterval(y),y=void 0)}const o=60,r=g,n="32px ",l=["monospace","serif"],d=l.length,u="wmytzilWMYTZIL@#/&?$%10\uF013";let y,m;return function(a){const n=Object(i.g)(a);if(n)for(let a=0,i=n.length;a<i;++a){const i=n[a];i in r||(r[i]=o,!e(i)&&(r[i]=0,void 0===y&&(y=setInterval(t,32))))}}}();t.a=u;const y=function(){let e;const t=c;return function(o){let a=t[o];return void 0==a&&(!e&&(e=document.createElement("span"),e.textContent="M",e.style.margin=e.style.padding="0 !important",e.style.position="absolute !important",e.style.left="-99999px !important"),e.style.font=o,document.body.appendChild(e),a=t[o]=e.offsetHeight,document.body.removeChild(e)),a}}();t.p=y;const m=Object(d.c)();t.r=m},function(e,t,o){"use strict";function a(e,t){e.getImage().src=t}var r=o(90),i=o(0),n=o(245),s=o(246),l=o(35),d=o(8),p=o(11),g=o(4),_=o(324),c=o(173),u=o(49),y=o(69);const m=function(e){c.a.call(this,{attributions:e.attributions,cacheSize:e.cacheSize,extent:e.extent,opaque:e.opaque,projection:e.projection,state:e.state,tileGrid:e.tileGrid,tileLoadFunction:e.tileLoadFunction?e.tileLoadFunction:a,tilePixelRatio:e.tilePixelRatio,tileUrlFunction:e.tileUrlFunction,url:e.url,urls:e.urls,wrapX:e.wrapX,transition:e.transition}),this.crossOrigin=e.crossOrigin===void 0?null:e.crossOrigin,this.tileClass=e.tileClass===void 0?n.a:e.tileClass,this.tileCacheForProjection={},this.tileGridForProjection={},this.reprojectionErrorThreshold_=e.reprojectionErrorThreshold,this.renderReprojectionEdges_=!1};Object(i.g)(m,c.a),m.prototype.canExpireCache=function(){if(!r.a)return c.a.prototype.canExpireCache.call(this);if(this.tileCache.canExpireCache())return!0;for(const e in this.tileCacheForProjection)if(this.tileCacheForProjection[e].canExpireCache())return!0;return!1},m.prototype.expireCache=function(e,t){if(!r.a)return void c.a.prototype.expireCache.call(this,e,t);const o=this.getTileCacheForProjection(e);for(const a in this.tileCache.expireCache(this.tileCache==o?t:{}),this.tileCacheForProjection){const e=this.tileCacheForProjection[a];e.expireCache(e==o?t:{})}},m.prototype.getGutter=function(e){return r.a&&this.getProjection()&&e&&!Object(g.f)(this.getProjection(),e)?0:this.getGutterInternal()},m.prototype.getGutterInternal=function(){return 0},m.prototype.getOpaque=function(e){return!(r.a&&this.getProjection()&&e&&!Object(g.f)(this.getProjection(),e))&&c.a.prototype.getOpaque.call(this,e)},m.prototype.getTileGridForProjection=function(e){if(!r.a)return c.a.prototype.getTileGridForProjection.call(this,e);const t=this.getProjection();if(this.tileGrid&&(!t||Object(g.f)(t,e)))return this.tileGrid;else{const t=Object(i.f)(e).toString();return t in this.tileGridForProjection||(this.tileGridForProjection[t]=Object(y.d)(e)),this.tileGridForProjection[t]}},m.prototype.getTileCacheForProjection=function(e){if(!r.a)return c.a.prototype.getTileCacheForProjection.call(this,e);const t=this.getProjection();if(!t||Object(g.f)(t,e))return this.tileCache;else{const t=Object(i.f)(e).toString();return t in this.tileCacheForProjection||(this.tileCacheForProjection[t]=new s.a(this.tileCache.highWaterMark)),this.tileCacheForProjection[t]}},m.prototype.createTile_=function(e,t,o,a,r,i){const n=[e,t,o],s=this.getTileCoordForTileUrlFunction(n,r),g=s?this.tileUrlFunction(s,a,r):void 0,_=new this.tileClass(n,void 0===g?l.a.EMPTY:l.a.IDLE,void 0===g?"":g,this.crossOrigin,this.tileLoadFunction,this.tileOptions);return _.key=i,Object(d.a)(_,p.a.CHANGE,this.handleTileChange,this),_},m.prototype.getTile=function(e,t,o,a,i){const n=this.getProjection();if(!r.a||!n||!i||Object(g.f)(n,i))return this.getTileInternal(e,t,o,a,n||i);else{const r=this.getTileCacheForProjection(i),s=[e,t,o];let l;const d=Object(u.c)(s);r.containsKey(d)&&(l=r.get(d));const p=this.getKey();if(l&&l.key==p)return l;else{const e=this.getTileGridForProjection(n),t=this.getTileGridForProjection(i),o=this.getTileCoordForTileUrlFunction(s,i),g=new _.a(n,e,i,t,s,o,this.getTilePixelRatio(a),this.getGutterInternal(),function(e,t,o,a){return this.getTileInternal(e,t,o,a,n)}.bind(this),this.reprojectionErrorThreshold_,this.renderReprojectionEdges_);return g.key=p,l?(g.interimTile=l,g.refreshInterimChain(),r.replace(d,g)):r.set(d,g),g}}},m.prototype.getTileInternal=function(e,t,o,a,r){let i=null;const n=Object(u.d)(e,t,o),s=this.getKey();if(!this.tileCache.containsKey(n))i=this.createTile_(e,t,o,a,r,s),this.tileCache.set(n,i);else if(i=this.tileCache.get(n),i.key!=s){const d=i;i=this.createTile_(e,t,o,a,r,s),i.interimTile=d.getState()==l.a.IDLE?d.interimTile:d,i.refreshInterimChain(),this.tileCache.replace(n,i)}return i},m.prototype.setRenderReprojectionEdges=function(e){if(r.a&&this.renderReprojectionEdges_!=e){for(const t in this.renderReprojectionEdges_=e,this.tileCacheForProjection)this.tileCacheForProjection[t].clear();this.changed()}},m.prototype.setTileGridForProjection=function(e,t){if(r.a){const o=Object(g.h)(e);if(o){const e=Object(i.f)(o).toString();e in this.tileGridForProjection||(this.tileGridForProjection[e]=t)}}},t.a=m},function(e,t,o){"use strict";function a(e,t,o,a){const i=a===void 0?p.a.TOP_LEFT:a,n=r(e,t,o);return new u.a({extent:e,origin:Object(d.y)(e,i),resolutions:n,tileSize:o})}function r(e,t,o){const a=t===void 0?s.a:t,r=Object(d.A)(e),i=Object(d.E)(e),n=Object(l.d)(o===void 0?s.b:o),p=Math.max(i/n[0],r/n[1]),g=a+1,_=Array(g);for(let a=0;a<g;++a)_[a]=p/Math.pow(2,a);return _}function i(e,t,o,r){const i=n(e);return a(i,t,o,r)}function n(e){e=Object(_.h)(e);let t=e.getExtent();if(!t){const o=180*_.a[c.b.DEGREES]/e.getMetersPerUnit();t=Object(d.k)(-o,-o,o,o)}return t}t.d=function(e){let t=e.getDefaultTileGrid();return t||(t=i(e),e.setDefaultTileGrid(t)),t},t.e=function(e,t,o){const a=t[0],r=e.getTileCoordCenter(t),i=n(o);if(!Object(d.f)(i,r)){const t=Object(d.E)(i),o=Math.ceil((i[0]-r[0])/t);return r[0]+=t*o,e.getTileCoordForCoordAndZ(r,a)}return t},t.b=function(e){const t={};return Object(g.a)(t,void 0===e?{}:e),void 0===t.extent&&(t.extent=Object(_.h)("EPSG:3857").getExtent()),t.resolutions=r(t.extent,t.maxZoom,t.tileSize),delete t.maxZoom,new u.a(t)},t.a=i,t.c=n;var s=o(129),l=o(57),d=o(3),p=o(205),g=o(10),_=o(4),c=o(56),u=o(94)},function(e,t,o){"use strict";var a=o(0),r=o(7),n=o(42);const s=["Map tiles by <a href=\"https://stamen.com/\">Stamen Design</a>, under <a href=\"https://creativecommons.org/licenses/by/3.0/\">CC BY 3.0</a>.",r.a],l={terrain:{extension:"jpg",opaque:!0},"terrain-background":{extension:"jpg",opaque:!0},"terrain-labels":{extension:"png",opaque:!1},"terrain-lines":{extension:"png",opaque:!1},"toner-background":{extension:"png",opaque:!0},toner:{extension:"png",opaque:!0},"toner-hybrid":{extension:"png",opaque:!1},"toner-labels":{extension:"png",opaque:!1},"toner-lines":{extension:"png",opaque:!1},"toner-lite":{extension:"png",opaque:!0},watercolor:{extension:"jpg",opaque:!0}},d={terrain:{minZoom:4,maxZoom:18},toner:{minZoom:0,maxZoom:20},watercolor:{minZoom:1,maxZoom:16}},i=function(e){const t=e.layer.indexOf("-"),o=-1==t?e.layer:e.layer.slice(0,t),a=d[o],r=l[e.layer],i=e.url===void 0?"https://stamen-tiles-{a-d}.a.ssl.fastly.net/"+e.layer+"/{z}/{x}/{y}."+r.extension:e.url;n.a.call(this,{attributions:s,cacheSize:e.cacheSize,crossOrigin:"anonymous",maxZoom:e.maxZoom==void 0?a.maxZoom:e.maxZoom,minZoom:e.minZoom==void 0?a.minZoom:e.minZoom,opaque:r.opaque,reprojectionErrorThreshold:e.reprojectionErrorThreshold,tileLoadFunction:e.tileLoadFunction,url:i,wrapX:e.wrapX})};Object(a.g)(i,n.a),t.a=i},function(e,t,o){"use strict";var a=o(11);t.a={SINGLECLICK:"singleclick",CLICK:a.a.CLICK,DBLCLICK:a.a.DBLCLICK,POINTERDRAG:"pointerdrag",POINTERMOVE:"pointermove",POINTERDOWN:"pointerdown",POINTERUP:"pointerup",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",POINTERCANCEL:"pointercancel"}},function(e,t,o){"use strict";var a=o(0),r=o(32),i=o(3),n=o(18),s=o(63),l=o(4),d=o(56),p=o(27);const g=function(){r.a.call(this),this.extent_=Object(i.j)(),this.extentRevision_=-1,this.simplifiedGeometryCache={},this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=0};Object(a.g)(g,r.a);const _=Object(p.c)();g.prototype.clone=function(){},g.prototype.closestPointXY=function(){},g.prototype.getClosestPoint=function(e,t){const o=t?t:[NaN,NaN];return this.closestPointXY(e[0],e[1],o,Infinity),o},g.prototype.intersectsCoordinate=function(e){return this.containsXY(e[0],e[1])},g.prototype.computeExtent=function(){},g.prototype.containsXY=n.a,g.prototype.getExtent=function(e){return this.extentRevision_!=this.getRevision()&&(this.extent_=this.computeExtent(this.extent_),this.extentRevision_=this.getRevision()),Object(i.I)(this.extent_,e)},g.prototype.rotate=function(){},g.prototype.scale=function(){},g.prototype.simplify=function(e){return this.getSimplifiedGeometry(e*e)},g.prototype.getSimplifiedGeometry=function(){},g.prototype.getType=function(){},g.prototype.applyTransform=function(){},g.prototype.intersectsExtent=function(){},g.prototype.translate=function(){},g.prototype.transform=function(e,t){e=Object(l.h)(e);const o=e.getUnits()==d.b.TILE_PIXELS?function(o,a,r){const n=e.getExtent(),d=e.getWorldExtent(),g=Object(i.A)(d)/Object(i.A)(n);return Object(p.b)(_,d[0],d[3],g,-g,0,0,0),Object(s.c)(o,0,o.length,r,_,a),Object(l.j)(e,t)(o,a,r)}:Object(l.j)(e,t);return this.applyTransform(o),this},t.a=g},function(e,t){"use strict";function o(e,t,o,a,r){const n=void 0===r?[]:r;let s=0;for(let i=t;i<o;i+=a)n[s++]=e.slice(i,i+a);return n.length=s,n}function a(e,t,a,r,n){const s=void 0===n?[]:n;let l=0;for(let i=0,d=a.length;i<d;++i){const n=a[i];s[l++]=o(e,t,n,r,s[l]),t=n}return s.length=l,s}t.a=o,t.b=a,t.c=function(e,t,o,r,n){const s=void 0===n?[]:n;let l=0;for(let i=0,d=o.length;i<d;++i){const n=o[i];s[l++]=a(e,t,n,r,s[l]),t=n[n.length-1]}return s.length=l,s}},function(e,t,o){"use strict";t.b=function(e,t){return e.visible&&t>=e.minResolution&&t<e.maxResolution};var a=o(8),r=o(11),i=o(0),n=o(32),s=o(210),l=o(211),d=o(10),p=o(75),g=o(45);const _=function(e){const t=Object(d.a)({},e);delete t.source,s.a.call(this,t),this.mapPrecomposeKey_=null,this.mapRenderKey_=null,this.sourceChangeKey_=null,e.map&&this.setMap(e.map),Object(a.a)(this,Object(n.b)(l.a.SOURCE),this.handleSourcePropertyChange_,this);const o=e.source?e.source:null;this.setSource(o)};Object(i.g)(_,s.a),_.prototype.getLayersArray=function(e){const t=e?e:[];return t.push(this),t},_.prototype.getLayerStatesArray=function(e){const t=e?e:[];return t.push(this.getLayerState()),t},_.prototype.getSource=function(){const e=this.get(l.a.SOURCE);return e||null},_.prototype.getSourceState=function(){const e=this.getSource();return e?e.getState():g.a.UNDEFINED},_.prototype.handleSourceChange_=function(){this.changed()},_.prototype.handleSourcePropertyChange_=function(){this.sourceChangeKey_&&(Object(a.e)(this.sourceChangeKey_),this.sourceChangeKey_=null);const e=this.getSource();e&&(this.sourceChangeKey_=Object(a.a)(e,r.a.CHANGE,this.handleSourceChange_,this)),this.changed()},_.prototype.setMap=function(e){this.mapPrecomposeKey_&&(Object(a.e)(this.mapPrecomposeKey_),this.mapPrecomposeKey_=null),e||this.changed(),this.mapRenderKey_&&(Object(a.e)(this.mapRenderKey_),this.mapRenderKey_=null),e&&(this.mapPrecomposeKey_=Object(a.a)(e,p.a.PRECOMPOSE,function(e){const t=this.getLayerState();t.managed=!1,t.zIndex=Infinity,e.frameState.layerStatesArray.push(t),e.frameState.layerStates[Object(i.f)(this)]=t},this),this.mapRenderKey_=Object(a.a)(this,r.a.CHANGE,e.render,e),this.changed())},_.prototype.setSource=function(e){this.set(l.a.SOURCE,e)},t.a=_},function(e,t){"use strict";t.a={POSTCOMPOSE:"postcompose",PRECOMPOSE:"precompose",RENDER:"render"}},function(e,t,o){"use strict";var a=o(0),r=o(55),i=o(74);const n=function(e){const t=e?e:{};i.a.call(this,t),this.type=r.a.IMAGE};Object(a.g)(n,i.a),n.prototype.getSource,t.a=n},function(e,t,o){"use strict";function a(e){const t=/^\s*(true|1)|(false|0)\s*$/.exec(e);return t?void 0!==t[1]||!1:void 0}function r(e){const t=/^\s*([+\-]?\d*\.?\d+(?:e[+\-]?\d+)?)\s*$/i.exec(e);return t?parseFloat(t[1]):void 0}function i(e){const t=/^\s*(\d+)\s*$/.exec(e);return t?parseInt(t[1],10):void 0}function n(e,t){e.appendChild(l.a.createTextNode(t))}t.a=function(e){const t=Object(l.e)(e,!1);return a(t)},t.b=a,t.c=function(e){const t=Object(l.e)(e,!1),o=Date.parse(t);return isNaN(o)?void 0:o/1e3},t.d=function(e){const t=Object(l.e)(e,!1);return r(t)},t.e=r,t.f=function(e){const t=Object(l.e)(e,!1);return i(t)},t.g=i,t.h=function(e){return Object(l.e)(e,!1).trim()},t.i=function(e,t){n(e,t?"1":"0")},t.j=function(e,t){e.appendChild(l.a.createCDATASection(t))},t.k=function(e,t){const o=new Date(1e3*t),a=o.getUTCFullYear()+"-"+Object(s.b)(o.getUTCMonth()+1,2)+"-"+Object(s.b)(o.getUTCDate(),2)+"T"+Object(s.b)(o.getUTCHours(),2)+":"+Object(s.b)(o.getUTCMinutes(),2)+":"+Object(s.b)(o.getUTCSeconds(),2)+"Z";e.appendChild(l.a.createTextNode(a))},t.l=function(e,t){const o=t.toPrecision();e.appendChild(l.a.createTextNode(o))},t.m=function(e,t){const o=t.toString();e.appendChild(l.a.createTextNode(o))},t.n=n;var l=o(43),s=o(131)},function(e,t){"use strict";t.a={ADD:"add",REMOVE:"remove"}},function(e,t,o){"use strict";var a=o(0),r=o(126),i=o(8),n=o(18),s=o(33);const l=function(){r.a.call(this),this.pendingRemovals_={},this.dispatching_={},this.listeners_={}};Object(a.g)(l,r.a),l.prototype.addEventListener=function(e,t){let o=this.listeners_[e];o||(o=this.listeners_[e]=[]),-1===o.indexOf(t)&&o.push(t)},l.prototype.dispatchEvent=function(e){const t="string"==typeof e?new s.a(e):e,o=t.type;t.target=this;const a=this.listeners_[o];let r;if(a){o in this.dispatching_||(this.dispatching_[o]=0,this.pendingRemovals_[o]=0),++this.dispatching_[o];for(let e=0,o=a.length;e<o;++e)if(!1===a[e].call(this,t)||t.propagationStopped){r=!1;break}if(--this.dispatching_[o],0===this.dispatching_[o]){let e=this.pendingRemovals_[o];for(delete this.pendingRemovals_[o];e--;)this.removeEventListener(o,n.c);delete this.dispatching_[o]}return r}},l.prototype.disposeInternal=function(){Object(i.d)(this)},l.prototype.getListeners=function(e){return this.listeners_[e]},l.prototype.hasListener=function(e){return e?e in this.listeners_:0<Object.keys(this.listeners_).length},l.prototype.removeEventListener=function(e,t){const o=this.listeners_[e];if(o){const a=o.indexOf(t);e in this.pendingRemovals_?(o[a]=n.c,++this.pendingRemovals_[e]):(o.splice(a,1),0===o.length&&delete this.listeners_[e])}},t.a=l},function(e,t,o){"use strict";function a(){const e=Object(A.b)();return function(t){return e[t.getGeometry().getType()]}}function r(e){e.originalEvent.type===p.a.CONTEXTMENU&&e.preventDefault(),this.freehand_=this.mode_!==M.POINT&&this.freehandCondition_(e);let t=e.type===_.a.POINTERMOVE,o=!0;if(this.lastDragTime_&&e.type===_.a.POINTERDRAG){const o=Date.now();o-this.lastDragTime_>=this.dragVertexDelay_?(this.downPx_=e.pixel,this.shouldHandle_=!this.freehand_,t=!0):this.lastDragTime_=void 0,this.shouldHandle_&&this.downTimeout_&&(clearTimeout(this.downTimeout_),this.downTimeout_=void 0)}return this.freehand_&&e.type===_.a.POINTERDRAG&&null!==this.sketchFeature_?(this.addToDrawing_(e),o=!1):this.freehand_&&e.type===_.a.POINTERDOWN?o=!1:t?(o=e.type===_.a.POINTERMOVE,o&&this.freehand_?o=this.handlePointerMove_(e):(e.pointerEvent.pointerType==v.b||e.type===_.a.POINTERDRAG&&!this.downTimeout_)&&this.handlePointerMove_(e)):e.type===_.a.DBLCLICK&&(o=!1),F.c.call(this,e)&&o}function i(e){return this.shouldHandle_=!this.freehand_,this.freehand_?(this.downPx_=e.pixel,this.finishCoordinate_||this.startDrawing_(e),!0):!!this.condition_(e)&&(this.lastDragTime_=Date.now(),this.downTimeout_=setTimeout(function(){this.handlePointerMove_(new c.a(_.a.POINTERMOVE,e.map,e.pointerEvent,e.frameState))}.bind(this),this.dragVertexDelay_),this.downPx_=e.pixel,!0)}function n(e){let t=!0;this.downTimeout_&&(clearTimeout(this.downTimeout_),this.downTimeout_=void 0),this.handlePointerMove_(e);const o=this.mode_===M.CIRCLE;return this.shouldHandle_?(this.finishCoordinate_?this.freehand_||o?this.finishDrawing():this.atFinish_(e)?this.finishCondition_(e)&&this.finishDrawing():this.addToDrawing_(e):(this.startDrawing_(e),this.mode_===M.POINT&&this.finishDrawing()),t=!1):this.freehand_&&(this.finishCoordinate_=null,this.abortDrawing_()),!t&&this.stopClick_&&e.stopPropagation(),t}function s(e){let t;return e===T.a.POINT||e===T.a.MULTI_POINT?t=M.POINT:e===T.a.LINE_STRING||e===T.a.MULTI_LINE_STRING?t=M.LINE_STRING:e===T.a.POLYGON||e===T.a.MULTI_POLYGON?t=M.POLYGON:e===T.a.CIRCLE&&(t=M.CIRCLE),t}var l=Math.sqrt;t.b=function(e,t){return function(o,a){const r=o[0],i=o[1],n=l(Object(y.j)(r,i)),s=a?a:Object(P.c)(new C.a(r),e),d=t?t:Math.atan((i[1]-r[1])/(i[0]-r[0]));return Object(P.e)(s,r,n,d),s}},t.a=function(){return function(e,t){const o=Object(x.b)(e),a=t||new P.b(null);return a.setCoordinates([[Object(x.v)(o),Object(x.w)(o),Object(x.D)(o),Object(x.C)(o),Object(x.v)(o)]]),a}};var d=o(0),p=o(11),g=o(15),_=o(71),c=o(109),u=o(32),y=o(41),m=o(8),h=o(33),f=o(38),x=o(3),E=o(18),C=o(162),T=o(22),S=o(28),R=o(53),I=o(54),b=o(60),v=o(154),L=o(21),P=o(29),F=o(48),O=o(159),w=o(25),N=o(12),A=o(65);const M={POINT:"Point",LINE_STRING:"LineString",POLYGON:"Polygon",CIRCLE:"Circle"},G={DRAWSTART:"drawstart",DRAWEND:"drawend"},D=function(e,t){h.a.call(this,e),this.feature=t};Object(d.g)(D,h.a);const k=function(e){F.b.call(this,{handleDownEvent:i,handleEvent:r,handleUpEvent:n}),this.shouldHandle_=!1,this.downPx_=null,this.downTimeout_,this.lastDragTime_,this.freehand_=!1,this.source_=e.source?e.source:null,this.features_=e.features?e.features:null,this.snapTolerance_=e.snapTolerance?e.snapTolerance:12,this.type_=e.type,this.mode_=s(this.type_),this.stopClick_=!!e.stopClick,this.minPoints_=e.minPoints?e.minPoints:this.mode_===M.POLYGON?3:2,this.maxPoints_=e.maxPoints?e.maxPoints:Infinity,this.finishCondition_=e.finishCondition?e.finishCondition:E.b;let t=e.geometryFunction;if(!t)if(this.type_===T.a.CIRCLE)t=function(e,t){const o=t?t:new C.a([NaN,NaN]),a=Object(y.j)(e[0],e[1]);return o.setCenterAndRadius(e[0],l(a)),o};else{let e;const o=this.mode_;o===M.POINT?e=L.a:o===M.LINE_STRING?e=S.a:o===M.POLYGON&&(e=P.b),t=function(t,a){let r=a;return r?o===M.POLYGON?t[0].length?r.setCoordinates([t[0].concat([t[0][0]])]):r.setCoordinates([]):r.setCoordinates(t):r=new e(t),r}}this.geometryFunction_=t,this.dragVertexDelay_=e.dragVertexDelay===void 0?500:e.dragVertexDelay,this.finishCoordinate_=null,this.sketchFeature_=null,this.sketchPoint_=null,this.sketchCoords_=null,this.sketchLine_=null,this.sketchLineCoords_=null,this.squaredClickTolerance_=e.clickTolerance?e.clickTolerance*e.clickTolerance:36,this.overlay_=new w.a({source:new N.b({useSpatialIndex:!1,wrapX:!!e.wrapX&&e.wrapX}),style:e.style?e.style:a(),updateWhileInteracting:!0}),this.geometryName_=e.geometryName,this.condition_=e.condition?e.condition:f.i,this.freehandCondition_,this.freehandCondition_=e.freehand?f.c:e.freehandCondition?e.freehandCondition:f.m,Object(m.a)(this,Object(u.b)(O.a.ACTIVE),this.updateState_,this)};Object(d.g)(k,F.b),k.prototype.setMap=function(e){F.b.prototype.setMap.call(this,e),this.updateState_()},k.prototype.handlePointerMove_=function(e){if(this.downPx_&&(!this.freehand_&&this.shouldHandle_||this.freehand_&&!this.shouldHandle_)){const t=this.downPx_,o=e.pixel,a=t[0]-o[0],r=t[1]-o[1],i=a*a+r*r;if(this.shouldHandle_=this.freehand_?i>this.squaredClickTolerance_:i<=this.squaredClickTolerance_,!this.shouldHandle_)return!0}return this.finishCoordinate_?this.modifyDrawing_(e):this.createOrUpdateSketchPoint_(e),!0},k.prototype.atFinish_=function(e){let t=!1;if(this.sketchFeature_){let o=!1,a=[this.finishCoordinate_];if(this.mode_===M.LINE_STRING?o=this.sketchCoords_.length>this.minPoints_:this.mode_===M.POLYGON&&(o=this.sketchCoords_[0].length>this.minPoints_,a=[this.sketchCoords_[0][0],this.sketchCoords_[0][this.sketchCoords_[0].length-2]]),o){const o=e.map;for(let r=0,i=a.length;r<i;r++){const i=a[r],n=o.getPixelFromCoordinate(i),s=e.pixel,d=s[0]-n[0],p=s[1]-n[1],g=this.freehand_?1:this.snapTolerance_;if(t=l(d*d+p*p)<=g,t){this.finishCoordinate_=i;break}}}}return t},k.prototype.createOrUpdateSketchPoint_=function(e){const t=e.coordinate.slice();if(!this.sketchPoint_)this.sketchPoint_=new g.a(new L.a(t)),this.updateSketchFeatures_();else{const e=this.sketchPoint_.getGeometry();e.setCoordinates(t)}},k.prototype.startDrawing_=function(e){const t=e.coordinate;this.finishCoordinate_=t,this.mode_===M.POINT?this.sketchCoords_=t.slice():this.mode_===M.POLYGON?(this.sketchCoords_=[[t.slice(),t.slice()]],this.sketchLineCoords_=this.sketchCoords_[0]):this.sketchCoords_=[t.slice(),t.slice()],this.sketchLineCoords_&&(this.sketchLine_=new g.a(new S.a(this.sketchLineCoords_)));const o=this.geometryFunction_(this.sketchCoords_);this.sketchFeature_=new g.a,this.geometryName_&&this.sketchFeature_.setGeometryName(this.geometryName_),this.sketchFeature_.setGeometry(o),this.updateSketchFeatures_(),this.dispatchEvent(new D(G.DRAWSTART,this.sketchFeature_))},k.prototype.modifyDrawing_=function(e){let t=e.coordinate;const o=this.sketchFeature_.getGeometry();let a,r;if(this.mode_===M.POINT?r=this.sketchCoords_:this.mode_===M.POLYGON?(a=this.sketchCoords_[0],r=a[a.length-1],this.atFinish_(e)&&(t=this.finishCoordinate_.slice())):(a=this.sketchCoords_,r=a[a.length-1]),r[0]=t[0],r[1]=t[1],this.geometryFunction_(this.sketchCoords_,o),this.sketchPoint_){const e=this.sketchPoint_.getGeometry();e.setCoordinates(t)}let i;if(o instanceof P.b&&this.mode_!==M.POLYGON){this.sketchLine_||(this.sketchLine_=new g.a(new S.a(null)));const e=o.getLinearRing(0);i=this.sketchLine_.getGeometry(),i.setFlatCoordinates(e.getLayout(),e.getFlatCoordinates())}else this.sketchLineCoords_&&(i=this.sketchLine_.getGeometry(),i.setCoordinates(this.sketchLineCoords_));this.updateSketchFeatures_()},k.prototype.addToDrawing_=function(e){const t=e.coordinate,o=this.sketchFeature_.getGeometry();let a,r;this.mode_===M.LINE_STRING?(this.finishCoordinate_=t.slice(),r=this.sketchCoords_,r.length>=this.maxPoints_&&(this.freehand_?r.pop():a=!0),r.push(t.slice()),this.geometryFunction_(r,o)):this.mode_===M.POLYGON&&(r=this.sketchCoords_[0],r.length>=this.maxPoints_&&(this.freehand_?r.pop():a=!0),r.push(t.slice()),a&&(this.finishCoordinate_=r[0]),this.geometryFunction_(this.sketchCoords_,o)),this.updateSketchFeatures_(),a&&this.finishDrawing()},k.prototype.removeLastPoint=function(){if(!this.sketchFeature_)return;const e=this.sketchFeature_.getGeometry();let t,o;this.mode_===M.LINE_STRING?(t=this.sketchCoords_,t.splice(-2,1),this.geometryFunction_(t,e),2<=t.length&&(this.finishCoordinate_=t[t.length-2].slice())):this.mode_===M.POLYGON&&(t=this.sketchCoords_[0],t.splice(-2,1),o=this.sketchLine_.getGeometry(),o.setCoordinates(t),this.geometryFunction_(this.sketchCoords_,e)),0===t.length&&(this.finishCoordinate_=null),this.updateSketchFeatures_()},k.prototype.finishDrawing=function(){const e=this.abortDrawing_();if(!e)return;let t=this.sketchCoords_;const o=e.getGeometry();this.mode_===M.LINE_STRING?(t.pop(),this.geometryFunction_(t,o)):this.mode_===M.POLYGON&&(t[0].pop(),this.geometryFunction_(t,o),t=o.getCoordinates()),this.type_===T.a.MULTI_POINT?e.setGeometry(new I.a([t])):this.type_===T.a.MULTI_LINE_STRING?e.setGeometry(new R.a([t])):this.type_===T.a.MULTI_POLYGON&&e.setGeometry(new b.a([t])),this.dispatchEvent(new D(G.DRAWEND,e)),this.features_&&this.features_.push(e),this.source_&&this.source_.addFeature(e)},k.prototype.abortDrawing_=function(){this.finishCoordinate_=null;const e=this.sketchFeature_;return e&&(this.sketchFeature_=null,this.sketchPoint_=null,this.sketchLine_=null,this.overlay_.getSource().clear(!0)),e},k.prototype.extend=function(e){const t=e.getGeometry();this.sketchFeature_=e,this.sketchCoords_=t.getCoordinates();const o=this.sketchCoords_[this.sketchCoords_.length-1];this.finishCoordinate_=o.slice(),this.sketchCoords_.push(o.slice()),this.updateSketchFeatures_(),this.dispatchEvent(new D(G.DRAWSTART,this.sketchFeature_))},k.prototype.shouldStopEvent=E.a,k.prototype.updateSketchFeatures_=function(){const e=[];this.sketchFeature_&&e.push(this.sketchFeature_),this.sketchLine_&&e.push(this.sketchLine_),this.sketchPoint_&&e.push(this.sketchPoint_);const t=this.overlay_.getSource();t.clear(!0),t.addFeatures(e)},k.prototype.updateState_=function(){const e=this.getMap(),t=this.getActive();e&&t||this.abortDrawing_(),this.overlay_.setMap(t?e:null)},t.c=k},function(e,t,o){"use strict";var a=Math.round,r=Math.abs,i=o(0),n=o(128),s=o(32),l=o(243),d=o(46),p=o(23),g=o(8),_=o(3);const c={ELEMENT:"element",MAP:"map",OFFSET:"offset",POSITION:"position",POSITIONING:"positioning"},u=function(e){s.a.call(this),this.options=e,this.id=e.id,this.insertFirst=!(e.insertFirst!==void 0)||e.insertFirst,this.stopEvent=!(e.stopEvent!==void 0)||e.stopEvent,this.element=document.createElement("DIV"),this.element.className=e.className===void 0?"ol-overlay-container "+d.d:e.className,this.element.style.position="absolute",this.autoPan=e.autoPan!==void 0&&e.autoPan,this.autoPanAnimation=e.autoPanAnimation||{},this.autoPanMargin=e.autoPanMargin===void 0?20:e.autoPanMargin,this.rendered={bottom_:"",left_:"",right_:"",top_:"",visible:!0},this.mapPostrenderListenerKey=null,Object(g.a)(this,Object(s.b)(c.ELEMENT),this.handleElementChanged,this),Object(g.a)(this,Object(s.b)(c.MAP),this.handleMapChanged,this),Object(g.a)(this,Object(s.b)(c.OFFSET),this.handleOffsetChanged,this),Object(g.a)(this,Object(s.b)(c.POSITION),this.handlePositionChanged,this),Object(g.a)(this,Object(s.b)(c.POSITIONING),this.handlePositioningChanged,this),e.element!==void 0&&this.setElement(e.element),this.setOffset(e.offset===void 0?[0,0]:e.offset),this.setPositioning(e.positioning===void 0?l.a.TOP_LEFT:e.positioning),e.position!==void 0&&this.setPosition(e.position)};Object(i.g)(u,s.a),u.prototype.getElement=function(){return this.get(c.ELEMENT)},u.prototype.getId=function(){return this.id},u.prototype.getMap=function(){return this.get(c.MAP)},u.prototype.getOffset=function(){return this.get(c.OFFSET)},u.prototype.getPosition=function(){return this.get(c.POSITION)},u.prototype.getPositioning=function(){return this.get(c.POSITIONING)},u.prototype.handleElementChanged=function(){Object(p.d)(this.element);const e=this.getElement();e&&this.element.appendChild(e)},u.prototype.handleMapChanged=function(){this.mapPostrenderListenerKey&&(Object(p.e)(this.element),Object(g.e)(this.mapPostrenderListenerKey),this.mapPostrenderListenerKey=null);const e=this.getMap();if(e){this.mapPostrenderListenerKey=Object(g.a)(e,n.a.POSTRENDER,this.render,this),this.updatePixelPosition();const t=this.stopEvent?e.getOverlayContainerStopEvent():e.getOverlayContainer();this.insertFirst?t.insertBefore(this.element,t.childNodes[0]||null):t.appendChild(this.element)}},u.prototype.render=function(){this.updatePixelPosition()},u.prototype.handleOffsetChanged=function(){this.updatePixelPosition()},u.prototype.handlePositionChanged=function(){this.updatePixelPosition(),this.get(c.POSITION)&&this.autoPan&&this.panIntoView()},u.prototype.handlePositioningChanged=function(){this.updatePixelPosition()},u.prototype.setElement=function(e){this.set(c.ELEMENT,e)},u.prototype.setMap=function(e){this.set(c.MAP,e)},u.prototype.setOffset=function(e){this.set(c.OFFSET,e)},u.prototype.setPosition=function(e){this.set(c.POSITION,e)},u.prototype.panIntoView=function(){const e=this.getMap();if(e&&e.getTargetElement()){const t=this.getRect(e.getTargetElement(),e.getSize()),o=this.getElement(),a=this.getRect(o,[Object(p.c)(o),Object(p.b)(o)]),i=this.autoPanMargin;if(!Object(_.g)(t,a)){const o=a[0]-t[0],n=t[2]-a[2],s=a[1]-t[1],l=t[3]-a[3],d=[0,0];if(0>o?d[0]=o-i:0>n&&(d[0]=r(n)+i),0>s?d[1]=s-i:0>l&&(d[1]=r(l)+i),0!==d[0]||0!==d[1]){const t=e.getView().getCenter(),o=e.getPixelFromCoordinate(t),a=[o[0]+d[0],o[1]+d[1]];e.getView().animate({center:e.getCoordinateFromPixel(a),duration:this.autoPanAnimation.duration,easing:this.autoPanAnimation.easing})}}}},u.prototype.getRect=function(e,t){const o=e.getBoundingClientRect(),a=o.left+window.pageXOffset,r=o.top+window.pageYOffset;return[a,r,a+t[0],r+t[1]]},u.prototype.setPositioning=function(e){this.set(c.POSITIONING,e)},u.prototype.setVisible=function(e){this.rendered.visible!==e&&(this.element.style.display=e?"":"none",this.rendered.visible=e)},u.prototype.updatePixelPosition=function(){const e=this.getMap(),t=this.getPosition();if(!e||!e.isRendered()||!t)return void this.setVisible(!1);const o=e.getPixelFromCoordinate(t),a=e.getSize();this.updateRenderedPosition(o,a)},u.prototype.updateRenderedPosition=function(e,t){const o=this.element.style,r=this.getOffset(),i=this.getPositioning();this.setVisible(!0);let n=r[0],s=r[1];if(i==l.a.BOTTOM_RIGHT||i==l.a.CENTER_RIGHT||i==l.a.TOP_RIGHT){""!==this.rendered.left_&&(this.rendered.left_=o.left="");const r=a(t[0]-e[0]-n)+"px";this.rendered.right_!=r&&(this.rendered.right_=o.right=r)}else{""!==this.rendered.right_&&(this.rendered.right_=o.right=""),(i==l.a.BOTTOM_CENTER||i==l.a.CENTER_CENTER||i==l.a.TOP_CENTER)&&(n-=this.element.offsetWidth/2);const t=a(e[0]+n)+"px";this.rendered.left_!=t&&(this.rendered.left_=o.left=t)}if(i==l.a.BOTTOM_LEFT||i==l.a.BOTTOM_CENTER||i==l.a.BOTTOM_RIGHT){""!==this.rendered.top_&&(this.rendered.top_=o.top="");const r=a(t[1]-e[1]-s)+"px";this.rendered.bottom_!=r&&(this.rendered.bottom_=o.bottom=r)}else{""!==this.rendered.bottom_&&(this.rendered.bottom_=o.bottom=""),(i==l.a.CENTER_LEFT||i==l.a.CENTER_CENTER||i==l.a.CENTER_RIGHT)&&(s-=this.element.offsetHeight/2);const t=a(e[1]+s)+"px";this.rendered.top_!=t&&(this.rendered.top_=o.top=t)}},u.prototype.getOptions=function(){return this.options},t.a=u},function(e,t,o){"use strict";t.b=function(e,t){e.getImage().src=t};var a=o(90),r=o(0),i=o(59),n=o(13),s=o(33),l=o(3),d=o(4),p=o(331),g=o(134);const _={IMAGELOADSTART:"imageloadstart",IMAGELOADEND:"imageloadend",IMAGELOADERROR:"imageloaderror"},c=function(e,t){s.a.call(this,e),this.image=t};Object(r.g)(c,s.a);const u=function(e){g.a.call(this,{attributions:e.attributions,extent:e.extent,projection:e.projection,state:e.state}),this.resolutions_=e.resolutions===void 0?null:e.resolutions,this.reprojectedImage_=null,this.reprojectedRevision_=0};Object(r.g)(u,g.a),u.prototype.getResolutions=function(){return this.resolutions_},u.prototype.findNearestResolution=function(e){if(this.resolutions_){const t=Object(n.h)(this.resolutions_,e,0);e=this.resolutions_[t]}return e},u.prototype.getImage=function(e,t,o,r){const i=this.getProjection();if(!a.a||!i||!r||Object(d.f)(i,r))return i&&(r=i),this.getImageInternal(e,t,o,r);if(this.reprojectedImage_){if(this.reprojectedRevision_==this.getRevision()&&Object(d.f)(this.reprojectedImage_.getProjection(),r)&&this.reprojectedImage_.getResolution()==t&&Object(l.p)(this.reprojectedImage_.getExtent(),e))return this.reprojectedImage_;this.reprojectedImage_.dispose(),this.reprojectedImage_=null}return this.reprojectedImage_=new p.a(i,r,e,t,o,function(e,t,o){return this.getImageInternal(e,t,o,i)}.bind(this)),this.reprojectedRevision_=this.getRevision(),this.reprojectedImage_},u.prototype.getImageInternal=function(){},u.prototype.handleImageChange=function(e){const t=e.target;switch(t.getState()){case i.a.LOADING:this.dispatchEvent(new c(_.IMAGELOADSTART,t));break;case i.a.LOADED:this.dispatchEvent(new c(_.IMAGELOADEND,t));break;case i.a.ERROR:this.dispatchEvent(new c(_.IMAGELOADERROR,t));break;default:}},t.a=u},function(e,t,o){"use strict";function a(e,t){const o=e.Contents.Layer,a=Object(n.d)(o,function(e){return e.Identifier==t.layer});if(null===a)return null;const r=e.Contents.TileMatrixSet;let i;i=1<a.TileMatrixSetLink.length?"projection"in t?Object(n.e)(a.TileMatrixSetLink,function(e){const o=Object(n.d)(r,function(t){return t.Identifier==e.TileMatrixSet}),a=o.SupportedCRS,i=Object(d.h)(a.replace(/urn:ogc:def:crs:(\w+):(.*:)?(\w+)$/,"$1:$3"))||Object(d.h)(a),s=Object(d.h)(t.projection);return i&&s?Object(d.f)(i,s):a==t.projection}):Object(n.e)(a.TileMatrixSetLink,function(e){return e.TileMatrixSet==t.matrixSet}):0,0>i&&(i=0);const l=a.TileMatrixSetLink[i].TileMatrixSet,p=a.TileMatrixSetLink[i].TileMatrixSetLimits;let c=a.Format[0];"format"in t&&(c=t.format),i=Object(n.e)(a.Style,function(e){return"style"in t?e.Title==t.style:e.isDefault}),0>i&&(i=0);const u=a.Style[i].Identifier,y={};"Dimension"in a&&a.Dimension.forEach(function(e){const t=e.Identifier;let o=e.Default;void 0===o&&(o=e.Value[0]),y[t]=o});const m=e.Contents.TileMatrixSet,h=Object(n.d)(m,function(e){return e.Identifier==l});let f;const x=h.SupportedCRS;if(x&&(f=Object(d.h)(x.replace(/urn:ogc:def:crs:(\w+):(.*:)?(\w+)$/,"$1:$3"))||Object(d.h)(x)),"projection"in t){const e=Object(d.h)(t.projection);e&&(!f||Object(d.f)(e,f))&&(f=e)}const E=a.WGS84BoundingBox;let C,T;if(void 0!==E){const e=Object(d.h)("EPSG:4326").getExtent();T=E[0]==e[0]&&E[2]==e[2],C=Object(d.o)(E,"EPSG:4326",f);const t=f.getExtent();t&&!Object(s.g)(t,C)&&(C=void 0)}const S=Object(_.a)(h,C,p),R=[];let I=t.requestEncoding;if(I=void 0===I?"":I,"OperationsMetadata"in e&&"GetTile"in e.OperationsMetadata){const t=e.OperationsMetadata.GetTile.DCP.HTTP.Get;for(let e=0,o=t.length;e<o;++e)if(t[e].Constraint){const o=Object(n.d)(t[e].Constraint,function(e){return"GetEncoding"==e.name}),a=o.AllowedValues.Value;if(""===I&&(I=a[0]),I===g.a.KVP)Object(n.f)(a,g.a.KVP)&&R.push(t[e].href);else break}else t[e].href&&(I=g.a.KVP,R.push(t[e].href))}return 0===R.length&&(I=g.a.REST,a.ResourceURL.forEach(function(e){"tile"===e.resourceType&&(c=e.format,R.push(e.template))})),{urls:R,layer:t.layer,matrixSet:l,format:c,projection:f,requestEncoding:I,tileGrid:S,style:u,dimensions:y,wrapX:T,crossOrigin:t.crossOrigin}}t.b=a;var r=o(0),i=o(93),n=o(13),s=o(3),l=o(10),d=o(4),p=o(68),g=o(339),_=o(141),c=o(96);const u=function(e){this.version_=e.version===void 0?"1.0.0":e.version,this.format_=e.format===void 0?"image/jpeg":e.format,this.dimensions_=e.dimensions===void 0?{}:e.dimensions,this.layer_=e.layer,this.matrixSet_=e.matrixSet,this.style_=e.style;let t=e.urls;t===void 0&&e.url!==void 0&&(t=Object(i.c)(e.url)),this.requestEncoding_=e.requestEncoding===void 0?g.a.KVP:e.requestEncoding;const o=this.requestEncoding_,a=e.tileGrid,r={layer:this.layer_,style:this.style_,tilematrixset:this.matrixSet_};o==g.a.KVP&&Object(l.a)(r,{Service:"WMTS",Request:"GetTile",Version:this.version_,Format:this.format_});const n=this.dimensions_;this.createFromWMTSTemplate_=function(e){return e=o==g.a.KVP?Object(c.a)(e,r):e.replace(/\{(\w+?)\}/g,function(e,t){return t.toLowerCase()in r?r[t.toLowerCase()]:e}),function(t){if(!t)return;else{const r={TileMatrix:a.getMatrixId(t[0]),TileCol:t[1],TileRow:-t[2]-1};Object(l.a)(r,n);let i=e;return i=o==g.a.KVP?Object(c.a)(i,r):i.replace(/\{(\w+?)\}/g,function(e,t){return r[t]}),i}}};const s=t&&0<t.length?Object(i.b)(t.map(this.createFromWMTSTemplate_)):i.d;p.a.call(this,{attributions:e.attributions,cacheSize:e.cacheSize,crossOrigin:e.crossOrigin,projection:e.projection,reprojectionErrorThreshold:e.reprojectionErrorThreshold,tileClass:e.tileClass,tileGrid:a,tileLoadFunction:e.tileLoadFunction,tilePixelRatio:e.tilePixelRatio,tileUrlFunction:s,urls:t,wrapX:e.wrapX!==void 0&&e.wrapX,transition:e.transition}),this.setKey(this.getKeyForDimensions_())};Object(r.g)(u,p.a),u.prototype.setUrls=function(e){this.urls=e;const t=e.join("\n");this.setTileUrlFunction(this.fixedTileUrlFunction?this.fixedTileUrlFunction.bind(this):Object(i.b)(e.map(this.createFromWMTSTemplate_.bind(this))),t)},u.prototype.getDimensions=function(){return this.dimensions_},u.prototype.getFormat=function(){return this.format_},u.prototype.getLayer=function(){return this.layer_},u.prototype.getMatrixSet=function(){return this.matrixSet_},u.prototype.getRequestEncoding=function(){return this.requestEncoding_},u.prototype.getStyle=function(){return this.style_},u.prototype.getVersion=function(){return this.version_},u.prototype.getKeyForDimensions_=function(){let e=0;const t=[];for(const o in this.dimensions_)t[e++]=o+"-"+this.dimensions_[o];return t.join("/")},u.prototype.updateDimensions=function(e){Object(l.a)(this.dimensions_,e),this.setKey(this.getKeyForDimensions_())},t.a=u},function(e,t,o){"use strict";var a=o(162),r=o(72),i=o(28);o.d(t,"a",function(){return i.a});var n=o(53),s=o(54);o.d(t,"b",function(){return s.a});var l=o(60),d=o(21);o.d(t,"c",function(){return d.a});var p=o(29);o.d(t,"d",function(){return p.b})},function(e,t,o){"use strict";function a(){ue=[255,255,255,1],le=new ee.a({color:ue}),ye=[20,2],me=oe.a.PIXELS,he=oe.a.PIXELS,fe=[64,64],xe="https://maps.google.com/mapfiles/kml/pushpin/ylw-pushpin.png",Ee=.5,de=new te.a({anchor:ye,anchorOrigin:ae.a.BOTTOM_LEFT,anchorXUnits:me,anchorYUnits:he,crossOrigin:"anonymous",rotation:0,scale:Ee,size:fe,src:xe}),Ce="NO_IMAGE",pe=new re.a({color:ue,width:1}),Te=new re.a({color:[51,51,51,1],width:2}),ge=new ne.a({font:"bold 16px Helvetica",fill:le,stroke:Te,scale:.8}),_e=new ie.c({fill:le,image:de,text:ge,stroke:pe,zIndex:0}),ce=[_e]}function r(e,t){let o=null;const a=[0,0];let r="start";if(e.getImage()){let t=e.getImage().getImageSize();if(null===t&&(t=fe),2==t.length){const o=e.getImage().getScale();a[0]=o*t[0]/2,a[1]=-o*t[1]/2,r="left"}}if(null!==e.getText()){const t=e.getText();o=t.clone(),o.setFont(t.getFont()||ge.getFont()),o.setScale(t.getScale()||ge.getScale()),o.setFill(t.getFill()||ge.getFill()),o.setStroke(t.getStroke()||Te)}else o=ge.clone();o.setText(t),o.setOffsetX(a[0]),o.setOffsetY(a[1]),o.setTextAlign(r);const i=new ie.c({text:o});return i}function i(e,t,o,a,i){return function(s){let l=i,d="",p;if(l){const e=s.getGeometry();e&&(l=e.getType()===X.a.POINT)}if(l&&(d=s.get("name"),l=l&&d),e)return l?(p=r(e[0],d),e.concat(p)):e;if(t){const e=n(t,o,a);return l?(p=r(e[0],d),e.concat(p)):e}return l?(p=r(o[0],d),o.concat(p)):o}}function n(e,t,o){return Array.isArray(e)?e:"string"==typeof e?(!(e in o)&&"#"+e in o&&(e="#"+e),n(o[e],t,o)):t}function s(e){const t=Object(se.e)(e,!1),o=/^\s*#?\s*([0-9A-Fa-f]{8})\s*$/.exec(t);if(o){const e=o[1];return[parseInt(e.substr(6,2),16),parseInt(e.substr(4,2),16),parseInt(e.substr(2,2),16),parseInt(e.substr(0,2),16)/255]}}function l(e){let t=Object(se.e)(e,!1);const o=[],a=/^\s*([+\-]?\d*\.?\d+(?:e[+\-]?\d+)?)\s*,\s*([+\-]?\d*\.?\d+(?:e[+\-]?\d+)?)(?:\s*,\s*([+\-]?\d*\.?\d+(?:e[+\-]?\d+)?))?\s*/i;for(let r;r=a.exec(t);){const e=parseFloat(r[1]),a=parseFloat(r[2]),i=r[3]?parseFloat(r[3]):0;o.push(e,a,i),t=t.substr(r[0].length)}return""===t?o:void 0}function d(e){const t=Object(se.e)(e,!1).trim();let o=e.baseURI;if(o&&"about:blank"!=o||(o=window.location.href),o){const e=new URL(t,o);return e.href}return t}function p(e){return Object(z.d)(e)}function g(e,t){return Object(se.u)(void 0,ve,e,t)}function _(e,t){const o=Object(se.u)({},Le,e,t);if(!o)return;const a=t[t.length-1],r="Icon"in o?o.Icon:{},i=!("Icon"in o)||0<Object.keys(r).length;let n;const s=r.href;s?n=s:i&&(n=xe);let l=ae.a.BOTTOM_LEFT,d,p,g;const _=o.hotSpot;_?(d=[_.x,_.y],p=_.xunits,g=_.yunits,l=_.origin):n===xe?(d=ye,p=me,g=he):/^http:\/\/maps\.(?:google|gstatic)\.com\//.test(n)&&(d=[.5,0],p=oe.a.FRACTION,g=oe.a.FRACTION);let c;const u=r.x,m=r.y;u!==void 0&&m!==void 0&&(c=[u,m]);let y;const f=r.w,x=r.h;f!==void 0&&x!==void 0&&(y=[f,x]);let h;const E=o.heading;E!==void 0&&(h=Object(Q.j)(E));let C=o.scale;if(i){n==xe&&(y=fe,C===void 0&&(C=Ee));const e=new te.a({anchor:d,anchorOrigin:l,anchorXUnits:p,anchorYUnits:g,crossOrigin:"anonymous",offset:c,offsetOrigin:ae.a.BOTTOM_LEFT,rotation:h,scale:C,size:y,src:n});a.imageStyle=e}else a.imageStyle=Ce}function c(e,t){const o=Object(se.u)({},Pe,e,t);if(o){const e=t[t.length-1],a=new ne.a({fill:new ee.a({color:"color"in o?o.color:ue}),scale:o.scale});e.textStyle=a}}function u(e,t){const o=Object(se.u)({},Fe,e,t);if(o){const e=t[t.length-1],a=new re.a({color:"color"in o?o.color:ue,width:"width"in o?o.width:1});e.strokeStyle=a}}function y(e,t){const o=Object(se.u)({},Oe,e,t);if(o){const e=t[t.length-1],a=new ee.a({color:"color"in o?o.color:ue});e.fillStyle=a;const r=o.fill;void 0!==r&&(e.fill=r);const i=o.outline;void 0!==i&&(e.outline=i)}}function m(e,t){return Object(se.u)(null,we,e,t)}function h(e,t){const o=Object(se.u)({flatCoordinates:[],whens:[]},Ae,e,t);if(o){const e=o.flatCoordinates,t=o.whens;for(let o=0,a=Math.min(e.length,t.length);o<a;++o)e[4*o+3]=t[o];const a=new W.a(null);return a.setFlatCoordinates(V.a.XYZM,e),a}}function f(e,t){return Object(se.u)(null,Ge,e,t)}function x(e,t){const o=Object(se.u)({},De,e,t),a=f(e,t);if(a){const e=new W.a(null);return e.setFlatCoordinates(V.a.XYZ,a),e.setProperties(o),e}}function E(e,t){const o=Object(se.u)({},De,e,t),a=f(e,t);if(a){const e=new J.b(null);return e.setFlatCoordinates(V.a.XYZ,a,[a.length]),e.setProperties(o),e}}function C(e,t){const o=Object(se.u)([],ke,e,t);if(!o)return null;if(0===o.length)return new Y.a(o);let a=!0,r;const n=o[0].getType();let s;for(let r=1,i=o.length;r<i;++r)if(s=o[r],s.getType()!=n){a=!1;break}if(a){let e,t;if(n==X.a.POINT){const a=o[0];e=a.getLayout(),t=a.getFlatCoordinates();for(let e=1,a=o.length;e<a;++e)s=o[e],Object(D.c)(t,s.getFlatCoordinates());r=new H.a(null),r.setFlatCoordinates(e,t),I(r,o)}else n==X.a.LINE_STRING?(r=new K.a(null),r.setLineStrings(o),I(r,o)):n==X.a.POLYGON?(r=new Z.a(null),r.setPolygons(o),I(r,o)):n==X.a.GEOMETRY_COLLECTION?r=new Y.a(o):Object(k.a)(!1,37)}else r=new Y.a(o);return r}function T(e,t){const o=Object(se.u)({},De,e,t),a=f(e,t);if(a){const e=new q.a(null);return e.setFlatCoordinates(V.a.XYZ,a),e.setProperties(o),e}}function S(e,t){const o=Object(se.u)({},De,e,t),a=Object(se.u)([null],je,e,t);if(a&&a[0]){const e=new J.b(null),t=a[0],r=[t.length];for(let e=1,o=a.length;e<o;++e)Object(D.c)(t,a[e]),r.push(t.length);return e.setFlatCoordinates(V.a.XYZ,t,r),e.setProperties(o),e}}function R(e,t){const o=Object(se.u)({},Ue,e,t);if(!o)return null;let a="fillStyle"in o?o.fillStyle:le;const r=o.fill;void 0===r||r||(a=null);let i="imageStyle"in o?o.imageStyle:de;i==Ce&&(i=void 0);const n="textStyle"in o?o.textStyle:ge;let s="strokeStyle"in o?o.strokeStyle:pe;const l=o.outline;return void 0===l||l||(s=null),[new ie.c({fill:a,image:i,stroke:s,text:n,zIndex:void 0})]}function I(e,t){const o=t.length,a=Array(t.length),r=Array(t.length),n=Array(t.length);let s,l,d;s=l=d=!1;for(let p=0;p<o;++p){const e=t[p];a[p]=e.get("extrude"),r[p]=e.get("tessellate"),n[p]=e.get("altitudeMode"),s=s||a[p]!==void 0,l=l||r[p]!==void 0,d=d||n[p]}s&&e.set("extrude",a),l&&e.set("tessellate",r),d&&e.set("altitudeMode",n)}function b(e,t){Object(se.t)(ze,e,t)}function v(e,t){Object(se.t)(Ye,e,t)}function L(e,t){const o=Object(j.a)(t),a=4==o.length?o[3]:1,r=[255*a,o[2],o[1],o[0]];for(let o=0;4>o;++o){const e=parseInt(r[o],10).toString(16);r[o]=1==e.length?"0"+e:e}Object(z.n)(e,r.join(""))}function P(e,t,o){const a=t.getType();let r,i;a==X.a.GEOMETRY_COLLECTION?(r=t.getGeometries(),i=ct):a==X.a.MULTI_POINT?(r=t.getPoints(),i=ut):a==X.a.MULTI_LINE_STRING?(r=t.getLineStrings(),i=yt):a==X.a.MULTI_POLYGON?(r=t.getPolygons(),i=ht):Object(k.a)(!1,39),Object(se.v)({node:e},ft,i,r,o)}function F(e,t,o){Object(se.v)({node:e},xt,mt,[t],o)}function O(e,t,o){const a={node:e};t.getId()&&e.setAttribute("id",t.getId());const r=t.getProperties(),i={address:1,description:1,name:1,open:1,phoneNumber:1,styleUrl:1,visibility:1};i[t.getGeometryName()]=1;const n=Object.keys(r||{}).sort().filter(function(e){return!i[e]});if(0<n.length){const e=Object(se.p)(r,n);Object(se.v)(a,Et,Tt,[{names:n,values:e}],o)}const s=t.getStyleFunction();if(s){const e=s(t,0);if(e){const t=Array.isArray(e)?e[0]:e;this.writeStyles_&&(r.Style=t);const o=t.getText();o&&(r.name=o.getText())}}const l=o[o.length-1].node,d=Ct[l.namespaceURI],p=Object(se.p)(r,d);Object(se.v)(a,Et,se.b,p,o,d);const g=o[0];let _=t.getGeometry();_&&(_=Object(U.b)(_,!0,g)),Object(se.v)(a,Et,ct,[_],o)}function w(e,t,o){const a=t.getFlatCoordinates(),r={node:e};r.layout=t.getLayout(),r.stride=t.getStride();const i=t.getProperties();i.coordinates=a;const n=o[o.length-1].node,s=St[n.namespaceURI],l=Object(se.p)(i,s);Object(se.v)(r,Rt,se.b,l,o,s)}function N(e,t,o){const a=t.getLinearRings(),r=a.shift(),i={node:e};Object(se.v)(i,It,bt,a,o),Object(se.v)(i,It,vt,[r],o)}function A(e,t){Object(z.l)(e,Math.round(1e6*t)/1e6)}var M=o(0),G=o(15),D=o(13),k=o(19),j=o(66),U=o(36),B=o(98),z=o(77),Y=o(179),V=o(30),X=o(22),W=o(28),K=o(53),H=o(54),Z=o(60),q=o(21),J=o(29),Q=o(17),$=o(4),ee=o(113),te=o(174),oe=o(248),ae=o(250),re=o(89),ie=o(65),ne=o(177),se=o(43);let le=null,de=null,pe=null,ge=null,_e=null,ce=null,ue,ye,me,he,fe,xe,Ee,Ce,Te;const Se=function(e){const t=e?e:{};B.a.call(this),ce||a(),this.defaultDataProjection=Object($.h)("EPSG:4326"),this.defaultStyle_=t.defaultStyle?t.defaultStyle:ce,this.extractStyles_=!(t.extractStyles!==void 0)||t.extractStyles,this.writeStyles_=!(t.writeStyles!==void 0)||t.writeStyles,this.sharedStyles_={},this.showPointNames_=!(t.showPointNames!==void 0)||t.showPointNames};Object(M.g)(Se,B.a);const Re=["http://www.google.com/kml/ext/2.2"],Ie=[null,"http://earth.google.com/kml/2.0","http://earth.google.com/kml/2.1","http://earth.google.com/kml/2.2","http://www.opengis.net/kml/2.2"],be={fraction:oe.a.FRACTION,pixels:oe.a.PIXELS,insetPixels:oe.a.PIXELS},ve=Object(se.r)(Ie,{Pair:function(e,t){const o=Object(se.u)({},Ve,e,t);if(o){const e=o.key;if(e&&"normal"==e){const e=o.styleUrl;e&&(t[t.length-1]=e);const a=o.Style;a&&(t[t.length-1]=a)}}}}),Le=Object(se.r)(Ie,{Icon:Object(se.n)(function(e,t){const o=Object(se.u)({},Me,e,t);return o?o:null}),heading:Object(se.n)(z.d),hotSpot:Object(se.n)(function(e){const t=e.getAttribute("xunits"),o=e.getAttribute("yunits");let a;return a="insetPixels"===t?"insetPixels"===o?ae.a.TOP_RIGHT:ae.a.BOTTOM_RIGHT:"insetPixels"===o?ae.a.TOP_LEFT:ae.a.BOTTOM_LEFT,{x:parseFloat(e.getAttribute("x")),xunits:be[t],y:parseFloat(e.getAttribute("y")),yunits:be[o],origin:a}}),scale:Object(se.n)(p)}),Pe=Object(se.r)(Ie,{color:Object(se.n)(s),scale:Object(se.n)(p)}),Fe=Object(se.r)(Ie,{color:Object(se.n)(s),width:Object(se.n)(z.d)}),Oe=Object(se.r)(Ie,{color:Object(se.n)(s),fill:Object(se.n)(z.a),outline:Object(se.n)(z.a)}),we=Object(se.r)(Ie,{coordinates:Object(se.o)(l)}),Ne=Object(se.r)(Re,{Track:Object(se.j)(h)}),Ae=Object(se.r)(Ie,{when:function(e,t){const o=t[t.length-1],a=o.whens,r=Object(se.e)(e,!1),i=Date.parse(r);a.push(isNaN(i)?0:i)}},Object(se.r)(Re,{coord:function(e,t){const o=t[t.length-1],a=o.flatCoordinates,r=Object(se.e)(e,!1),i=/^\s*([+\-]?\d+(?:\.\d*)?(?:e[+\-]?\d*)?)\s+([+\-]?\d+(?:\.\d*)?(?:e[+\-]?\d*)?)\s+([+\-]?\d+(?:\.\d*)?(?:e[+\-]?\d*)?)\s*$/i,n=i.exec(r);if(n){const e=parseFloat(n[1]),t=parseFloat(n[2]),o=parseFloat(n[3]);a.push(e,t,o,0)}else a.push(0,0,0,0)}})),Me=Object(se.r)(Ie,{href:Object(se.n)(d)},Object(se.r)(Re,{x:Object(se.n)(z.d),y:Object(se.n)(z.d),w:Object(se.n)(z.d),h:Object(se.n)(z.d)})),Ge=Object(se.r)(Ie,{coordinates:Object(se.o)(l)}),De=Object(se.r)(Ie,{extrude:Object(se.n)(z.a),tessellate:Object(se.n)(z.a),altitudeMode:Object(se.n)(z.h)}),ke=Object(se.r)(Ie,{LineString:Object(se.j)(x),LinearRing:Object(se.j)(E),MultiGeometry:Object(se.j)(C),Point:Object(se.j)(T),Polygon:Object(se.j)(S)}),je=Object(se.r)(Ie,{innerBoundaryIs:function(e,t){const o=Object(se.u)(void 0,He,e,t);if(o){const e=t[t.length-1];e.push(o)}},outerBoundaryIs:function(e,t){const o=Object(se.u)(void 0,Ze,e,t);if(o){const e=t[t.length-1];e[0]=o}}}),Ue=Object(se.r)(Ie,{IconStyle:_,LabelStyle:c,LineStyle:u,PolyStyle:y}),Be=Object(se.r)(Ie,{displayName:Object(se.n)(z.h),value:Object(se.n)(z.h)}),ze=Object(se.r)(Ie,{Data:function(e,t){const o=e.getAttribute("name");Object(se.t)(Be,e,t);const a=t[t.length-1];null===o?null!==a.displayName&&(a[a.displayName]=a.value):a[o]=a.value,delete a.value},SchemaData:function(e,t){Object(se.t)(Xe,e,t)}}),Ye=Object(se.r)(Ie,{LatLonAltBox:function(e,t){const o=Object(se.u)({},We,e,t);if(o){const e=t[t.length-1],a=[parseFloat(o.west),parseFloat(o.south),parseFloat(o.east),parseFloat(o.north)];e.extent=a,e.altitudeMode=o.altitudeMode,e.minAltitude=parseFloat(o.minAltitude),e.maxAltitude=parseFloat(o.maxAltitude)}},Lod:function(e,t){const o=Object(se.u)({},Ke,e,t);if(o){const e=t[t.length-1];e.minLodPixels=parseFloat(o.minLodPixels),e.maxLodPixels=parseFloat(o.maxLodPixels),e.minFadeExtent=parseFloat(o.minFadeExtent),e.maxFadeExtent=parseFloat(o.maxFadeExtent)}}}),Ve=Object(se.r)(Ie,{Style:Object(se.n)(R),key:Object(se.n)(z.h),styleUrl:Object(se.n)(d)}),Xe=Object(se.r)(Ie,{SimpleData:function(e,t){const o=e.getAttribute("name");if(null!==o){const a=Object(z.h)(e),r=t[t.length-1];r[o]=a}}}),We=Object(se.r)(Ie,{altitudeMode:Object(se.n)(z.h),minAltitude:Object(se.n)(z.d),maxAltitude:Object(se.n)(z.d),north:Object(se.n)(z.d),south:Object(se.n)(z.d),east:Object(se.n)(z.d),west:Object(se.n)(z.d)}),Ke=Object(se.r)(Ie,{minLodPixels:Object(se.n)(z.d),maxLodPixels:Object(se.n)(z.d),minFadeExtent:Object(se.n)(z.d),maxFadeExtent:Object(se.n)(z.d)}),He=Object(se.r)(Ie,{LinearRing:Object(se.o)(m)}),Ze=Object(se.r)(Ie,{LinearRing:Object(se.o)(m)}),qe=Object(se.r)(Ie,{ExtendedData:b,Region:v,Link:function(e,t){Object(se.t)(Je,e,t)},address:Object(se.n)(z.h),description:Object(se.n)(z.h),name:Object(se.n)(z.h),open:Object(se.n)(z.a),phoneNumber:Object(se.n)(z.h),visibility:Object(se.n)(z.a)}),Je=Object(se.r)(Ie,{href:Object(se.n)(d)}),Qe=Object(se.r)(Ie,{ExtendedData:b,Region:v,MultiGeometry:Object(se.n)(C,"geometry"),LineString:Object(se.n)(x,"geometry"),LinearRing:Object(se.n)(E,"geometry"),Point:Object(se.n)(T,"geometry"),Polygon:Object(se.n)(S,"geometry"),Style:Object(se.n)(R),StyleMap:function(e,t){const o=g(e,t);if(o){const e=t[t.length-1];Array.isArray(o)?e.Style=o:"string"==typeof o?e.styleUrl=o:Object(k.a)(!1,38)}},address:Object(se.n)(z.h),description:Object(se.n)(z.h),name:Object(se.n)(z.h),open:Object(se.n)(z.a),phoneNumber:Object(se.n)(z.h),styleUrl:Object(se.n)(d),visibility:Object(se.n)(z.a)},Object(se.r)(Re,{MultiTrack:Object(se.n)(function(e,t){const o=Object(se.u)([],Ne,e,t);if(o){const e=new K.a(null);return e.setLineStrings(o),e}},"geometry"),Track:Object(se.n)(h,"geometry")}));Se.prototype.readDocumentOrFolder_=function(e,t){const o=Object(se.r)(Ie,{Document:Object(se.i)(this.readDocumentOrFolder_,this),Folder:Object(se.i)(this.readDocumentOrFolder_,this),Placemark:Object(se.j)(this.readPlacemark_,this),Style:this.readSharedStyle_.bind(this),StyleMap:this.readSharedStyleMap_.bind(this)}),a=Object(se.u)([],o,e,t,this);return a?a:void 0},Se.prototype.readPlacemark_=function(e,t){const o=Object(se.u)({geometry:null},Qe,e,t);if(o){const a=new G.a,r=e.getAttribute("id");null!==r&&a.setId(r);const n=t[0],s=o.geometry;if(s&&Object(U.b)(s,!1,n),a.setGeometry(s),delete o.geometry,this.extractStyles_){const e=o.Style,t=o.styleUrl,r=i(e,t,this.defaultStyle_,this.sharedStyles_,this.showPointNames_);a.setStyle(r)}return delete o.Style,a.setProperties(o),a}},Se.prototype.readSharedStyle_=function(e,t){const o=e.getAttribute("id");if(null!==o){const a=R(e,t);if(a){let t=e.baseURI,r;if(t&&"about:blank"!=t||(t=window.location.href),t){const e=new URL("#"+o,t);r=e.href}else r="#"+o;this.sharedStyles_[r]=a}}},Se.prototype.readSharedStyleMap_=function(e,t){const o=e.getAttribute("id");if(null===o)return;const a=g(e,t);if(!a)return;let r=e.baseURI,i;if(r&&"about:blank"!=r||(r=window.location.href),r){const e=new URL("#"+o,r);i=e.href}else i="#"+o;this.sharedStyles_[i]=a},Se.prototype.readFeature,Se.prototype.readFeatureFromNode=function(e,t){if(!Object(D.f)(Ie,e.namespaceURI))return null;const o=this.readPlacemark_(e,[this.getReadOptions(e,t)]);return o?o:null},Se.prototype.readFeatures,Se.prototype.readFeaturesFromNode=function(e,t){if(!Object(D.f)(Ie,e.namespaceURI))return[];let o;const a=e.localName;if("Document"==a||"Folder"==a)return o=this.readDocumentOrFolder_(e,[this.getReadOptions(e,t)]),o?o:[];if("Placemark"==a){const o=this.readPlacemark_(e,[this.getReadOptions(e,t)]);return o?[o]:[]}if("kml"==a){o=[];for(let a=e.firstElementChild;a;a=a.nextElementSibling){const e=this.readFeaturesFromNode(a,t);e&&Object(D.c)(o,e)}return o}return[]},Se.prototype.readName=function(e){if(Object(se.g)(e))return this.readNameFromDocument(e);if(Object(se.h)(e))return this.readNameFromNode(e);if("string"==typeof e){const t=Object(se.s)(e);return this.readNameFromDocument(t)}},Se.prototype.readNameFromDocument=function(e){for(let t=e.firstChild;t;t=t.nextSibling)if(t.nodeType==Node.ELEMENT_NODE){const e=this.readNameFromNode(t);if(e)return e}},Se.prototype.readNameFromNode=function(e){for(let t=e.firstElementChild;t;t=t.nextElementSibling)if(Object(D.f)(Ie,t.namespaceURI)&&"name"==t.localName)return Object(z.h)(t);for(let t=e.firstElementChild;t;t=t.nextElementSibling){const e=t.localName;if(Object(D.f)(Ie,t.namespaceURI)&&("Document"==e||"Folder"==e||"Placemark"==e||"kml"==e)){const e=this.readNameFromNode(t);if(e)return e}}},Se.prototype.readNetworkLinks=function(e){const t=[];if(Object(se.g)(e))Object(D.c)(t,this.readNetworkLinksFromDocument(e));else if(Object(se.h)(e))Object(D.c)(t,this.readNetworkLinksFromNode(e));else if("string"==typeof e){const o=Object(se.s)(e);Object(D.c)(t,this.readNetworkLinksFromDocument(o))}return t},Se.prototype.readNetworkLinksFromDocument=function(e){const t=[];for(let o=e.firstChild;o;o=o.nextSibling)o.nodeType==Node.ELEMENT_NODE&&Object(D.c)(t,this.readNetworkLinksFromNode(o));return t},Se.prototype.readNetworkLinksFromNode=function(e){const t=[];for(let o=e.firstElementChild;o;o=o.nextElementSibling)if(Object(D.f)(Ie,o.namespaceURI)&&"NetworkLink"==o.localName){const e=Object(se.u)({},qe,o,[]);t.push(e)}for(let o=e.firstElementChild;o;o=o.nextElementSibling){const e=o.localName;Object(D.f)(Ie,o.namespaceURI)&&("Document"==e||"Folder"==e||"kml"==e)&&Object(D.c)(t,this.readNetworkLinksFromNode(o))}return t},Se.prototype.readRegion=function(e){const t=[];if(Object(se.g)(e))Object(D.c)(t,this.readRegionFromDocument(e));else if(Object(se.h)(e))Object(D.c)(t,this.readRegionFromNode(e));else if("string"==typeof e){const o=Object(se.s)(e);Object(D.c)(t,this.readRegionFromDocument(o))}return t},Se.prototype.readRegionFromDocument=function(e){const t=[];for(let o=e.firstChild;o;o=o.nextSibling)o.nodeType==Node.ELEMENT_NODE&&Object(D.c)(t,this.readRegionFromNode(o));return t},Se.prototype.readRegionFromNode=function(e){const t=[];for(let o=e.firstElementChild;o;o=o.nextElementSibling)if(Object(D.f)(Ie,o.namespaceURI)&&"Region"==o.localName){const e=Object(se.u)({},Ye,o,[]);t.push(e)}for(let o=e.firstElementChild;o;o=o.nextElementSibling){const e=o.localName;Object(D.f)(Ie,o.namespaceURI)&&("Document"==e||"Folder"==e||"kml"==e)&&Object(D.c)(t,this.readRegionFromNode(o))}return t},Se.prototype.readProjection;const $e=Object(se.r)(Ie,{Data:Object(se.l)(function(e,t,o){e.setAttribute("name",t.name);const a={node:e},r=t.value;"object"==typeof r?(null!==r&&r.displayName&&Object(se.v)(a,$e,se.b,[r.displayName],o,["displayName"]),null!==r&&r.value&&Object(se.v)(a,$e,se.b,[r.value],o,["value"])):Object(se.v)(a,$e,se.b,[r],o,["value"])}),value:Object(se.l)(function(e,t){Object(z.n)(e,t)}),displayName:Object(se.l)(function(e,t){Object(z.j)(e,t)})}),et=Object(se.r)(Ie,{Placemark:Object(se.l)(O)}),tt=function(e,t){const o=t[t.length-1].node;return Object(se.d)(o.namespaceURI,"Placemark")},ot=Object(se.q)("Data"),at=Object(se.r)(Ie,["href"],Object(se.r)(Re,["x","y","w","h"])),rt=Object(se.r)(Ie,{href:Object(se.l)(z.n)},Object(se.r)(Re,{x:Object(se.l)(z.l),y:Object(se.l)(z.l),w:Object(se.l)(z.l),h:Object(se.l)(z.l)})),it=function(e,t,o){return Object(se.d)(Re[0],"gx:"+o)},nt=Object(se.r)(Ie,["scale","heading","Icon","hotSpot"]),st=Object(se.r)(Ie,{Icon:Object(se.l)(function(e,t,o){const a={node:e},r=o[o.length-1].node;let i=at[r.namespaceURI],n=Object(se.p)(t,i);Object(se.v)(a,rt,se.b,n,o,i),i=at[Re[0]],n=Object(se.p)(t,i),Object(se.v)(a,rt,it,n,o,i)}),heading:Object(se.l)(z.l),hotSpot:Object(se.l)(function(e,t){e.setAttribute("x",t.x),e.setAttribute("y",t.y),e.setAttribute("xunits",t.xunits),e.setAttribute("yunits",t.yunits)}),scale:Object(se.l)(A)}),lt=Object(se.r)(Ie,["color","scale"]),dt=Object(se.r)(Ie,{color:Object(se.l)(L),scale:Object(se.l)(A)}),pt=Object(se.r)(Ie,["color","width"]),gt=Object(se.r)(Ie,{color:Object(se.l)(L),width:Object(se.l)(z.l)}),_t={Point:"Point",LineString:"LineString",LinearRing:"LinearRing",Polygon:"Polygon",MultiPoint:"MultiGeometry",MultiLineString:"MultiGeometry",MultiPolygon:"MultiGeometry",GeometryCollection:"MultiGeometry"},ct=function(e,t){if(e){const o=t[t.length-1].node;return Object(se.d)(o.namespaceURI,_t[e.getType()])}},ut=Object(se.q)("Point"),yt=Object(se.q)("LineString"),mt=Object(se.q)("LinearRing"),ht=Object(se.q)("Polygon"),ft=Object(se.r)(Ie,{LineString:Object(se.l)(w),Point:Object(se.l)(w),Polygon:Object(se.l)(N),GeometryCollection:Object(se.l)(P)}),xt=Object(se.r)(Ie,{LinearRing:Object(se.l)(w)}),Et=Object(se.r)(Ie,{ExtendedData:Object(se.l)(function(e,t,o){const a={node:e},r=t.names,n=t.values,s=r.length;for(let l=0;l<s;l++)Object(se.v)(a,$e,ot,[{name:r[l],value:n[l]}],o)}),MultiGeometry:Object(se.l)(P),LineString:Object(se.l)(w),LinearRing:Object(se.l)(w),Point:Object(se.l)(w),Polygon:Object(se.l)(N),Style:Object(se.l)(function(e,t,o){const a={},r=t.getFill(),i=t.getStroke(),n=t.getImage(),s=t.getText();n instanceof te.a&&(a.IconStyle=n),s&&(a.LabelStyle=s),i&&(a.LineStyle=i),r&&(a.PolyStyle=r);const l=o[o.length-1].node,d=Ft[l.namespaceURI],p=Object(se.p)(a,d);Object(se.v)({node:e},Ot,se.b,p,o,d)}),address:Object(se.l)(z.n),description:Object(se.l)(z.n),name:Object(se.l)(z.n),open:Object(se.l)(z.i),phoneNumber:Object(se.l)(z.n),styleUrl:Object(se.l)(z.n),visibility:Object(se.l)(z.i)}),Ct=Object(se.r)(Ie,["name","open","visibility","address","phoneNumber","description","styleUrl","Style"]),Tt=Object(se.q)("ExtendedData"),St=Object(se.r)(Ie,["extrude","tessellate","altitudeMode","coordinates"]),Rt=Object(se.r)(Ie,{extrude:Object(se.l)(z.i),tessellate:Object(se.l)(z.i),altitudeMode:Object(se.l)(z.n),coordinates:Object(se.l)(function(e,t,o){const a=o[o.length-1],r=a.layout,n=a.stride;let s;r==V.a.XY||r==V.a.XYM?s=2:r==V.a.XYZ||r==V.a.XYZM?s=3:Object(k.a)(!1,34);const l=t.length;let p="";if(0<l){p+=t[0];for(let e=1;e<s;++e)p+=","+t[e];for(let e=n;e<l;e+=n){p+=" "+t[e];for(let o=1;o<s;++o)p+=","+t[e+o]}}Object(z.n)(e,p)})}),It=Object(se.r)(Ie,{outerBoundaryIs:Object(se.l)(F),innerBoundaryIs:Object(se.l)(F)}),bt=Object(se.q)("innerBoundaryIs"),vt=Object(se.q)("outerBoundaryIs"),Lt=Object(se.r)(Ie,{color:Object(se.l)(L)}),Pt=Object(se.q)("color"),Ft=Object(se.r)(Ie,["IconStyle","LabelStyle","LineStyle","PolyStyle"]),Ot=Object(se.r)(Ie,{IconStyle:Object(se.l)(function(e,t,o){const a={},r=t.getSrc(),i=t.getSize(),n=t.getImageSize(),s={href:r};if(i){s.w=i[0],s.h=i[1];const e=t.getAnchor(),o=t.getOrigin();if(o&&n&&0!==o[0]&&o[1]!==i[1]&&(s.x=o[0],s.y=n[1]-(o[1]+i[1])),e&&(e[0]!==i[0]/2||e[1]!==i[1]/2)){const t={x:e[0],xunits:oe.a.PIXELS,y:i[1]-e[1],yunits:oe.a.PIXELS};a.hotSpot=t}}a.Icon=s;const l=t.getScale();1!==l&&(a.scale=l);const d=t.getRotation();0!==d&&(a.heading=d);const p=o[o.length-1].node,g=nt[p.namespaceURI],_=Object(se.p)(a,g);Object(se.v)({node:e},st,se.b,_,o,g)}),LabelStyle:Object(se.l)(function(e,t,o){const a={},r=t.getFill();r&&(a.color=r.getColor());const i=t.getScale();i&&1!==i&&(a.scale=i);const n=o[o.length-1].node,s=lt[n.namespaceURI],l=Object(se.p)(a,s);Object(se.v)({node:e},dt,se.b,l,o,s)}),LineStyle:Object(se.l)(function(e,t,o){const a={color:t.getColor(),width:t.getWidth()},r=o[o.length-1].node,i=pt[r.namespaceURI],n=Object(se.p)(a,i);Object(se.v)({node:e},gt,se.b,n,o,i)}),PolyStyle:Object(se.l)(function(e,t,o){Object(se.v)({node:e},Lt,Pt,[t.getColor()],o)})}),wt=Object(se.r)(Ie,["Document","Placemark"]),Nt=Object(se.r)(Ie,{Document:Object(se.l)(function(e,t,o){Object(se.v)({node:e},et,tt,t,o,void 0,this)}),Placemark:Object(se.l)(O)});Se.prototype.writeFeatures,Se.prototype.writeFeaturesNode=function(e,t){t=this.adaptOptions(t);const o=Object(se.d)(Ie[4],"kml"),a="http://www.w3.org/2000/xmlns/";o.setAttributeNS(a,"xmlns:gx",Re[0]),o.setAttributeNS(a,"xmlns:xsi",se.c),o.setAttributeNS(se.c,"xsi:schemaLocation","http://www.opengis.net/kml/2.2 https://developers.google.com/kml/schema/kml22gx.xsd");const r={};1<e.length?r.Document=e:1==e.length&&(r.Placemark=e[0]);const i=wt[o.namespaceURI],n=Object(se.p)(r,i);return Object(se.v)({node:o},Nt,se.b,n,[t],i,this),o},t.a=Se},function(e,t,o){"use strict";var a=o(39);const r={STATIC_DRAW:a.s,STREAM_DRAW:a.u,DYNAMIC_DRAW:a.h},i=function(e,t){this.arr_=e===void 0?[]:e,this.usage_=t===void 0?r.STATIC_DRAW:t};i.prototype.getArray=function(){return this.arr_},i.prototype.getUsage=function(){return this.usage_},t.a=i},function(e,t,o){"use strict";function a(e,t,o,a,r,s,d){const p=(o-t)/a;if(3>p){for(;t<o;t+=a)s[d++]=e[t],s[d++]=e[t+1];return d}const n=Array(p);n[0]=1,n[p-1]=1;const i=[t,o-a];for(let p=0;0<i.length;){const o=i.pop(),s=i.pop();let d=0;const g=e[s],_=e[s+1],c=e[o],u=e[o+1];for(let t=s+a;t<o;t+=a){const o=e[t],a=e[t+1],r=Object(l.h)(o,a,g,_,c,u);r>d&&(p=t,d=r)}d>r&&(n[(p-t)/a]=1,s+a<p&&i.push(s,p),p+a<o&&i.push(p,o))}for(let l=0;l<p;++l)n[l]&&(s[d++]=e[t+l*a],s[d++]=e[t+l*a+1]);return d}function r(e,t){return t*Math.round(e/t)}function n(e,t,o,a,i,n,s){if(t==o)return s;let l=r(e[t],i),d=r(e[t+1],i);t+=a,n[s++]=l,n[s++]=d;let p,g;do if(p=r(e[t],i),g=r(e[t+1],i),t+=a,t==o)return n[s++]=p,n[s++]=g,s;while(p==l&&g==d);for(;t<o;){const o=r(e[t],i),_=r(e[t+1],i);if(t+=a,o==p&&_==g)continue;const c=p-l,u=g-d,y=o-l,m=_-d;if(c*m==u*y&&(0>c&&y<c||c==y||0<c&&y>c)&&(0>u&&m<u||u==m||0<u&&m>u)){p=o,g=_;continue}n[s++]=p,n[s++]=g,l=p,d=g,p=o,g=_}return n[s++]=p,n[s++]=g,s}function s(e,t,o,a,r,s,l,d){for(let p=0,i=o.length;p<i;++p){const i=o[p];l=n(e,t,i,a,r,s,l),d.push(l),t=i}return l}t.a=a,t.b=function(e,t,o,r,n,s,l,d){for(let p=0,i=o.length;p<i;++p){const i=o[p];l=a(e,t,i,r,n,s,l),d.push(l),t=i}return l},t.e=r,t.c=s,t.d=function(e,t,o,a,r,n,l,d){for(let p=0,i=o.length;p<i;++p){const i=o[p],g=[];l=s(e,t,i,a,r,n,l,g),d.push(g),t=i[i.length-1]}return l};var l=o(17)},function(e,t,o){"use strict";function a(e,t,o,a){let r=0,i=e[o-a],n=e[o-a+1];for(;t<o;t+=a){const o=e[t],a=e[t+1];r+=(o-i)*(a+n),i=o,n=a}return 0<r}function r(e,t,o,r,i){const n=i!==void 0&&i;for(let s=0,l=o.length;s<l;++s){const i=o[s],l=a(e,t,i,r);if(0===s){if(n&&l||!n&&!l)return!1;}else if(n&&!l||!n&&l)return!1;t=i}return!0}function n(e,t,o,r,i){const n=i!==void 0&&i;for(let l=0,d=o.length;l<d;++l){const i=o[l],d=a(e,t,i,r),p=0===l?n&&d||!n&&!d:n&&!d||!n&&d;p&&Object(s.a)(e,t,i,r),t=i}return t}t.a=a,t.b=r,t.c=function(e,t,o,a,n){for(let s=0,i=o.length;s<i;++s)if(!r(e,t,o[s],a,n))return!1;return!0},t.d=n,t.e=function(e,t,o,a,r){for(let s=0,i=o.length;s<i;++s)t=n(e,t,o[s],a,r);return t};var s=o(300)},function(e,t,o){"use strict";var a=o(0);const r=function(e){const t=e||{};this.color_=t.color===void 0?null:t.color,this.lineCap_=t.lineCap,this.lineDash_=t.lineDash===void 0?null:t.lineDash,this.lineDashOffset_=t.lineDashOffset,this.lineJoin_=t.lineJoin,this.miterLimit_=t.miterLimit,this.width_=t.width,this.checksum_=void 0};r.prototype.clone=function(){const e=this.getColor();return new r({color:e&&e.slice?e.slice():e||void 0,lineCap:this.getLineCap(),lineDash:this.getLineDash()?this.getLineDash().slice():void 0,lineDashOffset:this.getLineDashOffset(),lineJoin:this.getLineJoin(),miterLimit:this.getMiterLimit(),width:this.getWidth()})},r.prototype.getColor=function(){return this.color_},r.prototype.getLineCap=function(){return this.lineCap_},r.prototype.getLineDash=function(){return this.lineDash_},r.prototype.getLineDashOffset=function(){return this.lineDashOffset_},r.prototype.getLineJoin=function(){return this.lineJoin_},r.prototype.getMiterLimit=function(){return this.miterLimit_},r.prototype.getWidth=function(){return this.width_},r.prototype.setColor=function(e){this.color_=e,this.checksum_=void 0},r.prototype.setLineCap=function(e){this.lineCap_=e,this.checksum_=void 0},r.prototype.setLineDash=function(e){this.lineDash_=e,this.checksum_=void 0},r.prototype.setLineDashOffset=function(e){this.lineDashOffset_=e,this.checksum_=void 0},r.prototype.setLineJoin=function(e){this.lineJoin_=e,this.checksum_=void 0},r.prototype.setMiterLimit=function(e){this.miterLimit_=e,this.checksum_=void 0},r.prototype.setWidth=function(e){this.width_=e,this.checksum_=void 0},r.prototype.getChecksum=function(){return void 0===this.checksum_&&(this.checksum_="s",this.checksum_+=this.color_?"string"==typeof this.color_?this.color_:Object(a.f)(this.color_).toString():"-",this.checksum_+=","+(void 0===this.lineCap_?"-":this.lineCap_.toString())+","+(this.lineDash_?this.lineDash_.toString():"-")+","+(void 0===this.lineDashOffset_?"-":this.lineDashOffset_)+","+(void 0===this.lineJoin_?"-":this.lineJoin_)+","+(void 0===this.miterLimit_?"-":this.miterLimit_.toString())+","+(void 0===this.width_?"-":this.width_.toString())),this.checksum_},t.a=r},function(e,t){"use strict";t.b=.5;t.a=!0},function(e,t,o){"use strict";var a=o(116);const r=[a.a.POLYGON,a.a.CIRCLE,a.a.LINE_STRING,a.a.IMAGE,a.a.TEXT,a.a.DEFAULT];t.a=r;const i={};t.b=i,i.left=0,i.end=0,i.center=.5,i.right=1,i.start=1,i.top=0,i.middle=.5,i.hanging=.2,i.alphabetic=.8,i.ideographic=.8,i.bottom=1},function(e,t,o){"use strict";var a=o(0),r=o(35),i=o(51),n=o(79),s=o(11);const l=function(e,t,o){n.a.call(this);const a=o?o:{};this.tileCoord=e,this.state=t,this.interimTile=null,this.key="",this.transition_=a.transition===void 0?250:a.transition,this.transitionStarts_={}};Object(a.g)(l,n.a),l.prototype.changed=function(){this.dispatchEvent(s.a.CHANGE)},l.prototype.getKey=function(){return this.key+"/"+this.tileCoord},l.prototype.getInterimTile=function(){if(!this.interimTile)return this;let e=this.interimTile;do{if(e.getState()==r.a.LOADED)return e;e=e.interimTile}while(e);return this},l.prototype.refreshInterimChain=function(){if(!this.interimTile)return;let e=this.interimTile,t=this;do{if(e.getState()==r.a.LOADED){e.interimTile=null;break}else e.getState()==r.a.LOADING?t=e:e.getState()==r.a.IDLE?t.interimTile=e.interimTile:t=e;e=t.interimTile}while(e)},l.prototype.getTileCoord=function(){return this.tileCoord},l.prototype.getState=function(){return this.state},l.prototype.setState=function(e){this.state=e,this.changed()},l.prototype.load=function(){},l.prototype.getAlpha=function(e,t){if(!this.transition_)return 1;let o=this.transitionStarts_[e];if(!o)o=t,this.transitionStarts_[e]=o;else if(-1===o)return 1;const a=t-o+1e3/60;return a>=this.transition_?1:Object(i.a)(a/this.transition_)},l.prototype.inTransition=function(e){return!!this.transition_&&-1!==this.transitionStarts_[e]},l.prototype.endTransition=function(e){this.transition_&&(this.transitionStarts_[e]=-1)},t.a=l},function(e,t,o){"use strict";function a(e,t){const o=/\{z\}/g,a=/\{x\}/g,r=/\{y\}/g,n=/\{-y\}/g;return function(s){return s?e.replace(o,s[0].toString()).replace(a,s[1].toString()).replace(r,function(){const e=-s[2]-1;return e.toString()}).replace(n,function(){const e=s[0],o=t.getFullTileRange(e);Object(i.a)(o,55);const a=o.getHeight()+s[2];return a.toString()}):void 0}}function r(e){return 1===e.length?e[0]:function(t,o,a){if(!t)return;else{const r=Object(s.e)(t),i=Object(n.d)(r,e.length);return e[i](t,o,a)}}}t.a=function(e,t){const o=e.length,n=Array(o);for(let r=0;r<o;++r)n[r]=a(e[r],t);return r(n)},t.b=r,t.d=function(){},t.c=function(e){const t=[];let o=/\{([a-z])-([a-z])\}/.exec(e);if(o){const a=o[1].charCodeAt(0),r=o[2].charCodeAt(0);let i;for(i=a;i<=r;++i)t.push(e.replace(o[0],String.fromCharCode(i)));return t}if(o=o=/\{(\d+)-(\d+)\}/.exec(e),o){const a=parseInt(o[2],10);for(let r=parseInt(o[1],10);r<=a;r++)t.push(e.replace(o[0],r.toString()));return t}return t.push(e),t};var i=o(19),n=o(17),s=o(49)},function(e,t,o){"use strict";var a=Math.ceil,r=Math.floor,i=Math.min,n=Math.max,s=o(129),l=o(19),d=o(171),p=o(13),g=o(3),_=o(17),c=o(57),u=o(49);const y=function(e){this.minZoom=e.minZoom===void 0?0:e.minZoom,this.resolutions_=e.resolutions,Object(l.a)(Object(p.g)(this.resolutions_,function(e,t){return t-e},!0),17);let t;if(!e.origins)for(let e=0,o=this.resolutions_.length-1;e<o;++e)if(!t)t=this.resolutions_[e]/this.resolutions_[e+1];else if(this.resolutions_[e]/this.resolutions_[e+1]!==t){t=void 0;break}this.zoomFactor_=t,this.maxZoom=this.resolutions_.length-1,this.origin_=e.origin===void 0?null:e.origin,this.origins_=null,e.origins!==void 0&&(this.origins_=e.origins,Object(l.a)(this.origins_.length==this.resolutions_.length,20));const o=e.extent;o===void 0||this.origin_||this.origins_||(this.origin_=Object(g.C)(o)),Object(l.a)(!this.origin_&&this.origins_||this.origin_&&!this.origins_,18),this.tileSizes_=null,e.tileSizes!==void 0&&(this.tileSizes_=e.tileSizes,Object(l.a)(this.tileSizes_.length==this.resolutions_.length,19)),this.tileSize_=e.tileSize===void 0?this.tileSizes_?null:s.b:e.tileSize,Object(l.a)(!this.tileSize_&&this.tileSizes_||this.tileSize_&&!this.tileSizes_,22),this.extent_=o===void 0?null:o,this.fullTileRanges_=null,this.tmpSize_=[0,0],e.sizes===void 0?o&&this.calculateTileRanges_(o):this.fullTileRanges_=e.sizes.map(function(e){const t=new d.b(i(0,e[0]),n(e[0]-1,-1),i(0,e[1]),n(e[1]-1,-1));return t},this)},m=[0,0,0];y.prototype.forEachTileCoord=function(e,t,o){const a=this.getTileRangeForExtentAndZ(e,t);for(let r=a.minX,i=a.maxX;r<=i;++r)for(let e=a.minY,i=a.maxY;e<=i;++e)o([t,r,e])},y.prototype.forEachTileCoordParentTileRange=function(e,t,o,a,i){let n=null,s=e[0]-1,l,p,g;for(2===this.zoomFactor_?(p=e[1],g=e[2]):n=this.getTileCoordExtent(e,i);s>=this.minZoom;){if(2===this.zoomFactor_?(p=r(p/2),g=r(g/2),l=Object(d.a)(p,p,g,g,a)):l=this.getTileRangeForExtentAndZ(n,s,a),t.call(o,s,l))return!0;--s}return!1},y.prototype.getExtent=function(){return this.extent_},y.prototype.getMaxZoom=function(){return this.maxZoom},y.prototype.getMinZoom=function(){return this.minZoom},y.prototype.getOrigin=function(e){return this.origin_?this.origin_:this.origins_[e]},y.prototype.getResolution=function(e){return this.resolutions_[e]},y.prototype.getResolutions=function(){return this.resolutions_},y.prototype.getTileCoordChildTileRange=function(e,t,o){if(e[0]<this.maxZoom){if(2===this.zoomFactor_){const o=2*e[1],a=2*e[2];return Object(d.a)(o,o+1,a,a+1,t)}const a=this.getTileCoordExtent(e,o);return this.getTileRangeForExtentAndZ(a,e[0]+1,t)}return null},y.prototype.getTileRangeExtent=function(e,t,o){const a=this.getOrigin(e),r=this.getResolution(e),i=Object(c.d)(this.getTileSize(e),this.tmpSize_),n=a[0]+t.minX*i[0]*r,s=a[0]+(t.maxX+1)*i[0]*r,l=a[1]+t.minY*i[1]*r,d=a[1]+(t.maxY+1)*i[1]*r;return Object(g.k)(n,l,s,d,o)},y.prototype.getTileRangeForExtentAndZ=function(e,t,o){const a=m;this.getTileCoordForXYAndZ_(e[0],e[1],t,!1,a);const r=a[1],i=a[2];return this.getTileCoordForXYAndZ_(e[2],e[3],t,!0,a),Object(d.a)(r,a[1],i,a[2],o)},y.prototype.getTileCoordCenter=function(e){const t=this.getOrigin(e[0]),o=this.getResolution(e[0]),a=Object(c.d)(this.getTileSize(e[0]),this.tmpSize_);return[t[0]+(e[1]+.5)*a[0]*o,t[1]+(e[2]+.5)*a[1]*o]},y.prototype.getTileCoordExtent=function(e,t){const o=this.getOrigin(e[0]),a=this.getResolution(e[0]),r=Object(c.d)(this.getTileSize(e[0]),this.tmpSize_),i=o[0]+e[1]*r[0]*a,n=o[1]+e[2]*r[1]*a,s=i+r[0]*a,l=n+r[1]*a;return Object(g.k)(i,n,s,l,t)},y.prototype.getTileCoordForCoordAndResolution=function(e,t,o){return this.getTileCoordForXYAndResolution_(e[0],e[1],t,!1,o)},y.prototype.getTileCoordForXYAndResolution_=function(e,t,o,i,n){const s=this.getZForResolution(o),l=o/this.getResolution(s),d=this.getOrigin(s),p=Object(c.d)(this.getTileSize(s),this.tmpSize_),g=i?.5:0,_=i?0:.5,y=r((e-d[0])/o+g),m=r((t-d[1])/o+_);let h=l*y/p[0],f=l*m/p[1];return i?(h=a(h)-1,f=a(f)-1):(h=r(h),f=r(f)),Object(u.a)(s,h,f,n)},y.prototype.getTileCoordForXYAndZ_=function(e,t,o,i,n){const s=this.getOrigin(o),l=this.getResolution(o),d=Object(c.d)(this.getTileSize(o),this.tmpSize_),p=i?.5:0,g=i?0:.5,_=r((e-s[0])/l+p),y=r((t-s[1])/l+g);let m=_/d[0],h=y/d[1];return i?(m=a(m)-1,h=a(h)-1):(m=r(m),h=r(h)),Object(u.a)(o,m,h,n)},y.prototype.getTileCoordForCoordAndZ=function(e,t,o){return this.getTileCoordForXYAndZ_(e[0],e[1],t,!1,o)},y.prototype.getTileCoordResolution=function(e){return this.resolutions_[e[0]]},y.prototype.getTileSize=function(e){return this.tileSize_?this.tileSize_:this.tileSizes_[e]},y.prototype.getFullTileRange=function(e){return this.fullTileRanges_?this.fullTileRanges_[e]:null},y.prototype.getZForResolution=function(e,t){const o=Object(p.h)(this.resolutions_,e,t||0);return Object(_.a)(o,this.minZoom,this.maxZoom)},y.prototype.calculateTileRanges_=function(e){const t=this.resolutions_.length,o=Array(t);for(let a=this.minZoom;a<t;++a)o[a]=this.getTileRangeForExtentAndZ(e,a);this.fullTileRanges_=o},t.a=y},function(e,t,o){"use strict";var a=o(0),r=o(55),i=o(19),n=o(244),s=o(25),l=o(242),d=o(10);const p=function(e){const t=e?e:{};let o=t.renderMode||l.a.HYBRID;Object(i.a)(o==void 0||o==l.a.IMAGE||o==l.a.HYBRID||o==l.a.VECTOR,28),t.declutter&&o==l.a.IMAGE&&(o=l.a.HYBRID),t.renderMode=o;const a=Object(d.a)({},t);delete a.preload,delete a.useInterimTilesOnError,s.a.call(this,a),this.setPreload(t.preload?t.preload:0),this.setUseInterimTilesOnError(!(t.useInterimTilesOnError!==void 0)||t.useInterimTilesOnError),this.type=r.a.VECTOR_TILE};Object(a.g)(p,s.a),p.prototype.getPreload=function(){return this.get(n.a.PRELOAD)},p.prototype.getUseInterimTilesOnError=function(){return this.get(n.a.USE_INTERIM_TILES_ON_ERROR)},p.prototype.setPreload=function(e){this.set(n.a.PRELOAD,e)},p.prototype.setUseInterimTilesOnError=function(e){this.set(n.a.USE_INTERIM_TILES_ON_ERROR,e)},p.prototype.getSource,t.a=p},function(e,t){"use strict";t.a=function(e,t){const o=[];Object.keys(t).forEach(function(e){null!==t[e]&&void 0!==t[e]&&o.push(e+"="+encodeURIComponent(t[e]))});const a=o.join("&");return e=e.replace(/[?&]$/,""),e=-1===e.indexOf("?")?e+"?":e+"&",e+a}},function(e,t,o){"use strict";var a=Math.round,r=Math.ceil,i=Math.floor,n=o(252),s=o(0),l=o(139),d=o(19),p=o(8),g=o(11),_=o(3),c=o(10),u=o(4),m=o(138),y=o(82),h=o(253),f=o(131),x=o(96);const E=function(e){const t=e||{};y.a.call(this,{attributions:t.attributions,projection:t.projection,resolutions:t.resolutions}),this.crossOrigin_=t.crossOrigin===void 0?null:t.crossOrigin,this.url_=t.url,this.imageLoadFunction_=t.imageLoadFunction===void 0?y.b:t.imageLoadFunction,this.params_=t.params||{},this.v13_=!0,this.updateV13_(),this.serverType_=t.serverType,this.hidpi_=!(t.hidpi!==void 0)||t.hidpi,this.image_=null,this.imageSize_=[0,0],this.renderedRevision_=0,this.ratio_=t.ratio===void 0?1.5:t.ratio};Object(s.g)(E,y.a);const C=[101,101];E.prototype.getGetFeatureInfoUrl=function(e,t,o,a){if(void 0!==this.url_){const r=Object(u.h)(o),s=this.getProjection();s&&s!==r&&(t=Object(m.a)(s,r,e,t),e=Object(u.n)(e,r,s));const l=Object(_.z)(e,t,0,C),d={SERVICE:"WMS",VERSION:n.a,REQUEST:"GetFeatureInfo",FORMAT:"image/png",TRANSPARENT:!0,QUERY_LAYERS:this.params_.LAYERS};Object(c.a)(d,this.params_,a);const p=i((e[0]-l[0])/t),g=i((l[3]-e[1])/t);return d[this.v13_?"I":"X"]=p,d[this.v13_?"J":"Y"]=g,this.getRequestUrl_(l,C,1,s||r,d)}},E.prototype.getParams=function(){return this.params_},E.prototype.getImageInternal=function(e,t,o,i){if(void 0===this.url_)return null;t=this.findNearestResolution(t),1==o||this.hidpi_&&void 0!==this.serverType_||(o=1);const s=t/o,d=Object(_.x)(e),u=r(Object(_.E)(e)/s),y=r(Object(_.A)(e)/s),m=Object(_.z)(d,s,0,[u,y]),h=r(this.ratio_*Object(_.E)(e)/s),f=r(this.ratio_*Object(_.A)(e)/s),x=Object(_.z)(d,s,0,[h,f]),E=this.image_;if(E&&this.renderedRevision_==this.getRevision()&&E.getResolution()==t&&E.getPixelRatio()==o&&Object(_.g)(E.getExtent(),m))return E;const C={SERVICE:"WMS",VERSION:n.a,REQUEST:"GetMap",FORMAT:"image/png",TRANSPARENT:!0};Object(c.a)(C,this.params_),this.imageSize_[0]=a(Object(_.E)(x)/s),this.imageSize_[1]=a(Object(_.A)(x)/s);const T=this.getRequestUrl_(x,this.imageSize_,o,i,C);return this.image_=new l.a(x,t,o,T,this.crossOrigin_,this.imageLoadFunction_),this.renderedRevision_=this.getRevision(),Object(p.a)(this.image_,g.a.CHANGE,this.handleImageChange,this),this.image_},E.prototype.getImageLoadFunction=function(){return this.imageLoadFunction_},E.prototype.getRequestUrl_=function(e,t,o,a,r){if(Object(d.a)(void 0!==this.url_,9),r[this.v13_?"CRS":"SRS"]=a.getCode(),"STYLES"in this.params_||(r.STYLES=""),1!=o)switch(this.serverType_){case h.a.GEOSERVER:const e=0|90*o+.5;"FORMAT_OPTIONS"in r?r.FORMAT_OPTIONS+=";dpi:"+e:r.FORMAT_OPTIONS="dpi:"+e;break;case h.a.MAPSERVER:r.MAP_RESOLUTION=90*o;break;case h.a.CARMENTA_SERVER:case h.a.QGIS:r.DPI=90*o;break;default:Object(d.a)(!1,8);}r.WIDTH=t[0],r.HEIGHT=t[1];const i=a.getAxisOrientation();let n;return n=this.v13_&&"ne"==i.substr(0,2)?[e[1],e[0],e[3],e[2]]:e,r.BBOX=n.join(","),Object(x.a)(this.url_,r)},E.prototype.getUrl=function(){return this.url_},E.prototype.setImageLoadFunction=function(e){this.image_=null,this.imageLoadFunction_=e,this.changed()},E.prototype.setUrl=function(e){e!=this.url_&&(this.url_=e,this.image_=null,this.changed())},E.prototype.updateParams=function(e){Object(c.a)(this.params_,e),this.updateV13_(),this.image_=null,this.changed()},E.prototype.updateV13_=function(){const e=this.params_.VERSION||n.a;this.v13_=0<=Object(f.a)(e,"1.3")},t.a=E},function(e,t,o){"use strict";var a=o(0),r=o(13),i=o(36),n=o(114),s=o(43);const l=function(){this.xmlSerializer_=new XMLSerializer,i.a.call(this)};Object(a.g)(l,i.a),l.prototype.getType=function(){return n.a.XML},l.prototype.readFeature=function(e,t){if(Object(s.g)(e))return this.readFeatureFromDocument(e,t);if(Object(s.h)(e))return this.readFeatureFromNode(e,t);if("string"==typeof e){const o=Object(s.s)(e);return this.readFeatureFromDocument(o,t)}return null},l.prototype.readFeatureFromDocument=function(e,t){const o=this.readFeaturesFromDocument(e,t);return 0<o.length?o[0]:null},l.prototype.readFeatureFromNode=function(){return null},l.prototype.readFeatures=function(e,t){if(Object(s.g)(e))return this.readFeaturesFromDocument(e,t);if(Object(s.h)(e))return this.readFeaturesFromNode(e,t);if("string"==typeof e){const o=Object(s.s)(e);return this.readFeaturesFromDocument(o,t)}return[]},l.prototype.readFeaturesFromDocument=function(e,t){const o=[];for(let a=e.firstChild;a;a=a.nextSibling)a.nodeType==Node.ELEMENT_NODE&&Object(r.c)(o,this.readFeaturesFromNode(a,t));return o},l.prototype.readFeaturesFromNode=function(){},l.prototype.readGeometry=function(e,t){if(Object(s.g)(e))return this.readGeometryFromDocument(e,t);if(Object(s.h)(e))return this.readGeometryFromNode(e,t);if("string"==typeof e){const o=Object(s.s)(e);return this.readGeometryFromDocument(o,t)}return null},l.prototype.readGeometryFromDocument=function(){return null},l.prototype.readGeometryFromNode=function(){return null},l.prototype.readProjection=function(e){if(Object(s.g)(e))return this.readProjectionFromDocument(e);if(Object(s.h)(e))return this.readProjectionFromNode(e);if("string"==typeof e){const t=Object(s.s)(e);return this.readProjectionFromDocument(t)}return null},l.prototype.readProjectionFromDocument=function(){return this.defaultDataProjection},l.prototype.readProjectionFromNode=function(){return this.defaultDataProjection},l.prototype.writeFeature=function(e,t){const o=this.writeFeatureNode(e,t);return this.xmlSerializer_.serializeToString(o)},l.prototype.writeFeatureNode=function(){return null},l.prototype.writeFeatures=function(e,t){const o=this.writeFeaturesNode(e,t);return this.xmlSerializer_.serializeToString(o)},l.prototype.writeFeaturesNode=function(){return null},l.prototype.writeGeometry=function(e,t){const o=this.writeGeometryNode(e,t);return this.xmlSerializer_.serializeToString(o)},l.prototype.writeGeometryNode=function(){return null},t.a=l},function(e,t,o){"use strict";var a=o(0),r=o(122);const i=function(e,t,o,a){r.a.call(this,e,t),this.expression=o,this.matchCase=a};Object(a.g)(i,r.a),t.a=i},function(e,t,o){"use strict";var a=Math.round,r=o(0),i=o(35),n=o(404),s=o(405),l=o(57),d=o(173),p=o(49),g=o(69);const _=function(e){const t=e.projection||"EPSG:3857",o=e.extent||Object(g.c)(t),a=e.tileGrid||Object(g.b)({extent:o,maxZoom:e.maxZoom||22,minZoom:e.minZoom,tileSize:e.tileSize||512});d.a.call(this,{attributions:e.attributions,cacheSize:e.cacheSize===void 0?128:e.cacheSize,extent:o,opaque:!1,projection:t,state:e.state,tileGrid:a,tileLoadFunction:e.tileLoadFunction?e.tileLoadFunction:n.b,tileUrlFunction:e.tileUrlFunction,url:e.url,urls:e.urls,wrapX:!(e.wrapX!==void 0)||e.wrapX,transition:e.transition}),this.format_=e.format?e.format:null,this.sourceTiles_={},this.overlaps_=!(e.overlaps!=void 0)||e.overlaps,this.tileClass=e.tileClass?e.tileClass:s.a,this.tileGrids_={}};Object(r.g)(_,d.a),_.prototype.getOverlaps=function(){return this.overlaps_},_.prototype.clear=function(){this.tileCache.clear(),this.sourceTiles_={}},_.prototype.getTile=function(e,t,o,a,r){const s=Object(p.d)(e,t,o);if(this.tileCache.containsKey(s))return this.tileCache.get(s);else{const l=[e,t,o],d=this.getTileCoordForTileUrlFunction(l,r),p=new n.a(l,null===d?i.a.EMPTY:i.a.IDLE,this.getRevision(),this.format_,this.tileLoadFunction,d,this.tileUrlFunction,this.tileGrid,this.getTileGridForProjection(r),this.sourceTiles_,a,r,this.tileClass,this.handleTileChange.bind(this),this.tileOptions);return this.tileCache.set(s,p),p}},_.prototype.getTileGridForProjection=function(e){const t=e.getCode();let o=this.tileGrids_[t];if(!o){const a=this.tileGrid;o=this.tileGrids_[t]=Object(g.a)(e,void 0,a?a.getTileSize(a.getMinZoom()):void 0)}return o},_.prototype.getTilePixelRatio=function(e){return e},_.prototype.getTilePixelSize=function(e,t,o){const r=this.getTileGridForProjection(o),i=Object(l.d)(r.getTileSize(e),this.tmpSize);return[a(i[0]*t),a(i[1]*t)]},t.a=_},function(e,t,o){"use strict";var a=o(0),r=o(39),i=o(272);const n=function(e){i.a.call(this,e)};Object(a.g)(n,i.a),n.prototype.getType=function(){return r.k},t.a=n},function(e,t,o){"use strict";var a=o(0),r=o(39),i=o(272);const n=function(e){i.a.call(this,e)};Object(a.g)(n,i.a),n.prototype.getType=function(){return r.G},t.a=n},function(e,t,o){"use strict";t.a=function(e){const t=Object.keys(e.defs),o=t.length;let n,s;for(n=0;n<o;++n){const o=t[n];if(!Object(a.h)(o)){const t=e.defs(o);Object(a.d)(new i.a({code:o,axisOrientation:t.axis,metersPerUnit:t.to_meter,units:t.units}))}}for(n=0;n<o;++n){const i=t[n],l=Object(a.h)(i);for(s=0;s<o;++s){const o=t[s],n=Object(a.h)(o);if(!Object(r.c)(i,o))if(e.defs[i]===e.defs[o])Object(a.c)([l,n]);else{const t=e(i,o);Object(a.b)(l,n,t.forward,t.inverse)}}}};var a=o(4),r=o(207),i=o(52)},function(e,t,o){"use strict";var a=o(491),r=o(191),i=o(510),n=o(282),s=o(278),l=o(281),d=o(283),p=o(511),g=o(513);a.a.defaultDatum="WGS84",a.a.Proj=r.a,a.a.WGS84=new a.a.Proj("WGS84"),a.a.Point=i.a,a.a.toPoint=n.a,a.a.defs=s.a,a.a.transform=l.a,a.a.mgrs=d.a,a.a.version=p.a,Object(g.a)(a.a),t.a=a.a},function(e,t){"use strict";t.a=function(e,t,o){var a=e*t;return o/Math.sqrt(1-a*a)}},function(e,t){"use strict";t.a=function(e){return 1<Math.abs(e)&&(e=1<e?1:-1),Math.asin(e)}},function(e,t){"use strict";t.a={PROPERTYCHANGE:"propertychange"}},function(e,t,o){"use strict";t.b=function(e){if(Array.isArray(e))for(let t=0,o=e.length;t<o;++t)Object(r.e)(e[t]);else Object(r.e)(e)};var a=o(0),r=o(8),i=o(79),n=o(11);const s=function(){i.a.call(this),this.revision_=0};Object(a.g)(s,i.a),s.prototype.changed=function(){++this.revision_,this.dispatchEvent(n.a.CHANGE)},s.prototype.dispatchEvent,s.prototype.getRevision=function(){return this.revision_},s.prototype.on=function(e,t){if(Array.isArray(e)){const o=e.length,a=Array(o);for(let n=0;n<o;++n)a[n]=Object(r.a)(this,e[n],t);return a}return Object(r.a)(this,e,t)},s.prototype.once=function(e,t){if(Array.isArray(e)){const o=e.length,a=Array(o);for(let n=0;n<o;++n)a[n]=Object(r.b)(this,e[n],t);return a}return Object(r.b)(this,e,t)},s.prototype.un=function(e,t){if(Array.isArray(e)){for(let o=0,a=e.length;o<a;++o)Object(r.c)(this,e[o],t);return}Object(r.c)(this,e,t)},t.a=s},function(e,t,o){"use strict";var a=o(0),r=o(199);const i=function(e,t,o,a,i){r.a.call(this,e,t,o.originalEvent,a,i),this.pointerEvent=o};Object(a.g)(i,r.a),t.a=i},function(e,t,o){"use strict";function a(e,o,a,r,i,n,s){const l=e[o],d=e[o+1],g=e[a]-l,_=e[a+1]-d;let c;if(0==g&&0==_)c=o;else{const u=((i-l)*g+(n-d)*_)/(g*g+_*_);if(1<u)c=a;else{if(0<u){for(let t=0;t<r;++t)s[t]=Object(p.c)(e[o+t],e[a+t],u);return void(s.length=r)}c=o}}for(let t=0;t<r;++t)s[t]=e[c+t];s.length=r}function r(e,t,o,a,r){let i=e[t],n=e[t+1];for(t+=a;t<o;t+=a){const o=e[t],a=e[t+1],s=Object(p.g)(i,n,o,a);s>r&&(r=s),i=o,n=a}return r}function n(e,t,o,a,n){for(let s=0,i=o.length;s<i;++s){const i=o[s];n=r(e,t,i,a,n),t=i}return n}function s(e,t,o,r,n,s,l,g,_,c,u){if(t==o)return c;let y,i;if(0===n){if(i=Object(p.g)(l,g,e[t],e[t+1]),i<c){for(y=0;y<r;++y)_[y]=e[t+y];return _.length=r,i}return c}const m=u?u:[NaN,NaN];for(let h=t+r;h<o;)if(a(e,h-r,h,r,l,g,m),i=Object(p.g)(l,g,m[0],m[1]),i<c){for(c=i,y=0;y<r;++y)_[y]=m[y];_.length=r,h+=r}else h+=r*Math.max(0|(d(i)-d(c))/n,1);if(s&&(a(e,o-r,t,r,l,g,m),i=Object(p.g)(l,g,m[0],m[1]),i<c)){for(c=i,y=0;y<r;++y)_[y]=m[y];_.length=r}return c}function l(e,t,o,a,r,n,l,d,p,g,i){const _=i?i:[NaN,NaN];for(let c=0,u=o.length;c<u;++c){const i=o[c];g=s(e,t,i,a,r,n,l,d,p,g,_),t=i}return g}var d=Math.sqrt;t.e=r,t.a=n,t.f=function(e,t,o,a,r){for(let s=0,i=o.length;s<i;++s){const i=o[s];r=n(e,t,i,a,r),t=i[i.length-1]}return r},t.d=s,t.b=l,t.c=function(e,t,o,a,r,n,s,d,p,g,i){const _=i?i:[NaN,NaN];for(let c=0,u=o.length;c<u;++c){const i=o[c];g=l(e,t,i,a,r,n,s,d,p,g,_),t=i[i.length-1]}return g};var p=o(17)},function(e,t,o){"use strict";function a(e,t,o,a,r,i){let n=0,s=e[o-a],l=e[o-a+1];for(;t<o;t+=a){const o=e[t],a=e[t+1];l<=i?a>i&&0<(o-s)*(i-l)-(r-s)*(a-l)&&n++:a<=i&&0>(o-s)*(i-l)-(r-s)*(a-l)&&n--,s=o,l=a}return 0!=n}function r(e,t,o,r,n,s){if(0===o.length)return!1;if(!a(e,t,o[0],r,n,s))return!1;for(let l=1,i=o.length;l<i;++l)if(a(e,o[l-1],o[l],r,n,s))return!1;return!0}t.a=function(e,t,o,r,n){const s=Object(i.t)(n,function(i){return!a(e,t,o,r,i[0],i[1])});return!s},t.b=a,t.c=r,t.d=function(e,t,o,a,n,s){if(0===o.length)return!1;for(let l=0,i=o.length;l<i;++l){const i=o[l];if(r(e,t,i,a,n,s))return!0;t=i[i.length-1]}return!1};var i=o(3)},function(e,t,o){"use strict";function a(e){return"string"==typeof e||e instanceof CanvasPattern||e instanceof CanvasGradient}t.a=function(e){return a(e)?e:Object(r.c)(e)};var r=o(66)},function(e,t,o){"use strict";var a=o(0),r=o(66);const i=function(e){const t=e||{};this.color_=t.color===void 0?null:t.color,this.checksum_=void 0};i.prototype.clone=function(){const e=this.getColor();return new i({color:e&&e.slice?e.slice():e||void 0})},i.prototype.getColor=function(){return this.color_},i.prototype.setColor=function(e){this.color_=e,this.checksum_=void 0},i.prototype.getChecksum=function(){return void 0===this.checksum_&&(this.color_ instanceof CanvasPattern||this.color_ instanceof CanvasGradient?this.checksum_=Object(a.f)(this.color_).toString():this.checksum_="f"+(this.color_?Object(r.b)(this.color_):"-")),this.checksum_},t.a=i},function(e,t){"use strict";t.a={ARRAY_BUFFER:"arraybuffer",JSON:"json",TEXT:"text",XML:"xml"}},function(e,t){"use strict";t.a=function(){return[[-Infinity,-Infinity,Infinity,Infinity]]},t.b=function(e){return[e]},t.c=function(e){return function(t,o){const a=e.getZForResolution(o),r=e.getTileRangeForExtentAndZ(t,a),i=[],n=[a,0,0];for(n[1]=r.minX;n[1]<=r.maxX;++n[1])for(n[2]=r.minY;n[2]<=r.maxY;++n[2])i.push(e.getTileCoordExtent(n));return i}}},function(e,t){"use strict";t.a={CIRCLE:"Circle",DEFAULT:"Default",IMAGE:"Image",LINE_STRING:"LineString",POLYGON:"Polygon",TEXT:"Text"}},function(e,t,o){"use strict";var a=Math.round,n=o(0),r=o(18),s=o(13),i=o(112),l=o(3),d=o(206),p=o(22),g=o(73),_=o(228),c=o(312),u=o(63),y=o(37),m=o(10),h=o(137),f=o(67),E=o(118),x=o(91),C=o(27);const T=function(e,t,o,a,r,i){h.a.call(this),this.declutterTree=i,this.tolerance=e,this.maxExtent=t,this.overlaps=r,this.pixelRatio=a,this.maxLineWidth=0,this.resolution=o,this.fillOrigin_,this.beginGeometryInstruction1_=null,this.beginGeometryInstruction2_=null,this.bufferedMaxExtent_=null,this.instructions=[],this.coordinates=[],this.coordinateCache_={},this.renderedTransform_=Object(C.c)(),this.hitDetectionInstructions=[],this.pixelCoordinates_=null,this.state={},this.viewRotation_=0};Object(n.g)(T,h.a);const S=Object(l.j)(),R=Object(C.c)();T.prototype.replayTextBackground_=function(e,t,o,a,r,i,n){e.beginPath(),e.moveTo.apply(e,t),e.lineTo.apply(e,o),e.lineTo.apply(e,a),e.lineTo.apply(e,r),e.lineTo.apply(e,t),i&&(this.fillOrigin_=i[2],this.fill_(e)),n&&(this.setStrokeStyle_(e,n),e.stroke())},T.prototype.replayImage_=function(e,t,o,r,i,n,s,d,p,g,_,c,u,y,m,x,E,T){const I=E||T;i*=u,n*=u,t-=i,o-=n;const b=m+g>r.width?r.width-g:m,v=d+_>r.height?r.height-_:d,h=x[3]+b*u+x[1],L=x[0]+v*u+x[2],P=t-x[3],F=o-x[0];let O,w,N,A;(I||0!==c)&&(O=[P,F],w=[P+h,F],N=[P+h,F+L],A=[P,F+L]);let M=null;if(0!==c){const e=t+i,a=o+n;M=Object(C.b)(R,e,a,1,1,c,-e,-a),Object(l.l)(S),Object(l.r)(S,Object(C.a)(R,O)),Object(l.r)(S,Object(C.a)(R,w)),Object(l.r)(S,Object(C.a)(R,N)),Object(l.r)(S,Object(C.a)(R,A))}else Object(l.k)(P,F,P+h,F+L,S);const G=e.canvas,D=T?T[2]*u/2:0,k=S[0]-D<=G.width&&0<=S[2]+D&&S[1]-D<=G.height&&0<=S[3]+D;if(y&&(t=a(t),o=a(o)),s){if(!k&&1==s[4])return;Object(l.q)(s,S);const a=k?[e,M?M.slice(0):null,p,r,g,_,b,v,t,o,u]:null;a&&I&&a.push(E,T,O,w,N,A),s.push(a)}else k&&(I&&this.replayTextBackground_(e,O,w,N,A,E,T),Object(f.n)(e,M,p,r,g,_,b,v,t,o,u))},T.prototype.applyPixelRatio=function(e){const t=this.pixelRatio;return 1==t?e:e.map(function(e){return e*t})},T.prototype.appendFlatCoordinates=function(e,t,o,a,r,n){let s=this.coordinates.length;const p=this.getBufferedMaxExtent();n&&(t+=a);const g=[e[t],e[t+1]],_=[NaN,NaN];let c=!0,u,i,y;for(u=t+a;u<o;u+=a)_[0]=e[u],_[1]=e[u+1],y=Object(l.i)(p,_),y===i?y===d.a.INTERSECTING?(this.coordinates[s++]=_[0],this.coordinates[s++]=_[1],c=!1):c=!0:(c&&(this.coordinates[s++]=g[0],this.coordinates[s++]=g[1]),this.coordinates[s++]=_[0],this.coordinates[s++]=_[1],c=!1),g[0]=_[0],g[1]=_[1],i=y;return(r&&c||u===t+a)&&(this.coordinates[s++]=g[0],this.coordinates[s++]=g[1]),s},T.prototype.drawCustomCoordinates_=function(e,t,o,a,r){for(let n=0,i=o.length;n<i;++n){const i=o[n],s=this.appendFlatCoordinates(e,t,i,a,!1,!1);r.push(s),t=i}return t},T.prototype.drawCustom=function(e,t,o){this.beginGeometry(e,t);const a=e.getType(),r=e.getStride(),i=this.coordinates.length;let n,s,l,d,_;if(a==p.a.MULTI_POLYGON){e=e,n=e.getOrientedFlatCoordinates(),d=[];const t=e.getEndss();_=0;for(let e=0,o=t.length;e<o;++e){const o=[];_=this.drawCustomCoordinates_(n,_,t[e],r,o),d.push(o)}this.instructions.push([E.c.CUSTOM,i,d,e,o,g.c])}else a==p.a.POLYGON||a==p.a.MULTI_LINE_STRING?(l=[],n=a==p.a.POLYGON?e.getOrientedFlatCoordinates():e.getFlatCoordinates(),_=this.drawCustomCoordinates_(n,0,e.getEnds(),r,l),this.instructions.push([E.c.CUSTOM,i,l,e,o,g.b])):a==p.a.LINE_STRING||a==p.a.MULTI_POINT?(n=e.getFlatCoordinates(),s=this.appendFlatCoordinates(n,0,n.length,r,!1,!1),this.instructions.push([E.c.CUSTOM,i,s,e,o,g.a])):a==p.a.POINT&&(n=e.getFlatCoordinates(),this.coordinates.push(n[0],n[1]),s=this.coordinates.length,this.instructions.push([E.c.CUSTOM,i,s,e,o]));this.endGeometry(e,t)},T.prototype.beginGeometry=function(e,t){this.beginGeometryInstruction1_=[E.c.BEGIN_GEOMETRY,t,0],this.instructions.push(this.beginGeometryInstruction1_),this.beginGeometryInstruction2_=[E.c.BEGIN_GEOMETRY,t,0],this.hitDetectionInstructions.push(this.beginGeometryInstruction2_)},T.prototype.fill_=function(e){if(this.fillOrigin_){const t=Object(C.a)(this.renderedTransform_,this.fillOrigin_.slice());e.translate(t[0],t[1]),e.rotate(this.viewRotation_)}e.fill(),this.fillOrigin_&&e.setTransform.apply(e,f.r)},T.prototype.setStrokeStyle_=function(e,t){e.strokeStyle=t[1],e.lineWidth=t[2],e.lineCap=t[3],e.lineJoin=t[4],e.miterLimit=t[5],y.a&&(e.lineDashOffset=t[7],e.setLineDash(t[6]))},T.prototype.renderDeclutter_=function(e,t){if(e&&5<e.length){const o=e[4];if(1==o||o==e.length-5){const o={minX:e[0],minY:e[1],maxX:e[2],maxY:e[3],value:t};if(!this.declutterTree.collides(o)){this.declutterTree.insert(o);for(let t=5,o=e.length;t<o;++t){const o=e[t];o&&(11<o.length&&this.replayTextBackground_(o[0],o[13],o[14],o[15],o[16],o[11],o[12]),f.n.apply(void 0,o))}}e.length=5,Object(l.l)(e)}}},T.prototype.replay_=function(e,t,o,a,p,g){let h;this.pixelCoordinates_&&Object(s.b)(t,this.renderedTransform_)?h=this.pixelCoordinates_:(!this.pixelCoordinates_&&(this.pixelCoordinates_=[]),h=Object(u.c)(this.coordinates,0,this.coordinates.length,2,t,this.pixelCoordinates_),Object(C.i)(this.renderedTransform_,t));const T=!Object(m.d)(o);let S=0;const r=a.length;let i=0,d=0,R=0,I=null,b=null,v,L,P,F,O,w,N,A,M;const G=this.coordinateCache_,y=this.viewRotation_,D={context:e,pixelRatio:this.pixelRatio,resolution:this.resolution,rotation:y},k=this.instructions!=a||this.overlaps?0:200;for(let s,u,m;S<r;){const t=a[S],C=t[0];switch(C){case E.c.BEGIN_GEOMETRY:s=t[1],T&&o[Object(n.f)(s).toString()]||!s.getGeometry()?S=t[2]:void 0===g||Object(l.F)(g,s.getGeometry().getExtent())?++S:S=t[2]+1;break;case E.c.BEGIN_PATH:d>k&&(this.fill_(e),d=0),R>k&&(e.stroke(),R=0),d||R||(e.beginPath(),F=O=NaN),++S;break;case E.c.CIRCLE:i=t[1];const a=h[i],j=h[i+1],U=h[i+2],B=h[i+3],z=U-a,Y=B-j,V=Math.sqrt(z*z+Y*Y);e.moveTo(a+V,j),e.arc(a,j,V,0,2*Math.PI,!0),++S;break;case E.c.CLOSE_PATH:e.closePath(),++S;break;case E.c.CUSTOM:i=t[1],v=t[2];const r=t[3],X=t[4],W=6==t.length?t[5]:void 0;D.geometry=r,D.feature=s,S in G||(G[S]=[]);const K=G[S];W?W(h,i,v,2,K):(K[0]=h[i],K[1]=h[i+1],K.length=2),X(K,D),++S;break;case E.c.DRAW_IMAGE:i=t[1],v=t[2],M=t[3],L=t[4],P=t[5],A=p?null:t[6];const H=t[7],Z=t[8],q=t[9],J=t[10],Q=t[11];let $=t[12];const ee=t[13],te=t[14],oe=t[15];let ae,re,ie;for(16<t.length?(ae=t[16],re=t[17],ie=t[18]):(ae=f.j,re=ie=!1),Q&&($+=y);i<v;i+=2)this.replayImage_(e,h[i],h[i+1],M,L,P,A,H,Z,q,J,$,ee,te,oe,ae,re?I:null,ie?b:null);this.renderDeclutter_(A,s),++S;break;case E.c.DRAW_CHARS:const ne=t[1],se=t[2],le=t[3];A=p?null:t[4];const de=t[5],pe=t[6],ge=t[7],_e=t[8],ce=t[9],ue=t[10],ye=t[11],me=t[12],he=t[13],fe=t[14],xe=Object(_.a)(h,ne,se,2),Ee=_e(me);if(de||Ee<=xe){const t=this.textStates[he].textAlign,o=(xe-Ee)*x.b[t],a=Object(c.a)(h,ne,se,2,me,_e,o,ge);if(a){let t,o,r,i,n;if(ue)for(t=0,o=a.length;t<o;++t)n=a[t],r=n[4],i=this.getImage(r,he,"",ue),L=n[2]+ye,P=le*i.height+2*(.5-le)*ye-ce,this.replayImage_(e,n[0],n[1],i,L,P,A,i.height,1,0,0,n[3],fe,!1,i.width,f.j,null,null);if(pe)for(t=0,o=a.length;t<o;++t)n=a[t],r=n[4],i=this.getImage(r,he,pe,""),L=n[2],P=le*i.height-ce,this.replayImage_(e,n[0],n[1],i,L,P,A,i.height,1,0,0,n[3],fe,!1,i.width,f.j,null,null)}}this.renderDeclutter_(A,s),++S;break;case E.c.END_GEOMETRY:if(void 0!==p){s=t[1];const e=p(s);if(e)return e}++S;break;case E.c.FILL:k?d++:this.fill_(e),++S;break;case E.c.MOVE_TO_LINE_TO:for(i=t[1],v=t[2],u=h[i],m=h[i+1],w=0|u+.5,N=0|m+.5,(w!==F||N!==O)&&(e.moveTo(u,m),F=w,O=N),i+=2;i<v;i+=2)u=h[i],m=h[i+1],w=0|u+.5,N=0|m+.5,(i==v-2||w!==F||N!==O)&&(e.lineTo(u,m),F=w,O=N);++S;break;case E.c.SET_FILL_STYLE:I=t,this.fillOrigin_=t[2],d&&(this.fill_(e),d=0,R&&(e.stroke(),R=0)),e.fillStyle=t[1],++S;break;case E.c.SET_STROKE_STYLE:b=t,R&&(e.stroke(),R=0),this.setStrokeStyle_(e,t),++S;break;case E.c.STROKE:k?R++:e.stroke(),++S;break;default:++S;}}return d&&this.fill_(e),void(R&&e.stroke())},T.prototype.replay=function(e,t,o,a){this.viewRotation_=o,this.replay_(e,t,a,this.instructions,void 0,void 0)},T.prototype.replayHitDetection=function(e,t,o,a,r,i){return this.viewRotation_=o,this.replay_(e,t,a,this.hitDetectionInstructions,r,i)},T.prototype.reverseHitDetectionInstructions=function(){const e=this.hitDetectionInstructions;e.reverse();let t;const o=e.length;let a=-1,r,i;for(t=0;t<o;++t)r=e[t],i=r[0],i==E.c.END_GEOMETRY?a=t:i==E.c.BEGIN_GEOMETRY&&(r[2]=t,Object(s.k)(this.hitDetectionInstructions,a,t),a=-1)},T.prototype.setFillStrokeStyle=function(e,t){const o=this.state;if(e){const t=e.getColor();o.fillStyle=Object(i.a)(t?t:f.b)}else o.fillStyle=void 0;if(t){const e=t.getColor();o.strokeStyle=Object(i.a)(e?e:f.k);const a=t.getLineCap();o.lineCap=void 0===a?f.d:a;const r=t.getLineDash();o.lineDash=r?r.slice():f.e;const n=t.getLineDashOffset();o.lineDashOffset=n?n:f.f;const s=t.getLineJoin();o.lineJoin=void 0===s?f.g:s;const l=t.getWidth();o.lineWidth=void 0===l?f.h:l;const d=t.getMiterLimit();o.miterLimit=void 0===d?f.i:d,o.lineWidth>this.maxLineWidth&&(this.maxLineWidth=o.lineWidth,this.bufferedMaxExtent_=null)}else o.strokeStyle=void 0,o.lineCap=void 0,o.lineDash=null,o.lineDashOffset=void 0,o.lineJoin=void 0,o.lineWidth=void 0,o.miterLimit=void 0},T.prototype.createFill=function(e,t){const o=e.fillStyle,a=[E.c.SET_FILL_STYLE,o];if("string"!=typeof o){const e=t.getExtent();a.push([e[0],e[3]])}return a},T.prototype.applyStroke=function(e){this.instructions.push(this.createStroke(e))},T.prototype.createStroke=function(e){return[E.c.SET_STROKE_STYLE,e.strokeStyle,e.lineWidth*this.pixelRatio,e.lineCap,e.lineJoin,e.miterLimit,this.applyPixelRatio(e.lineDash),e.lineDashOffset*this.pixelRatio]},T.prototype.updateFillStyle=function(e,t,o){const a=e.fillStyle;("string"!=typeof a||e.currentFillStyle!=a)&&(a!==void 0&&this.instructions.push(t.call(this,e,o)),e.currentFillStyle=a)},T.prototype.updateStrokeStyle=function(e,t){const o=e.strokeStyle,a=e.lineCap,r=e.lineDash,i=e.lineDashOffset,n=e.lineJoin,l=e.lineWidth,d=e.miterLimit;e.currentStrokeStyle==o&&e.currentLineCap==a&&(r==e.currentLineDash||Object(s.b)(e.currentLineDash,r))&&e.currentLineDashOffset==i&&e.currentLineJoin==n&&e.currentLineWidth==l&&e.currentMiterLimit==d||(o!==void 0&&t.call(this,e),e.currentStrokeStyle=o,e.currentLineCap=a,e.currentLineDash=r,e.currentLineDashOffset=i,e.currentLineJoin=n,e.currentLineWidth=l,e.currentMiterLimit=d)},T.prototype.endGeometry=function(e,t){this.beginGeometryInstruction1_[2]=this.instructions.length,this.beginGeometryInstruction1_=null,this.beginGeometryInstruction2_[2]=this.hitDetectionInstructions.length,this.beginGeometryInstruction2_=null;const o=[E.c.END_GEOMETRY,t];this.instructions.push(o),this.hitDetectionInstructions.push(o)},T.prototype.finish=r.c,T.prototype.getBufferedMaxExtent=function(){if(!this.bufferedMaxExtent_&&(this.bufferedMaxExtent_=Object(l.d)(this.maxExtent),0<this.maxLineWidth)){const e=this.resolution*(this.maxLineWidth+1)/2;Object(l.c)(this.bufferedMaxExtent_,e,this.bufferedMaxExtent_)}return this.bufferedMaxExtent_},t.a=T},function(e,t){"use strict";const o={BEGIN_GEOMETRY:0,BEGIN_PATH:1,CIRCLE:2,CLOSE_PATH:3,CUSTOM:4,DRAW_CHARS:5,DRAW_IMAGE:6,END_GEOMETRY:7,FILL:8,MOVE_TO_LINE_TO:9,SET_FILL_STYLE:10,SET_STROKE_STYLE:11,STROKE:12},a=[o.FILL];t.d=a;const r=[o.STROKE];t.e=r;const i=[o.BEGIN_PATH];t.a=i;const n=[o.CLOSE_PATH];t.b=n,t.c=o},function(e,t,o){"use strict";var a=o(0),r=o(18),i=o(246),n=o(35),s=o(33),l=o(4),d=o(57),p=o(134),g=o(49),_=o(69);const c=function(e){p.a.call(this,{attributions:e.attributions,extent:e.extent,projection:e.projection,state:e.state,wrapX:e.wrapX}),this.opaque_=e.opaque!==void 0&&e.opaque,this.tilePixelRatio_=e.tilePixelRatio===void 0?1:e.tilePixelRatio,this.tileGrid=e.tileGrid===void 0?null:e.tileGrid,this.tileCache=new i.a(e.cacheSize),this.tmpSize=[0,0],this.key_="",this.tileOptions={transition:e.transition}};Object(a.g)(c,p.a),c.prototype.canExpireCache=function(){return this.tileCache.canExpireCache()},c.prototype.expireCache=function(e,t){const o=this.getTileCacheForProjection(e);o&&o.expireCache(t)},c.prototype.forEachLoadedTile=function(e,t,o,a){const r=this.getTileCacheForProjection(e);if(!r)return!1;let i=!0,s,l,d;for(let p=o.minX;p<=o.maxX;++p)for(let e=o.minY;e<=o.maxY;++e)l=Object(g.d)(t,p,e),d=!1,r.containsKey(l)&&(s=r.get(l),d=s.getState()===n.a.LOADED,d&&(d=!1!==a(s))),d||(i=!1);return i},c.prototype.getGutter=function(){return 0},c.prototype.getKey=function(){return this.key_},c.prototype.setKey=function(e){this.key_!==e&&(this.key_=e,this.changed())},c.prototype.getOpaque=function(){return this.opaque_},c.prototype.getResolutions=function(){return this.tileGrid.getResolutions()},c.prototype.getTile=function(){},c.prototype.getTileGrid=function(){return this.tileGrid},c.prototype.getTileGridForProjection=function(e){return this.tileGrid?this.tileGrid:Object(_.d)(e)},c.prototype.getTileCacheForProjection=function(e){const t=this.getProjection();return t&&!Object(l.f)(t,e)?null:this.tileCache},c.prototype.getTilePixelRatio=function(){return this.tilePixelRatio_},c.prototype.getTilePixelSize=function(e,t,o){const a=this.getTileGridForProjection(o),r=this.getTilePixelRatio(t),i=Object(d.d)(a.getTileSize(e),this.tmpSize);return 1==r?i:Object(d.c)(i,r,this.tmpSize)},c.prototype.getTileCoordForTileUrlFunction=function(e,t){const o=void 0===t?this.getProjection():t,a=this.getTileGridForProjection(o);return this.getWrapX()&&o.isGlobal()&&(e=Object(_.e)(a,e,o)),Object(g.g)(e,a)?e:null},c.prototype.refresh=function(){this.tileCache.clear(),this.changed()},c.prototype.useTile=r.c;const u=function(e,t){s.a.call(this,e),this.tile=t};t.a=u,Object(a.g)(u,s.a),t.b=c},function(e,t,o){"use strict";function a(e,t,o){if(3===e){const e={keys:[],values:[],features:[]},a=o.readVarint()+o.pos;o.readFields(r,e,a),e.length=e.features.length,e.length&&(t[e.name]=e)}}function r(e,t,o){if(15===e)t.version=o.readVarint();else if(1===e)t.name=o.readString();else if(5===e)t.extent=o.readVarint();else if(2===e)t.features.push(o.pos);else if(3===e)t.keys.push(o.readString());else if(4===e){let a=null;for(const t=o.readVarint()+o.pos;o.pos<t;)e=o.readVarint()>>3,a=1===e?o.readString():2===e?o.readFloat():3===e?o.readDouble():4===e?o.readVarint64():5===e?o.readVarint():6===e?o.readSVarint():7===e?o.readBoolean():null;t.values.push(a)}}function n(e,t,o){if(1==e)t.id=o.readVarint();else if(2==e)for(const e=o.readVarint()+o.pos;o.pos<e;){const e=t.layer.keys[o.readVarint()],a=t.layer.values[o.readVarint()];t.properties[e]=a}else 3==e?t.type=o.readVarint():4==e&&(t.geometry=o.pos)}function s(e,t,o){e.pos=t.features[o];const a=e.readVarint()+e.pos,r={layer:t,type:0,properties:{}};return e.readFields(n,r,a),r}function i(e,t){let o;return 1===e?o=1===t?y.a.POINT:y.a.MULTI_POINT:2===e?o=1===t?y.a.LINE_STRING:y.a.MULTI_LINE_STRING:3==e&&(o=y.a.POLYGON),o}var l=o(0),d=o(19),p=o(361),g=o.n(p),_=o(36),c=o(114),u=o(30),y=o(22),m=o(28),h=o(53),f=o(54),x=o(60),E=o(21),C=o(29),T=o(88),S=o(52),R=o(56),I=o(363);const b=function(e){_.a.call(this);const t=e?e:{};this.defaultDataProjection=new S.a({code:"",units:R.b.TILE_PIXELS}),this.featureClass_=t.featureClass?t.featureClass:I.a,this.geometryName_=t.geometryName,this.layerName_=t.layerName?t.layerName:"layer",this.layers_=t.layers?t.layers:null,this.extent_=null};Object(l.g)(b,_.a),b.prototype.readRawGeometry_=function(e,t,o,a){e.pos=t.geometry;const r=e.readVarint()+e.pos;let i=1,n=0,s=0,l=0,p=0,g=0;for(;e.pos<r;){if(!n){const t=e.readVarint();i=7&t,n=t>>3}n--,1==i||2==i?(s+=e.readSVarint(),l+=e.readSVarint(),1==i&&p>g&&(a.push(p),g=p),o.push(s,l),p+=2):7==i?p>g&&(o.push(o[g],o[g+1]),p+=2):Object(d.a)(!1,59)}p>g&&(a.push(p),g=p)},b.prototype.createFeature_=function(e,t,o){const a=t.type;if(0===a)return null;let r;const n=t.id,s=t.properties;s[this.layerName_]=t.layer.name;const l=[];let d=[];this.readRawGeometry_(e,t,l,d);const p=i(a,d.length);if(this.featureClass_===I.a)r=new this.featureClass_(p,l,d,s,n);else{let e;if(p==y.a.POLYGON){const t=[];let o=0,a=0;for(let e=0,r=d.length;e<r;++e){const r=d[e];Object(T.a)(l,o,r,2)||(t.push(d.slice(a,e)),a=e),o=r}1<t.length?(d=t,e=new x.a(null)):e=new C.b(null)}else e=p===y.a.POINT?new E.a(null):p===y.a.LINE_STRING?new m.a(null):p===y.a.POLYGON?new C.b(null):p===y.a.MULTI_POINT?new f.a(null):p===y.a.MULTI_LINE_STRING?new h.a(null):null;e.setFlatCoordinates(u.a.XY,l,d),r=new this.featureClass_,this.geometryName_&&r.setGeometryName(this.geometryName_);const t=Object(_.b)(e,!1,this.adaptOptions(o));r.setGeometry(t),r.setId(n),r.setProperties(s)}return r},b.prototype.getLastExtent=function(){return this.extent_},b.prototype.getType=function(){return c.a.ARRAY_BUFFER},b.prototype.readFeatures=function(e){const t=this.layers_,o=new g.a(e),r=o.readFields(a,{}),n=[];for(const a in r){if(t&&-1==t.indexOf(a))continue;const e=r[a];for(let t=0,a=e.length;t<a;++t){const a=s(o,e,t);n.push(this.createFeature_(o,a))}this.extent_=e?[0,0,e.extent,e.extent]:null}return n},b.prototype.readProjection=function(){return this.defaultDataProjection},b.prototype.setLayers=function(e){this.layers_=e},b.prototype.readFeature=function(){},b.prototype.readGeometry=function(){},b.prototype.writeFeature=function(){},b.prototype.writeGeometry=function(){},b.prototype.writeFeatures=function(){},t.a=b},function(e,t){"use strict";const o=function(e){this.tagName_=e};o.prototype.getTagName=function(){return this.tagName_},t.a=o},function(e,t,o){"use strict";var a=o(0),r=o(121);const i=function(e,t){r.a.call(this,e),this.propertyName=t};Object(a.g)(i,r.a),t.a=i},function(e,t,o){"use strict";function a(e){const t=Object(d.h)(e).split(" ");if(t&&2==t.length){const e=+t[0],o=+t[1];return isNaN(e)||isNaN(o)?void 0:[e,o]}}var r=o(0),i=o(3),n=o(261),s=o(184),l=o(185),d=o(77),p=o(43);const g=function(){l.a.call(this),this.owsParser_=new n.a};Object(r.g)(g,l.a);const _=[null,"http://www.opengis.net/wmts/1.0"],c=[null,"http://www.opengis.net/ows/1.1"],u=Object(p.r)(_,{Contents:Object(p.n)(function(e,t){return Object(p.u)({},y,e,t)})}),y=Object(p.r)(_,{Layer:Object(p.m)(function(e,t){return Object(p.u)({},m,e,t)}),TileMatrixSet:Object(p.m)(function(e,t){return Object(p.u)({},S,e,t)})}),m=Object(p.r)(_,{Style:Object(p.m)(function(e,t){const o=Object(p.u)({},h,e,t);if(o){const t="true"===e.getAttribute("isDefault");return o.isDefault=t,o}}),Format:Object(p.m)(d.h),TileMatrixSetLink:Object(p.m)(function(e,t){return Object(p.u)({},f,e,t)}),Dimension:Object(p.m)(function(e,t){return Object(p.u)({},C,e,t)}),ResourceURL:Object(p.m)(function(e){const t=e.getAttribute("format"),o=e.getAttribute("template"),a=e.getAttribute("resourceType"),r={};return t&&(r.format=t),o&&(r.template=o),a&&(r.resourceType=a),r})},Object(p.r)(c,{Title:Object(p.n)(d.h),Abstract:Object(p.n)(d.h),WGS84BoundingBox:Object(p.n)(function(e,t){const o=Object(p.u)([],T,e,t);return 2==o.length?Object(i.b)(o):void 0}),Identifier:Object(p.n)(d.h)})),h=Object(p.r)(_,{LegendURL:Object(p.m)(function(e){const t={format:e.getAttribute("format"),href:Object(s.a)(e)};return t})},Object(p.r)(c,{Title:Object(p.n)(d.h),Identifier:Object(p.n)(d.h)})),f=Object(p.r)(_,{TileMatrixSet:Object(p.n)(d.h),TileMatrixSetLimits:Object(p.n)(function(e,t){return Object(p.u)([],x,e,t)})}),x=Object(p.r)(_,{TileMatrixLimits:Object(p.j)(function(e,t){return Object(p.u)({},E,e,t)})}),E=Object(p.r)(_,{TileMatrix:Object(p.n)(d.h),MinTileRow:Object(p.n)(d.f),MaxTileRow:Object(p.n)(d.f),MinTileCol:Object(p.n)(d.f),MaxTileCol:Object(p.n)(d.f)}),C=Object(p.r)(_,{Default:Object(p.n)(d.h),Value:Object(p.m)(d.h)},Object(p.r)(c,{Identifier:Object(p.n)(d.h)})),T=Object(p.r)(c,{LowerCorner:Object(p.j)(a),UpperCorner:Object(p.j)(a)}),S=Object(p.r)(_,{WellKnownScaleSet:Object(p.n)(d.h),TileMatrix:Object(p.m)(function(e,t){return Object(p.u)({},R,e,t)})},Object(p.r)(c,{SupportedCRS:Object(p.n)(d.h),Identifier:Object(p.n)(d.h)})),R=Object(p.r)(_,{TopLeftCorner:Object(p.n)(a),ScaleDenominator:Object(p.n)(d.d),TileWidth:Object(p.n)(d.f),TileHeight:Object(p.n)(d.f),MatrixWidth:Object(p.n)(d.f),MatrixHeight:Object(p.n)(d.f)},Object(p.r)(c,{Identifier:Object(p.n)(d.h)}));g.prototype.read,g.prototype.readFromDocument=function(e){for(let t=e.firstChild;t;t=t.nextSibling)if(t.nodeType==Node.ELEMENT_NODE)return this.readFromNode(t);return null},g.prototype.readFromNode=function(e){const t=e.getAttribute("version").trim();let o=this.owsParser_.readFromNode(e);return o?(o.version=t,o=Object(p.u)(o,u,e,[]),o?o:null):null},t.a=g},function(e,t){"use strict";t.a=function(e){return 0>e?-1:1}},function(e,t,o){"use strict";var a=o(20),r=o(124);t.a=function(e){return Math.abs(e)<a.d?e:e-Object(r.a)(e)*Math.PI}},function(e,t,o){"use strict";var a=o(18);const r=function(){};r.prototype.disposed_=!1,r.prototype.dispose=function(){this.disposed_||(this.disposed_=!0,this.disposeInternal())},r.prototype.disposeInternal=a.c,t.a=r},function(e,t){"use strict";const o=function(e,t){this.dispatcher=e,this.mapping_=t};o.prototype.getEvents=function(){return Object.keys(this.mapping_)},o.prototype.getHandlerForEvent=function(e){return this.mapping_[e]},t.a=o},function(e,t){"use strict";t.a={POSTRENDER:"postrender",MOVESTART:"movestart",MOVEEND:"moveend"}},function(e,t){"use strict";t.a=42;t.b=256},function(e,t,o){"use strict";t.c=function(e){return void 0===e?void 0:0},t.d=function(e,t){return void 0===e?void 0:e+t},t.a=function(e){const t=2*Math.PI/e;return function(e,o){return void 0===e?void 0:(e=Math.floor((e+o)/t+.5)*t,e)}},t.b=function(e){const t=e||Object(a.j)(5);return function(e,o){return void 0===e?void 0:Math.abs(e+o)<=t?0:e+o}};var a=o(17)},function(e,t){"use strict";t.b=function(e,t,o){const a=void 0===o?""+e:e.toFixed(o);let r=a.indexOf(".");return r=-1===r?a.length:r,r>t?a:Array(1+t-r).join("0")+a},t.a=function(e,t){const o=(""+e).split("."),a=(""+t).split(".");for(let r=0;r<Math.max(o.length,a.length);r++){const e=parseInt(o[r]||"0",10),t=parseInt(a[r]||"0",10);if(e>t)return 1;if(t>e)return-1}return 0}},function(e,t){"use strict";function o(e,t,o,a){let r=0,i=e[o-a],n=e[o-a+1];for(;t<o;t+=a){const o=e[t],a=e[t+1];r+=n*o-i*a,i=o,n=a}return r/2}function a(e,t,a,r){let n=0;for(let s=0,i=a.length;s<i;++s){const i=a[s];n+=o(e,t,i,r),t=i}return n}t.a=o,t.b=a,t.c=function(e,t,o,r){let n=0;for(let s=0,i=o.length;s<i;++s){const i=o[s];n+=a(e,t,i,r),t=i[i.length-1]}return n}},function(e,t,o){"use strict";function a(e,t,o,a,r){const n=Object(i.s)(Object(i.j)(),e,t,o,a);return!!Object(i.F)(r,n)&&(!!Object(i.g)(r,n)||!!(n[0]>=r[0]&&n[2]<=r[2])||!!(n[1]>=r[1]&&n[3]<=r[3])||Object(l.a)(e,t,o,a,function(e,t){return Object(i.G)(r,e,t)}))}function r(e,t,o,r,i){return!!a(e,t,o,r,i)||!!Object(s.b)(e,t,o,r,i[0],i[1])||!!Object(s.b)(e,t,o,r,i[0],i[3])||!!Object(s.b)(e,t,o,r,i[2],i[1])||!!Object(s.b)(e,t,o,r,i[2],i[3])}function n(e,t,o,a,n){if(!r(e,t,o[0],a,n))return!1;if(1===o.length)return!0;for(let r=1,i=o.length;r<i;++r)if(Object(s.a)(e,o[r-1],o[r],a,n))return!1;return!0}t.a=a,t.b=function(e,t,o,r,n){for(let s=0,i=o.length;s<i;++s){if(a(e,t,o[s],r,n))return!0;t=o[s]}return!1},t.c=n,t.d=function(e,t,o,a,r){for(let s=0,i=o.length;s<i;++s){const i=o[s];if(n(e,t,i,a,r))return!0;t=i[i.length-1]}return!1};var i=o(3),s=o(111),l=o(208)},function(e,t,o){"use strict";var a=o(0),r=o(18),i=o(32),n=o(4),s=o(45);const l=function(e){i.a.call(this),this.projection_=Object(n.h)(e.projection),this.attributions_=this.adaptAttributions_(e.attributions),this.state_=e.state===void 0?s.a.READY:e.state,this.wrapX_=e.wrapX!==void 0&&e.wrapX};Object(a.g)(l,i.a),l.prototype.adaptAttributions_=function(e){return e?Array.isArray(e)?function(){return e}:"function"==typeof e?e:function(){return[e]}:null},l.prototype.forEachFeatureAtCoordinate=r.c,l.prototype.getAttributions=function(){return this.attributions_},l.prototype.getProjection=function(){return this.projection_},l.prototype.getResolutions=function(){},l.prototype.getState=function(){return this.state_},l.prototype.getWrapX=function(){return this.wrapX_},l.prototype.refresh=function(){this.changed()},l.prototype.setAttributions=function(e){this.attributions_=this.adaptAttributions_(e),this.changed()},l.prototype.setState=function(e){this.state_=e,this.changed()},t.a=l},function(e,t,o){"use strict";var a=o(0),r=o(165),i=o.n(r),n=o(3),s=o(10);const l=function(e){this.rbush_=i()(e,void 0),this.items_={}};l.prototype.insert=function(e,t){const o={minX:e[0],minY:e[1],maxX:e[2],maxY:e[3],value:t};this.rbush_.insert(o),this.items_[Object(a.f)(t)]=o},l.prototype.load=function(e,t){const o=Array(t.length);for(let r=0,i=t.length;r<i;r++){const i=e[r],n=t[r],s={minX:i[0],minY:i[1],maxX:i[2],maxY:i[3],value:n};o[r]=s,this.items_[Object(a.f)(n)]=s}this.rbush_.load(o)},l.prototype.remove=function(e){const t=Object(a.f)(e),o=this.items_[t];return delete this.items_[t],null!==this.rbush_.remove(o)},l.prototype.update=function(e,t){const o=this.items_[Object(a.f)(t)],r=[o.minX,o.minY,o.maxX,o.maxY];Object(n.p)(r,e)||(this.remove(t),this.insert(e,t))},l.prototype.getAll=function(){const e=this.rbush_.all();return e.map(function(e){return e.value})},l.prototype.getInExtent=function(e){const t={minX:e[0],minY:e[1],maxX:e[2],maxY:e[3]},o=this.rbush_.search(t);return o.map(function(e){return e.value})},l.prototype.forEach=function(e,t){return this.forEach_(this.getAll(),e,t)},l.prototype.forEachInExtent=function(e,t,o){return this.forEach_(this.getInExtent(e),t,o)},l.prototype.forEach_=function(e,t,o){let a;for(let r=0,i=e.length;r<i;r++)if(a=t.call(o,e[r]),a)return a;return a},l.prototype.isEmpty=function(){return Object(s.d)(this.items_)},l.prototype.clear=function(){this.rbush_.clear(),this.items_={}},l.prototype.getExtent=function(e){const t=this.rbush_.data;return Object(n.k)(t.minX,t.minY,t.maxX,t.maxY,e)},l.prototype.concat=function(e){for(const t in this.rbush_.load(e.rbush_.all()),e.items_)this.items_[0|t]=e.items_[0|t]},t.a=l},function(e,t,o){"use strict";var a=o(0),r=o(33);const i=function(e,t,o,a,i){r.a.call(this,e),this.vectorContext=t,this.frameState=o,this.context=a,this.glContext=i};Object(a.g)(i,r.a),t.a=i},function(e,t){"use strict";const o=function(){};o.prototype.drawCustom=function(){},o.prototype.drawGeometry=function(){},o.prototype.setStyle=function(){},o.prototype.drawCircle=function(){},o.prototype.drawFeature=function(){},o.prototype.drawGeometryCollection=function(){},o.prototype.drawLineString=function(){},o.prototype.drawMultiLineString=function(){},o.prototype.drawMultiPoint=function(){},o.prototype.drawMultiPolygon=function(){},o.prototype.drawPoint=function(){},o.prototype.drawPolygon=function(){},o.prototype.drawText=function(){},o.prototype.setFillStrokeStyle=function(){},o.prototype.setImageStyle=function(){},o.prototype.setTextStyle=function(){},t.a=o},function(e,t,o){"use strict";function a(e,t,o,a){const i=o-e,n=a-t,s=Math.sqrt(i*i+n*n);return[r(o+i/s),r(a+n/s)]}var r=Math.round;t.a=function(e,t,o,a){const r=Object(l.n)(o,t,e);let i=Object(l.i)(t,a,o);const s=t.getMetersPerUnit();s!==void 0&&(i*=s);const d=e.getMetersPerUnit();d!==void 0&&(i/=d);const p=e.getExtent();if(!p||Object(n.f)(p,r)){const t=Object(l.i)(e,i,r)/i;isFinite(t)&&0<t&&(i/=t)}return i},t.b=function(e,t,o,l,d,p,g,_,c,u,y){const m=Object(i.a)(r(o*e),r(o*t));if(0===c.length)return m.canvas;m.scale(o,o);const h=Object(n.j)();c.forEach(function(e){Object(n.q)(h,e.extent)});const f=Object(n.E)(h),x=Object(n.A)(h),E=Object(i.a)(r(o*f/l),r(o*x/l)),C=o/l;c.forEach(function(e){const t=e.extent[0]-h[0],o=-(e.extent[3]-h[3]),a=Object(n.E)(e.extent),r=Object(n.A)(e.extent);E.drawImage(e.image,u,u,e.image.width-2*u,e.image.height-2*u,t*C,o*C,a*C,r*C)});const T=Object(n.C)(g);return _.getTriangles().forEach(function(e){const t=e.source,r=e.target;let i=t[0][0],n=t[0][1],d=t[1][0],g=t[1][1],_=t[2][0],c=t[2][1];const u=(r[0][0]-T[0])/p,y=-(r[0][1]-T[1])/p,f=(r[1][0]-T[0])/p,x=-(r[1][1]-T[1])/p,C=(r[2][0]-T[0])/p,S=-(r[2][1]-T[1])/p,R=i,I=n;i=0,n=0,d-=R,g-=I,_-=R,c-=I;const b=[[d,g,0,0,f-u],[_,c,0,0,C-u],[0,0,d,g,x-y],[0,0,_,c,S-y]],v=Object(s.f)(b);if(v){m.save(),m.beginPath();const e=(u+f+C)/3,t=(y+x+S)/3,r=a(e,t,u,y),i=a(e,t,f,x),n=a(e,t,C,S);m.moveTo(i[0],i[1]),m.lineTo(r[0],r[1]),m.lineTo(n[0],n[1]),m.clip(),m.transform(v[0],v[2],v[1],v[3],u,y),m.translate(h[0]-R,h[3]-I),m.scale(l/o,-l/o),m.drawImage(E.canvas,0,0),m.restore()}}),y&&(m.save(),m.strokeStyle="black",m.lineWidth=1,_.getTriangles().forEach(function(e){const t=e.target,o=(t[0][0]-T[0])/p,a=-(t[0][1]-T[1])/p,r=(t[1][0]-T[0])/p,i=-(t[1][1]-T[1])/p,n=(t[2][0]-T[0])/p,s=-(t[2][1]-T[1])/p;m.beginPath(),m.moveTo(r,i),m.lineTo(o,a),m.lineTo(n,s),m.closePath(),m.stroke()}),m.restore()),m.canvas};var i=o(23),n=o(3),s=o(17),l=o(4)},function(e,t,o){"use strict";var a=o(0),r=o(168),i=o(59),n=o(8),s=o(11),l=o(3);const d=function(e,t,o,a,n,s){r.a.call(this,e,t,o,i.a.IDLE),this.src_=a,this.image_=new Image,null!==n&&(this.image_.crossOrigin=n),this.imageListenerKeys_=null,this.state=i.a.IDLE,this.imageLoadFunction_=s};Object(a.g)(d,r.a),d.prototype.getImage=function(){return this.image_},d.prototype.handleImageError_=function(){this.state=i.a.ERROR,this.unlistenImage_(),this.changed()},d.prototype.handleImageLoad_=function(){this.resolution===void 0&&(this.resolution=Object(l.A)(this.extent)/this.image_.height),this.state=i.a.LOADED,this.unlistenImage_(),this.changed()},d.prototype.load=function(){(this.state==i.a.IDLE||this.state==i.a.ERROR)&&(this.state=i.a.LOADING,this.changed(),this.imageListenerKeys_=[Object(n.b)(this.image_,s.a.ERROR,this.handleImageError_,this),Object(n.b)(this.image_,s.a.LOAD,this.handleImageLoad_,this)],this.imageLoadFunction_(this,this.src_))},d.prototype.setImage=function(e){this.image_=e},d.prototype.unlistenImage_=function(){this.imageListenerKeys_.forEach(n.e),this.imageListenerKeys_=null},t.a=d},function(e,t,o){"use strict";function a(e,t,o){if(!e.prepareFrame(t,o))return null;const a=t.size[0],r=t.size[1];if(!N)N=Object(c.a)(a,r);else{const e=N.canvas;e.width!==a||e.height!==r?N=Object(c.a)(a,r):N.clearRect(0,0,a,r)}return e.composeFrame(t,o,N),N.getImageData(0,0,a,r)}function r(e){return e.map(function(e){return e.getLayer().getLayerState()})}function i(e){const t=e.length,o=Array(t);for(let a=0;a<t;++a)o[a]=n(e[a]);return o}function n(e){let t=null;return e instanceof v.b?t=l(e):e instanceof I.a&&(t=s(e)),t}function s(e){const t=new E.a({source:e});return new S.a(t)}function l(e){const t=new C.a({source:e});return new R.a(t)}var d=Math.round,p=o(0),g=o(167),_=o(203),c=o(23),u=o(8),y=o(33),m=o(11),h=o(334),f=o.n(h),x=o(3),E=o(76),C=o(5),T=o(10),S=o(233),R=o(170),I=o(82),b=o(45),v=o(119),L=o(27);const P={BEFOREOPERATIONS:"beforeoperations",AFTEROPERATIONS:"afteroperations"},F={PIXEL:"pixel",IMAGE:"image"},O=function(e,t,o){y.a.call(this,e),this.extent=t.extent,this.resolution=t.viewState.resolution/t.pixelRatio,this.data=o};Object(p.g)(O,y.a);const w=function(e){this.worker_=null,this.operationType_=e.operationType===void 0?F.PIXEL:e.operationType,this.threads_=e.threads===void 0?1:e.threads,this.renderers_=i(e.sources);for(let t=0,o=this.renderers_.length;t<o;++t)Object(u.a)(this.renderers_[t],m.a.CHANGE,this.changed,this);this.tileQueue_=new _.a(function(){return 1},this.changed.bind(this));const t=r(this.renderers_),o={};for(let a=0,r=t.length;a<r;++a)o[Object(p.f)(t[a].layer)]=t[a];this.requestedFrameState_,this.renderedImageCanvas_=null,this.renderedRevision_,this.frameState_={animate:!1,coordinateToPixelTransform:Object(L.c)(),extent:null,focus:null,index:0,layerStates:o,layerStatesArray:t,pixelRatio:1,pixelToCoordinateTransform:Object(L.c)(),postRenderFunctions:[],size:[0,0],skippedFeatureUids:{},tileQueue:this.tileQueue_,time:Date.now(),usedTiles:{},viewState:{rotation:0},viewHints:[],wantedTiles:{}},I.a.call(this,{}),e.operation!==void 0&&this.setOperation(e.operation,e.lib)};Object(p.g)(w,I.a),w.prototype.setOperation=function(e,t){this.worker_=new h.Processor({operation:e,imageOps:this.operationType_===F.IMAGE,queue:1,lib:t,threads:this.threads_}),this.changed()},w.prototype.updateFrameState_=function(e,t,o){const a=Object(T.a)({},this.frameState_);a.viewState=Object(T.a)({},a.viewState);const r=Object(x.x)(e);a.extent=e.slice(),a.focus=r,a.size[0]=d(Object(x.E)(e)/t),a.size[1]=d(Object(x.A)(e)/t),a.time=Date.now(),a.animate=!1;const i=a.viewState;return i.center=r,i.projection=o,i.resolution=t,a},w.prototype.allSourcesReady_=function(){let e=!0,t;for(let o=0,a=this.renderers_.length;o<a;++o)if(t=this.renderers_[o].getLayer().getSource(),t.getState()!==b.a.READY){e=!1;break}return e},w.prototype.getImage=function(e,t,o,a){if(!this.allSourcesReady_())return null;const r=this.updateFrameState_(e,t,a);if(this.requestedFrameState_=r,this.renderedImageCanvas_){const o=this.renderedImageCanvas_.getResolution(),a=this.renderedImageCanvas_.getExtent();t===o&&Object(x.p)(e,a)||(this.renderedImageCanvas_=null)}return this.renderedImageCanvas_&&this.getRevision()===this.renderedRevision_||this.processSources_(),r.tileQueue.loadMoreTiles(16,16),r.animate&&requestAnimationFrame(this.changed.bind(this)),this.renderedImageCanvas_},w.prototype.processSources_=function(){const e=this.requestedFrameState_,t=this.renderers_.length,o=Array(t);for(let r=0;r<t;++r){const t=a(this.renderers_[r],e,e.layerStatesArray[r]);if(t)o[r]=t;else return}const r={};this.dispatchEvent(new O(P.BEFOREOPERATIONS,e,r)),this.worker_.process(o,r,this.onWorkerComplete_.bind(this,e))},w.prototype.onWorkerComplete_=function(e,t,o,a){if(t||!o)return;const r=e.extent,i=e.viewState.resolution;if(i!==this.requestedFrameState_.viewState.resolution||!Object(x.p)(r,this.requestedFrameState_.extent))return;let n;if(this.renderedImageCanvas_)n=this.renderedImageCanvas_.getImage().getContext("2d");else{const e=d(Object(x.E)(r)/i),t=d(Object(x.A)(r)/i);n=Object(c.a)(e,t),this.renderedImageCanvas_=new g.a(r,i,1,n.canvas)}n.putImageData(o,0,0),this.changed(),this.renderedRevision_=this.getRevision(),this.dispatchEvent(new O(P.AFTEROPERATIONS,e,a))};let N=null;w.prototype.getImageInternal=function(){return null},t.a=w},function(e,t,o){"use strict";t.a=function(e,t,o){const a=[],n=[],l=[],d=[],p=[],g=void 0===o?[]:o,_="TileMatrix",c="Identifier",u="ScaleDenominator",y="TopLeftCorner",m=e["SupportedCRS"],h=Object(i.h)(m.replace(/urn:ogc:def:crs:(\w+):(.*:)?(\w+)$/,"$1:$3"))||Object(i.h)(m),f=h.getMetersPerUnit(),x="ne"==h.getAxisOrientation().substr(0,2);return e[_].sort(function(e,t){return t[u]-e[u]}),e[_].forEach(function(t){let o;if(o=!(0<g.length)||Object(r.d)(g,function(o){return t[c]==o[_]||-1===t[c].indexOf(":")&&e[c]+":"+t[c]===o[_]}),o){n.push(t[c]);const e=28e-5*t[u]/f,o=t["TileWidth"],r=t["TileHeight"];x?l.push([t[y][1],t[y][0]]):l.push(t[y]),a.push(e),d.push(o==r?o:[o,r]),p.push([t.MatrixWidth,-t.MatrixHeight])}}),new s({extent:t,origins:l,resolutions:a,matrixIds:n,tileSizes:d,sizes:p})};var a=o(0),r=o(13),i=o(4),n=o(94);const s=function(e){this.matrixIds_=e.matrixIds,n.a.call(this,{extent:e.extent,origin:e.origin,origins:e.origins,resolutions:e.resolutions,tileSize:e.tileSize,tileSizes:e.tileSizes,sizes:e.sizes})};Object(a.g)(s,n.a),s.prototype.getMatrixId=function(e){return this.matrixIds_[e]},s.prototype.getMatrixIds=function(){return this.matrixIds_},t.b=s},function(e,t,o){"use strict";var a=o(0),r=o(197),i=o(14),n=o(34),s=o(10),l=o(422),d=o(439),p=o(440),g=o(443);const _=function(e){e=Object(s.a)({},e),e.controls||(e.controls=Object(i.h)()),e.interactions||(e.interactions=Object(n.l)()),r.a.call(this,e)};Object(a.g)(_,r.a),_.prototype.createRenderer=function(){const e=new d.a(this);return e.registerLayerRenderers([l.a,p.a,g.a]),e},t.a=_},function(e,t,o){"use strict";var a=o(0),r=o(3),i=o(137),n=o(27),s=o(273),l=o(39);const d=function(e,t){i.a.call(this),this.tolerance=e,this.maxExtent=t,this.origin=Object(r.x)(t),this.projectionMatrix_=Object(n.c)(),this.offsetRotateMatrix_=Object(n.c)(),this.offsetScaleMatrix_=Object(n.c)(),this.tmpMat4_=Object(s.a)(),this.indices=[],this.indicesBuffer=null,this.startIndices=[],this.startIndicesFeature=[],this.vertices=[],this.verticesBuffer=null,this.lineStringReplay=void 0};Object(a.g)(d,i.a),d.prototype.getDeleteResourcesFunction=function(){},d.prototype.finish=function(){},d.prototype.setUpProgram=function(){},d.prototype.shutDownProgram=function(){},d.prototype.drawReplay=function(){},d.prototype.drawHitDetectionReplayOneByOne=function(){},d.prototype.drawHitDetectionReplay=function(e,t,o,a,r,i){return r?this.drawHitDetectionReplayOneByOne(e,t,o,a,i):this.drawHitDetectionReplayAll(e,t,o,a)},d.prototype.drawHitDetectionReplayAll=function(e,t,o,a){e.clear(e.COLOR_BUFFER_BIT|e.DEPTH_BUFFER_BIT),this.drawReplay(e,t,o,!0);const r=a(null);return r?r:void 0},d.prototype.replay=function(e,t,o,a,r,i,d,p,g,_,c){const u=e.getGL();let y,m,h,f,x,E,C,T;this.lineStringReplay&&(y=u.isEnabled(u.STENCIL_TEST),m=u.getParameter(u.STENCIL_FUNC),h=u.getParameter(u.STENCIL_VALUE_MASK),f=u.getParameter(u.STENCIL_REF),x=u.getParameter(u.STENCIL_WRITEMASK),E=u.getParameter(u.STENCIL_FAIL),C=u.getParameter(u.STENCIL_PASS_DEPTH_PASS),T=u.getParameter(u.STENCIL_PASS_DEPTH_FAIL),u.enable(u.STENCIL_TEST),u.clear(u.STENCIL_BUFFER_BIT),u.stencilMask(255),u.stencilFunc(u.ALWAYS,1,255),u.stencilOp(u.KEEP,u.KEEP,u.REPLACE),this.lineStringReplay.replay(e,t,o,a,r,i,d,p,g,_,c),u.stencilMask(0),u.stencilFunc(u.NOTEQUAL,1,255)),e.bindBuffer(l.a,this.verticesBuffer),e.bindBuffer(l.i,this.indicesBuffer);const S=this.setUpProgram(u,e,r,i),R=Object(n.f)(this.projectionMatrix_);Object(n.h)(R,2/(o*r[0]),2/(o*r[1])),Object(n.g)(R,-a),Object(n.j)(R,-(t[0]-this.origin[0]),-(t[1]-this.origin[1]));const I=Object(n.f)(this.offsetScaleMatrix_);Object(n.h)(I,2/r[0],2/r[1]);const b=Object(n.f)(this.offsetRotateMatrix_);0!==a&&Object(n.g)(b,-a),u.uniformMatrix4fv(S.u_projectionMatrix,!1,Object(s.b)(this.tmpMat4_,R)),u.uniformMatrix4fv(S.u_offsetScaleMatrix,!1,Object(s.b)(this.tmpMat4_,I)),u.uniformMatrix4fv(S.u_offsetRotateMatrix,!1,Object(s.b)(this.tmpMat4_,b)),u.uniform1f(S.u_opacity,d);let v;return void 0===g?this.drawReplay(u,e,p,!1):v=this.drawHitDetectionReplay(u,e,p,g,_,c),this.shutDownProgram(u,S),this.lineStringReplay&&(!y&&u.disable(u.STENCIL_TEST),u.clear(u.STENCIL_BUFFER_BIT),u.stencilFunc(m,f,h),u.stencilMask(x),u.stencilOp(E,T,C)),v},d.prototype.drawElements=function(e,t,o,a){const r=t.hasOESElementIndexUint?l.E:l.F,i=t.hasOESElementIndexUint?4:2;e.drawElements(l.B,a-o,r,o*i)},t.a=d},function(e,t){"use strict";t.b="10px sans-serif";t.a=[0,0,0,1];t.c="round";t.d=[];t.e=0;t.f="round";t.h=10;t.i=[0,0,0,1];t.j=.5;t.k=.5;t.g=1;const o=Number.EPSILON||2220446049250313e-31;t.l=o;t.m=function(e,t,a,r,i,n){const s=(a-e)*(n-t)-(i-e)*(r-t);return s<=o&&s>=-o?void 0:0<s}},function(e,t,o){"use strict";function a(e,t,o){const a=e.createTexture();return e.bindTexture(e.TEXTURE_2D,a),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.LINEAR),void 0!==t&&e.texParameteri(p.w,p.z,t),void 0!==o&&e.texParameteri(p.w,p.A,o),a}function r(e,t,o,r,i){const n=a(e,r,i);return e.texImage2D(e.TEXTURE_2D,0,e.RGBA,t,o,0,e.RGBA,e.UNSIGNED_BYTE,null),n}t.a=r,t.b=function(e,t,o,r){const i=a(e,o,r);return e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,t),i};var i=o(0),n=o(126),s=o(13),l=o(8),d=o(10),p=o(39),g=o(275);const _=function(e,t){this.canvas_=e,this.gl_=t,this.bufferCache_={},this.shaderCache_={},this.programCache_={},this.currentProgram_=null,this.hitDetectionFramebuffer_=null,this.hitDetectionTexture_=null,this.hitDetectionRenderbuffer_=null,this.hasOESElementIndexUint=Object(s.f)(i.d,"OES_element_index_uint"),this.hasOESElementIndexUint&&t.getExtension("OES_element_index_uint"),Object(l.a)(this.canvas_,g.a.LOST,this.handleWebGLContextLost,this),Object(l.a)(this.canvas_,g.a.RESTORED,this.handleWebGLContextRestored,this)};Object(i.g)(_,n.a),_.prototype.bindBuffer=function(e,t){const o=this.getGL(),a=t.getArray(),r=Object(i.f)(t)+"";if(r in this.bufferCache_){const t=this.bufferCache_[r];o.bindBuffer(e,t.buffer)}else{const i=o.createBuffer();o.bindBuffer(e,i);let n;e==p.a?n=new Float32Array(a):e==p.i&&(n=this.hasOESElementIndexUint?new Uint32Array(a):new Uint16Array(a)),o.bufferData(e,n,t.getUsage()),this.bufferCache_[r]={buf:t,buffer:i}}},_.prototype.deleteBuffer=function(e){const t=this.getGL(),o=Object(i.f)(e)+"",a=this.bufferCache_[o];t.isContextLost()||t.deleteBuffer(a.buffer),delete this.bufferCache_[o]},_.prototype.disposeInternal=function(){Object(l.d)(this.canvas_);const e=this.getGL();if(!e.isContextLost()){for(const t in this.bufferCache_)e.deleteBuffer(this.bufferCache_[t].buffer);for(const t in this.programCache_)e.deleteProgram(this.programCache_[t]);for(const t in this.shaderCache_)e.deleteShader(this.shaderCache_[t]);e.deleteFramebuffer(this.hitDetectionFramebuffer_),e.deleteRenderbuffer(this.hitDetectionRenderbuffer_),e.deleteTexture(this.hitDetectionTexture_)}},_.prototype.getCanvas=function(){return this.canvas_},_.prototype.getGL=function(){return this.gl_},_.prototype.getHitDetectionFramebuffer=function(){return this.hitDetectionFramebuffer_||this.initHitDetectionFramebuffer_(),this.hitDetectionFramebuffer_},_.prototype.getShader=function(e){const t=Object(i.f)(e)+"";if(t in this.shaderCache_)return this.shaderCache_[t];else{const o=this.getGL(),a=o.createShader(e.getType());return o.shaderSource(a,e.getSource()),o.compileShader(a),this.shaderCache_[t]=a,a}},_.prototype.getProgram=function(e,t){const o=Object(i.f)(e)+"/"+Object(i.f)(t);if(o in this.programCache_)return this.programCache_[o];else{const a=this.getGL(),r=a.createProgram();return a.attachShader(r,this.getShader(e)),a.attachShader(r,this.getShader(t)),a.linkProgram(r),this.programCache_[o]=r,r}},_.prototype.handleWebGLContextLost=function(){Object(d.b)(this.bufferCache_),Object(d.b)(this.shaderCache_),Object(d.b)(this.programCache_),this.currentProgram_=null,this.hitDetectionFramebuffer_=null,this.hitDetectionTexture_=null,this.hitDetectionRenderbuffer_=null},_.prototype.handleWebGLContextRestored=function(){},_.prototype.initHitDetectionFramebuffer_=function(){const e=this.gl_,t=e.createFramebuffer();e.bindFramebuffer(e.FRAMEBUFFER,t);const o=r(e,1,1),a=e.createRenderbuffer();e.bindRenderbuffer(e.RENDERBUFFER,a),e.renderbufferStorage(e.RENDERBUFFER,e.DEPTH_COMPONENT16,1,1),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,o,0),e.framebufferRenderbuffer(e.FRAMEBUFFER,e.DEPTH_ATTACHMENT,e.RENDERBUFFER,a),e.bindTexture(e.TEXTURE_2D,null),e.bindRenderbuffer(e.RENDERBUFFER,null),e.bindFramebuffer(e.FRAMEBUFFER,null),this.hitDetectionFramebuffer_=t,this.hitDetectionTexture_=o,this.hitDetectionRenderbuffer_=a},_.prototype.useProgram=function(e){if(e==this.currentProgram_)return!1;else{const t=this.getGL();return t.useProgram(e),this.currentProgram_=e,!0}},t.c=_},function(e,t,o){"use strict";var a=o(20);t.a=function(e,t,o){var r=e*o;return r=Math.pow((1-r)/(1+r),.5*e),Math.tan(.5*(a.d-t))/r}},function(e,t,o){"use strict";var a=Math.atan,r=o(20);t.a=function(e,t){for(var o=r.d-2*a(t),n=0,i,s;15>=n;n++)if(i=e*Math.sin(o),s=r.d-2*a(t*Math.pow((1-i)/(1+i),.5*e))-o,o+=s,1e-10>=Math.abs(s))return o;return-9999}},function(e,t){"use strict";var o=Math.sin;t.a=function(e,t,a,r,i){return e*i-t*o(2*i)+a*o(4*i)-r*o(6*i)}},function(e,t){"use strict";t.a=function(e){return 1-.25*e*(1+e/16*(3+1.25*e))}},function(e,t){"use strict";t.a=function(e){return .375*e*(1+.25*e*(1+.46875*e))}},function(e,t){"use strict";t.a=function(e){return .05859375*e*e*(1+.75*e)}},function(e,t){"use strict";t.a=function(e){return e*e*e*(35/3072)}},function(e,t){"use strict";t.a={POINTERMOVE:"pointermove",POINTERDOWN:"pointerdown",POINTERUP:"pointerup",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",POINTERCANCEL:"pointercancel"}},function(e,t,o){"use strict";function a(t,o){const a=o.cloneEvent(t,t),e=a.preventDefault;return a.preventDefault=function(){t.preventDefault(),e()},a.pointerId=l,a.isPrimary=!0,a.pointerType=d,a}var r=Math.abs,i=o(0),n=o(127);const s=function(e){const t={mousedown:this.mousedown,mousemove:this.mousemove,mouseup:this.mouseup,mouseover:this.mouseover,mouseout:this.mouseout};n.a.call(this,e,t),this.pointerMap=e.pointerMap,this.lastTouches=[]};Object(i.g)(s,n.a);const l=1;t.a=l;const d="mouse";t.b=d;const p=25;s.prototype.isEventSimulatedFromTouch_=function(e){const o=this.lastTouches,a=e.clientX,i=e.clientY;for(let n=0,s=o.length,l;n<s&&(l=o[n]);n++){const e=r(a-l[0]),t=r(i-l[1]);if(e<=p&&t<=p)return!0}return!1},s.prototype.mousedown=function(t){if(!this.isEventSimulatedFromTouch_(t)){l.toString()in this.pointerMap&&this.cancel(t);const o=a(t,this.dispatcher);this.pointerMap[l.toString()]=t,this.dispatcher.down(o,t)}},s.prototype.mousemove=function(t){if(!this.isEventSimulatedFromTouch_(t)){const o=a(t,this.dispatcher);this.dispatcher.move(o,t)}},s.prototype.mouseup=function(t){if(!this.isEventSimulatedFromTouch_(t)){const e=this.pointerMap[l.toString()];if(e&&e.button===t.button){const o=a(t,this.dispatcher);this.dispatcher.up(o,t),this.cleanupMouse()}}},s.prototype.mouseover=function(t){if(!this.isEventSimulatedFromTouch_(t)){const o=a(t,this.dispatcher);this.dispatcher.enterOver(o,t)}},s.prototype.mouseout=function(t){if(!this.isEventSimulatedFromTouch_(t)){const o=a(t,this.dispatcher);this.dispatcher.leaveOut(o,t)}},s.prototype.cancel=function(t){const o=a(t,this.dispatcher);this.dispatcher.cancel(o,t),this.cleanupMouse()},s.prototype.cleanupMouse=function(){delete this.pointerMap[l.toString()]},t.c=s},function(e,t,o){"use strict";var a=o(19),r=o(10);const i=function(e,t){this.priorityFunction_=e,this.keyFunction_=t,this.elements_=[],this.priorities_=[],this.queuedElements_={}},s=Infinity;t.a=s,i.prototype.clear=function(){this.elements_.length=0,this.priorities_.length=0,Object(r.b)(this.queuedElements_)},i.prototype.dequeue=function(){const e=this.elements_,t=this.priorities_,o=e[0];1==e.length?(e.length=0,t.length=0):(e[0]=e.pop(),t[0]=t.pop(),this.siftUp_(0));const a=this.keyFunction_(o);return delete this.queuedElements_[a],o},i.prototype.enqueue=function(e){Object(a.a)(!(this.keyFunction_(e)in this.queuedElements_),31);const t=this.priorityFunction_(e);return t!=s&&(this.elements_.push(e),this.priorities_.push(t),this.queuedElements_[this.keyFunction_(e)]=!0,this.siftDown_(0,this.elements_.length-1),!0)},i.prototype.getCount=function(){return this.elements_.length},i.prototype.getLeftChildIndex_=function(e){return 2*e+1},i.prototype.getRightChildIndex_=function(e){return 2*e+2},i.prototype.getParentIndex_=function(e){return e-1>>1},i.prototype.heapify_=function(){let e;for(e=(this.elements_.length>>1)-1;0<=e;e--)this.siftUp_(e)},i.prototype.isEmpty=function(){return 0===this.elements_.length},i.prototype.isKeyQueued=function(e){return e in this.queuedElements_},i.prototype.isQueued=function(e){return this.isKeyQueued(this.keyFunction_(e))},i.prototype.siftUp_=function(e){const t=this.elements_,o=this.priorities_,a=t.length,r=t[e],i=o[e],n=e;for(;e<a>>1;){const r=this.getLeftChildIndex_(e),i=this.getRightChildIndex_(e),n=i<a&&o[i]<o[r]?i:r;t[e]=t[n],o[e]=o[n],e=n}t[e]=r,o[e]=i,this.siftDown_(n,e)},i.prototype.siftDown_=function(e,t){const o=this.elements_,a=this.priorities_,r=o[t],i=a[t];for(;t>e;){const e=this.getParentIndex_(t);if(a[e]>i)o[t]=o[e],a[t]=a[e],t=e;else break}o[t]=r,a[t]=i},i.prototype.reprioritize=function(){const e=this.priorityFunction_,t=this.elements_,o=this.priorities_;let a=0;const r=t.length;let n,l,i;for(l=0;l<r;++l)n=t[l],i=e(n),i==s?delete this.queuedElements_[this.keyFunction_(n)]:(o[a]=i,t[a++]=n);t.length=a,o.length=a,this.heapify_()},t.b=i},function(e,t,o){"use strict";var a=o(0),r=o(3),i=o(30),n=o(22),s=o(44),l=o(132),d=o(110),p=o(64),g=o(73),_=o(87);const c=function(e,t){s.a.call(this),this.maxDelta_=-1,this.maxDeltaRevision_=-1,this.setCoordinates(e,t)};Object(a.g)(c,s.a),c.prototype.clone=function(){const e=new c(null);return e.setFlatCoordinates(this.layout,this.flatCoordinates.slice()),e},c.prototype.closestPointXY=function(e,t,o,a){return a<Object(r.e)(this.getExtent(),e,t)?a:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(Object(d.e)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),Object(d.d)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!0,e,t,o,a))},c.prototype.getArea=function(){return Object(l.a)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},c.prototype.getCoordinates=function(){return Object(g.a)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},c.prototype.getSimplifiedGeometryInternal=function(e){const t=[];t.length=Object(_.a)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e,t,0);const o=new c(null);return o.setFlatCoordinates(i.a.XY,t),o},c.prototype.getType=function(){return n.a.LINEAR_RING},c.prototype.intersectsExtent=function(){},c.prototype.setCoordinates=function(e,t){e?(this.setLayout(t,e,1),!this.flatCoordinates&&(this.flatCoordinates=[]),this.flatCoordinates.length=Object(p.b)(this.flatCoordinates,0,e,this.stride),this.changed()):this.setFlatCoordinates(i.a.XY,null)},c.prototype.setFlatCoordinates=function(e,t){this.setFlatCoordinatesInternal(e,t),this.changed()},t.a=c},function(e,t,o){"use strict";function a(e,t,o){const r=Object(c.j)(e[1]),n=Object(c.j)(t[1]),s=(n-r)/2,l=Object(c.j)(t[0]-e[0])/2,d=g(s)*g(s)+g(l)*g(l)*_(r)*_(n);return 2*(o||y)*i(p(d),p(1-d))}function r(e,t){let o=0;for(let r=0,i=e.length;r<i-1;++r)o+=a(e[r],e[r+1],t);return o}function n(e,t){const o=t||{},a=o.radius||y,s=o.projection||"EPSG:3857",l=e.getType();l!==u.a.GEOMETRY_COLLECTION&&(e=e.clone().transform(s,"EPSG:4326"));let d=0,p,g,_,i,c,m;switch(l){case u.a.POINT:case u.a.MULTI_POINT:break;case u.a.LINE_STRING:case u.a.LINEAR_RING:{p=e.getCoordinates(),d=r(p,a);break}case u.a.MULTI_LINE_STRING:case u.a.POLYGON:{for(p=e.getCoordinates(),_=0,i=p.length;_<i;++_)d+=r(p[_],a);break}case u.a.MULTI_POLYGON:{for(p=e.getCoordinates(),_=0,i=p.length;_<i;++_)for(g=p[_],c=0,m=g.length;c<m;++c)d+=r(g[c],a);break}case u.a.GEOMETRY_COLLECTION:{const o=e.getGeometries();for(_=0,i=o.length;_<i;++_)d+=n(o[_],t);break}default:throw new Error("Unsupported geometry type: "+l);}return d}function s(e,t){let o=0;const a=e.length;let r=e[a-1][0],n=e[a-1][1];for(let s=0;s<a;s++){const t=e[s][0],a=e[s][1];o+=Object(c.j)(t-r)*(2+g(Object(c.j)(n))+g(Object(c.j)(a))),r=t,n=a}return o*t*t/2}function l(e,t){const o=t||{},a=o.radius||y,r=o.projection||"EPSG:3857",n=e.getType();n!==u.a.GEOMETRY_COLLECTION&&(e=e.clone().transform(r,"EPSG:4326"));let p=0,g,_,c,i,m,h;switch(n){case u.a.POINT:case u.a.MULTI_POINT:case u.a.LINE_STRING:case u.a.MULTI_LINE_STRING:case u.a.LINEAR_RING:break;case u.a.POLYGON:{for(g=e.getCoordinates(),p=d(s(g[0],a)),(c=1,i=g.length);c<i;++c)p-=d(s(g[c],a));break}case u.a.MULTI_POLYGON:{for(g=e.getCoordinates(),c=0,i=g.length;c<i;++c)for(_=g[c],p+=d(s(_[0],a)),(m=1,h=_.length);m<h;++m)p-=d(s(_[m],a));break}case u.a.GEOMETRY_COLLECTION:{const o=e.getGeometries();for(c=0,i=o.length;c<i;++c)p+=l(o[c],t);break}default:throw new Error("Unsupported geometry type: "+n);}return p}var i=Math.atan2,d=Math.abs,p=Math.sqrt,g=Math.sin,_=Math.cos;t.b=a,t.c=n,t.a=l,t.d=function(e,t,o,a){const r=Object(c.j)(e[1]),n=Object(c.j)(e[0]),s=t/(a||y),l=Math.asin(g(r)*_(s)+_(r)*g(s)*_(o)),d=n+i(g(o)*g(s)*_(r),_(s)-g(r)*g(l));return[Object(c.i)(d),Object(c.i)(l)]};var c=o(17),u=o(22);/**
 * @license
 * Latitude/longitude spherical geodesy formulae taken from
 * http://www.movable-type.co.uk/scripts/latlong.html
 * Licensed under CC-BY-3.0.
 */const y=6371008.8},function(e,t,o){"use strict";function a(e,t,o,a,s,l,d){let p,i,g,_,c,u,m;const h=s[l+1],y=[];for(let i=0,r=o.length;i<r;++i){const r=o[i];for(_=e[r-a],u=e[r-a+1],p=t;p<r;p+=a)c=e[p],m=e[p+1],(h<=u&&m<=h||u<=h&&h<=m)&&(g=(h-u)/(m-u)*(c-_)+_,y.push(g)),_=c,u=m}let f=NaN,x=-Infinity;for(y.sort(r.i),_=y[0],(p=1,i=y.length);p<i;++p){c=y[p];const r=Math.abs(c-_);r>x&&(g=(_+c)/2,Object(n.c)(e,t,o,a,g,h)&&(f=g,x=r)),_=c}return isNaN(f)&&(f=s[l]),d?(d.push(f,h,x),d):[f,h,x]}t.a=a,t.b=function(e,t,o,r,n){let s=[];for(let l=0,i=o.length;l<i;++l){const i=o[l];s=a(e,t,i,r,n,2*l,s),t=i[i.length-1]}return s};var r=o(13),n=o(111)},function(e,t){"use strict";t.a={ACTIVE:"active"}},function(e,t,o){"use strict";var a=o(0),r=o(19),i=o(79),n=o(11);const s=function(e){i.a.call(this),this.highWaterMark=e===void 0?2048:e,this.count_=0,this.entries_={},this.oldest_=null,this.newest_=null};Object(a.g)(s,i.a),s.prototype.canExpireCache=function(){return this.getCount()>this.highWaterMark},s.prototype.clear=function(){this.count_=0,this.entries_={},this.oldest_=null,this.newest_=null,this.dispatchEvent(n.a.CLEAR)},s.prototype.containsKey=function(e){return this.entries_.hasOwnProperty(e)},s.prototype.forEach=function(e,t){for(let o=this.oldest_;o;)e.call(t,o.value_,o.key_,this),o=o.newer},s.prototype.get=function(e){const t=this.entries_[e];return(Object(r.a)(void 0!==t,15),t===this.newest_)?t.value_:(t===this.oldest_?(this.oldest_=this.oldest_.newer,this.oldest_.older=null):(t.newer.older=t.older,t.older.newer=t.newer),t.newer=null,t.older=this.newest_,this.newest_.newer=t,this.newest_=t,t.value_)},s.prototype.remove=function(e){const t=this.entries_[e];return Object(r.a)(void 0!==t,15),t===this.newest_?(this.newest_=t.older,this.newest_&&(this.newest_.newer=null)):t===this.oldest_?(this.oldest_=t.newer,this.oldest_&&(this.oldest_.older=null)):(t.newer.older=t.older,t.older.newer=t.newer),delete this.entries_[e],--this.count_,t.value_},s.prototype.getCount=function(){return this.count_},s.prototype.getKeys=function(){const e=Array(this.count_);let t=0,o;for(o=this.newest_;o;o=o.older)e[t++]=o.key_;return e},s.prototype.getValues=function(){const e=Array(this.count_);let t=0,o;for(o=this.newest_;o;o=o.older)e[t++]=o.value_;return e},s.prototype.peekLast=function(){return this.oldest_.value_},s.prototype.peekLastKey=function(){return this.oldest_.key_},s.prototype.peekFirstKey=function(){return this.newest_.key_},s.prototype.pop=function(){const e=this.oldest_;return delete this.entries_[e.key_],e.newer&&(e.newer.older=null),this.oldest_=e.newer,this.oldest_||(this.newest_=null),--this.count_,e.value_},s.prototype.replace=function(e,t){this.get(e),this.entries_[e].value_=t},s.prototype.set=function(e,t){Object(r.a)(!(e in this.entries_),16);const o={key_:e,newer:null,older:this.newest_,value_:t};this.newest_?this.newest_.newer=o:this.oldest_=o,this.newest_=o,this.entries_[e]=o,++this.count_},s.prototype.setSize=function(e){this.highWaterMark=e},s.prototype.prune=function(){for(;this.canExpireCache();)this.pop()},t.a=s},function(e,t){"use strict";const o=function(e){this.opacity_=e.opacity,this.rotateWithView_=e.rotateWithView,this.rotation_=e.rotation,this.scale_=e.scale,this.snapToPixel_=e.snapToPixel};o.prototype.getOpacity=function(){return this.opacity_},o.prototype.getRotateWithView=function(){return this.rotateWithView_},o.prototype.getRotation=function(){return this.rotation_},o.prototype.getScale=function(){return this.scale_},o.prototype.getSnapToPixel=function(){return this.snapToPixel_},o.prototype.getAnchor=function(){},o.prototype.getImage=function(){},o.prototype.getHitDetectionImage=function(){},o.prototype.getImageState=function(){},o.prototype.getImageSize=function(){},o.prototype.getHitDetectionImageSize=function(){},o.prototype.getOrigin=function(){},o.prototype.getSize=function(){},o.prototype.setOpacity=function(e){this.opacity_=e},o.prototype.setRotateWithView=function(e){this.rotateWithView_=e},o.prototype.setRotation=function(e){this.rotation_=e},o.prototype.setScale=function(e){this.scale_=e},o.prototype.setSnapToPixel=function(e){this.snapToPixel_=e},o.prototype.listenImageChange=function(){},o.prototype.load=function(){},o.prototype.unlistenImageChange=function(){},t.a=o},function(e,t,o){"use strict";var a=Math.sqrt,r=o(0),i=o(3),n=o(30),s=o(22),l=o(44),d=o(64);const p=function(e,t,o){l.a.call(this);const a=t?t:0;this.setCenterAndRadius(e,a,o)};Object(r.g)(p,l.a),p.prototype.clone=function(){const e=new p(null);return e.setFlatCoordinates(this.layout,this.flatCoordinates.slice()),e},p.prototype.closestPointXY=function(e,t,o,r){const n=this.flatCoordinates,i=e-n[0],s=t-n[1],l=i*i+s*s;if(l<r){if(0==l)for(let e=0;e<this.stride;++e)o[e]=n[e];else{const e=this.getRadius()/a(l);o[0]=n[0]+e*i,o[1]=n[1]+e*s;for(let e=2;e<this.stride;++e)o[e]=n[e]}return o.length=this.stride,l}return r},p.prototype.containsXY=function(e,t){const o=this.flatCoordinates,a=e-o[0],r=t-o[1];return a*a+r*r<=this.getRadiusSquared_()},p.prototype.getCenter=function(){return this.flatCoordinates.slice(0,this.stride)},p.prototype.computeExtent=function(e){const t=this.flatCoordinates,o=t[this.stride]-t[0];return Object(i.k)(t[0]-o,t[1]-o,t[0]+o,t[1]+o,e)},p.prototype.getRadius=function(){return a(this.getRadiusSquared_())},p.prototype.getRadiusSquared_=function(){const e=this.flatCoordinates[this.stride]-this.flatCoordinates[0],t=this.flatCoordinates[this.stride+1]-this.flatCoordinates[1];return e*e+t*t},p.prototype.getType=function(){return s.a.CIRCLE},p.prototype.intersectsExtent=function(e){const t=this.getExtent();if(Object(i.F)(e,t)){const t=this.getCenter();return!!(e[0]<=t[0]&&e[2]>=t[0])||!!(e[1]<=t[1]&&e[3]>=t[1])||Object(i.t)(e,this.intersectsCoordinate,this)}return!1},p.prototype.setCenter=function(e){const t=this.stride,o=this.flatCoordinates[t]-this.flatCoordinates[0],a=e.slice();a[t]=a[0]+o;for(let o=1;o<t;++o)a[t+o]=e[o];this.setFlatCoordinates(this.layout,a)},p.prototype.setCenterAndRadius=function(e,t,o){if(!e)this.setFlatCoordinates(n.a.XY,null);else{this.setLayout(o,e,0),this.flatCoordinates||(this.flatCoordinates=[]);const a=this.flatCoordinates;let r=Object(d.a)(a,0,e,this.stride);a[r++]=a[0]+t;for(let e=1,t=this.stride;e<t;++e)a[r++]=a[e];a.length=r,this.changed()}},p.prototype.getCoordinates=function(){},p.prototype.setCoordinates=function(){},p.prototype.setFlatCoordinates=function(e,t){this.setFlatCoordinatesInternal(e,t),this.changed()},p.prototype.setRadius=function(e){this.flatCoordinates[this.stride]=this.flatCoordinates[0]+e,this.changed()},p.prototype.transform,t.a=p},function(e,t,o){"use strict";function a(e,t,o,a,r,i){if(o==t)return null;let s;if(r<e[t+a-1])return i?(s=e.slice(t,t+a),s[a-1]=r,s):null;if(e[o-1]<r)return i?(s=e.slice(o-a,o),s[a-1]=r,s):null;if(r==e[t+a-1])return e.slice(t,t+a);let l=t/a,d=o/a;for(;l<d;){const t=l+d>>1;r<e[(t+1)*a-1]?d=t:l=t+1}const p=e[l*a-1];if(r==p)return e.slice((l-1)*a,(l-1)*a+a);const g=e[(l+1)*a-1];s=[];for(let d=0;d<a-1;++d)s.push(Object(n.c)(e[(l-1)*a+d],e[l*a+d],(r-p)/(g-p)));return s.push(r),s}t.a=function(e,a,t,s,o,i){let l=NaN,d=NaN;const p=(t-a)/s;if(1==p)l=e[a],d=e[a+1];else if(2==p)l=(1-o)*e[a]+o*e[a+s],d=(1-o)*e[a+1]+o*e[a+s+1];else if(0!=p){let p=e[a],g=e[a+1],_=0;const c=[0];for(let o=a+s;o<t;o+=s){const t=e[o],a=e[o+1];_+=Math.sqrt((t-p)*(t-p)+(a-g)*(a-g)),c.push(_),p=t,g=a}const i=o*_,u=Object(r.a)(c,i);if(0>u){const r=(i-c[-u-2])/(c[-u-1]-c[-u-2]),t=a+(-u-2)*s;l=Object(n.c)(e[t],e[t+s],r),d=Object(n.c)(e[t+1],e[t+s+1],r)}else l=e[a+u*s],d=e[a+u*s+1]}return i?(i[0]=l,i[1]=d,i):[l,d]},t.b=a,t.c=function(e,t,o,r,i,n,s){if(s)return a(e,t,o[o.length-1],r,i,n);let l;if(i<e[r-1])return n?(l=e.slice(0,r),l[r-1]=i,l):null;if(e[e.length-1]<i)return n?(l=e.slice(e.length-r),l[r-1]=i,l):null;for(let l=0,d=o.length;l<d;++l){const n=o[l];if(t!=n){if(i<e[t+r-1])return null;if(i<=e[n-1])return a(e,t,n,r,i,!1);t=n}}return null};var r=o(13),n=o(17)},function(e,t){"use strict";t.a={ADDFEATURE:"addfeature",CHANGEFEATURE:"changefeature",CLEAR:"clear",REMOVEFEATURE:"removefeature"}},function(e,t,o){"use strict";function a(e,t){return this instanceof a?void(this._maxEntries=C(4,e||9),this._minEntries=C(2,f(.4*this._maxEntries)),t&&this._initFormat(t),this.clear()):new a(e,t)}function r(e,t,o){if(!o)return t.indexOf(e);for(var a=0;a<t.length;a++)if(o(e,t[a]))return a;return-1}function n(e,t){s(e,0,e.children.length,t,e)}function s(e,t,o,a,r){r||(r=h(null)),r.minX=Infinity,r.minY=Infinity,r.maxX=-Infinity,r.maxY=-Infinity;for(var n=t,i;n<o;n++)i=e.children[n],l(r,e.leaf?a(i):i);return r}function l(e,t){return e.minX=x(e.minX,t.minX),e.minY=x(e.minY,t.minY),e.maxX=C(e.maxX,t.maxX),e.maxY=C(e.maxY,t.maxY),e}function i(e,t){return e.minX-t.minX}function d(e,t){return e.minY-t.minY}function p(e){return(e.maxX-e.minX)*(e.maxY-e.minY)}function g(e){return e.maxX-e.minX+(e.maxY-e.minY)}function _(e,t){return(C(t.maxX,e.maxX)-x(t.minX,e.minX))*(C(t.maxY,e.maxY)-x(t.minY,e.minY))}function c(e,t){var o=C(e.minX,t.minX),a=C(e.minY,t.minY),r=x(e.maxX,t.maxX),i=x(e.maxY,t.maxY);return C(0,r-o)*C(0,i-a)}function u(e,t){return e.minX<=t.minX&&e.minY<=t.minY&&t.maxX<=e.maxX&&t.maxY<=e.maxY}function y(e,t){return t.minX<=e.maxX&&t.minY<=e.maxY&&t.maxX>=e.minX&&t.maxY>=e.minY}function h(e){return{children:e,height:1,leaf:!0,minX:Infinity,minY:Infinity,maxX:-Infinity,maxY:-Infinity}}function m(e,t,o,a,r){for(var i=[t,o],n;i.length;)o=i.pop(),t=i.pop(),o-t<=a||(n=t+f((o-t)/a/2)*a,T(e,n,t,o,r),i.push(t,n,n,o))}var f=Math.ceil,x=Math.min,E=Math.log,C=Math.max;e.exports=a,e.exports.default=a;var T=o(306);a.prototype={all:function(){return this._all(this.data,[])},search:function(e){var t=this.data,o=[],a=this.toBBox;if(!y(e,t))return o;for(var r=[],n,i,s,l;t;){for(n=0,i=t.children.length;n<i;n++)s=t.children[n],l=t.leaf?a(s):s,y(e,l)&&(t.leaf?o.push(s):u(e,l)?this._all(s,o):r.push(s));t=r.pop()}return o},collides:function(e){var t=this.data,o=this.toBBox;if(!y(e,t))return!1;for(var a=[],r,i,n,s;t;){for(r=0,i=t.children.length;r<i;r++)if(n=t.children[r],s=t.leaf?o(n):n,y(e,s)){if(t.leaf||u(e,s))return!0;a.push(n)}t=a.pop()}return!1},load:function(e){if(!(e&&e.length))return this;if(e.length<this._minEntries){for(var t=0,o=e.length;t<o;t++)this.insert(e[t]);return this}var a=this._build(e.slice(),0,e.length-1,0);if(!this.data.children.length)this.data=a;else if(this.data.height===a.height)this._splitRoot(this.data,a);else{if(this.data.height<a.height){var r=this.data;this.data=a,a=r}this._insert(a,this.data.height-a.height-1,!0)}return this},insert:function(e){return e&&this._insert(e,this.data.height-1),this},clear:function(){return this.data=h([]),this},remove:function(e,t){if(!e)return this;for(var o=this.data,a=this.toBBox(e),n=[],s=[],l,i,d,p;o||n.length;){if(o||(o=n.pop(),i=n[n.length-1],l=s.pop(),p=!0),o.leaf&&(d=r(e,o.children,t),-1!==d))return o.children.splice(d,1),n.push(o),this._condense(n),this;p||o.leaf||!u(o,a)?i?(l++,o=i.children[l],p=!1):o=null:(n.push(o),s.push(l),l=0,i=o,o=o.children[0])}return this},toBBox:function(e){return e},compareMinX:i,compareMinY:d,toJSON:function(){return this.data},fromJSON:function(e){return this.data=e,this},_all:function(e,t){for(var o=[];e;)e.leaf?t.push.apply(t,e.children):o.push.apply(o,e.children),e=o.pop();return t},_build:function(e,t,o,a){var r=o-t+1,s=this._maxEntries,l;if(r<=s)return l=h(e.slice(t,o+1)),n(l,this.toBBox),l;a||(a=f(E(r)/E(s)),s=f(r/Math.pow(s,a-1))),l=h([]),l.leaf=!1,l.height=a;var d=f(r/s),p=d*f(Math.sqrt(s)),g,i,_,c;for(m(e,t,o,p,this.compareMinX),g=t;g<=o;g+=p)for(_=x(g+p-1,o),m(e,g,_,d,this.compareMinY),i=g;i<=_;i+=d)c=x(i+d-1,_),l.children.push(this._build(e,i,c,a-1));return n(l,this.toBBox),l},_chooseSubtree:function(e,t,o,a){for(var r,i,n,s,l,d,g,c;a.push(t),!(t.leaf||a.length-1===o);){for(g=c=Infinity,r=0,i=t.children.length;r<i;r++)n=t.children[r],l=p(n),d=_(e,n)-l,d<c?(c=d,g=l<g?l:g,s=n):d==c&&l<g&&(g=l,s=n);t=s||t.children[0]}return t},_insert:function(e,t,o){var a=this.toBBox,r=o?e:a(e),i=[],n=this._chooseSubtree(r,this.data,t,i);for(n.children.push(e),l(n,r);0<=t&&i[t].children.length>this._maxEntries;)this._split(i,t),t--;this._adjustParentBBoxes(r,i,t)},_split:function(e,t){var o=e[t],a=o.children.length,r=this._minEntries;this._chooseSplitAxis(o,r,a);var i=this._chooseSplitIndex(o,r,a),s=h(o.children.splice(i,o.children.length-i));s.height=o.height,s.leaf=o.leaf,n(o,this.toBBox),n(s,this.toBBox),t?e[t-1].children.push(s):this._splitRoot(o,s)},_splitRoot:function(e,t){this.data=h([e,t]),this.data.height=e.height+1,this.data.leaf=!1,n(this.data,this.toBBox)},_chooseSplitIndex:function(e,t,o){var a,r,i,n,l,d,g,_;for(d=g=Infinity,a=t;a<=o-t;a++)r=s(e,0,a,this.toBBox),i=s(e,a,o,this.toBBox),n=c(r,i),l=p(r)+p(i),n<d?(d=n,_=a,g=l<g?l:g):n===d&&l<g&&(g=l,_=a);return _},_chooseSplitAxis:function(e,t,o){var a=e.leaf?this.compareMinX:i,r=e.leaf?this.compareMinY:d,n=this._allDistMargin(e,t,o,a),s=this._allDistMargin(e,t,o,r);n<s&&e.children.sort(a)},_allDistMargin:function(e,t,o,a){e.children.sort(a);var r=this.toBBox,n=s(e,0,t,r),d=s(e,o-t,o,r),p=g(n)+g(d),_,i;for(_=t;_<o-t;_++)i=e.children[_],l(n,e.leaf?r(i):i),p+=g(n);for(_=o-t-1;_>=t;_--)i=e.children[_],l(d,e.leaf?r(i):i),p+=g(d);return p},_adjustParentBBoxes:function(e,t,o){for(var a=o;0<=a;a--)l(t[a],e)},_condense:function(e){for(var t=e.length-1,o;0<=t;t--)0===e[t].children.length?0<t?(o=e[t-1].children,o.splice(o.indexOf(e[t]),1)):this.clear():n(e[t],this.toBBox)},_initFormat:function(e){var t=["return a"," - b",";"];this.compareMinX=new Function("a","b",t.join(e[0])),this.compareMinY=new Function("a","b",t.join(e[1])),this.toBBox=new Function("a","return {minX: a"+e[0]+", minY: a"+e[1]+", maxX: a"+e[2]+", maxY: a"+e[3]+"};")}}},function(e,t,o){"use strict";function a(e){if(!this.condition_(e))return!0;const t=this.addCondition_(e),o=this.removeCondition_(e),a=this.toggleCondition_(e),r=e.map,n=this.featureOverlay_.getSource().getFeaturesCollection(),l=[],d=[];if(!t&&!o&&!a){Object(y.b)(this.featureLayerAssociation_),r.forEachFeatureAtPixel(e.pixel,function(e,t){if(this.filter_(e,t))return d.push(e),this.addFeatureLayerAssociation_(e,t),!this.multi_}.bind(this),{layerFilter:this.layerFilter_,hitTolerance:this.hitTolerance_});for(let e=n.getLength()-1;0<=e;--e){const t=n.item(e),o=d.indexOf(t);-1<o?d.splice(o,1):(n.remove(t),l.push(t))}0!==d.length&&n.extend(d)}else{r.forEachFeatureAtPixel(e.pixel,function(e,r){if(this.filter_(e,r))return(t||a)&&!Object(s.f)(n.getArray(),e)?(d.push(e),this.addFeatureLayerAssociation_(e,r)):(o||a)&&Object(s.f)(n.getArray(),e)&&(l.push(e),this.removeFeatureLayerAssociation_(e)),!this.multi_}.bind(this),{layerFilter:this.layerFilter_,hitTolerance:this.hitTolerance_});for(let e=l.length-1;0<=e;--e)n.remove(l[e]);n.extend(d)}return(0<d.length||0<l.length)&&this.dispatchEvent(new x(f.SELECT,d,l,e)),Object(p.k)(e)}function r(){const e=Object(h.b)();return Object(s.c)(e[_.a.POLYGON],e[_.a.LINE_STRING]),Object(s.c)(e[_.a.GEOMETRY_COLLECTION],e[_.a.LINE_STRING]),function(t){return t.getGeometry()?e[t.getGeometry().getType()]:null}}var i=o(0),n=o(78),s=o(13),l=o(8),d=o(33),p=o(38),g=o(18),_=o(22),c=o(47),u=o(25),y=o(10),m=o(12),h=o(65);const f={SELECT:"select"},x=function(e,t,o,a){d.a.call(this,e),this.selected=t,this.deselected=o,this.mapBrowserEvent=a};Object(i.g)(x,d.a);const E=function(e){c.a.call(this,{handleEvent:a});const t=e?e:{};this.condition_=t.condition?t.condition:p.n,this.addCondition_=t.addCondition?t.addCondition:p.h,this.removeCondition_=t.removeCondition?t.removeCondition:p.h,this.toggleCondition_=t.toggleCondition?t.toggleCondition:p.m,this.multi_=!!t.multi&&t.multi,this.filter_=t.filter?t.filter:g.b,this.hitTolerance_=t.hitTolerance?t.hitTolerance:0;const o=new u.a({source:new m.b({useSpatialIndex:!1,features:t.features,wrapX:t.wrapX}),style:t.style?t.style:r(),updateWhileAnimating:!0,updateWhileInteracting:!0});this.featureOverlay_=o;let i;if(!t.layers)i=g.b;else if("function"==typeof t.layers)i=t.layers;else{const e=t.layers;i=function(t){return Object(s.f)(e,t)}}this.layerFilter_=i,this.featureLayerAssociation_={};const d=this.featureOverlay_.getSource().getFeaturesCollection();Object(l.a)(d,n.a.ADD,this.addFeature_,this),Object(l.a)(d,n.a.REMOVE,this.removeFeature_,this)};Object(i.g)(E,c.a),E.prototype.addFeatureLayerAssociation_=function(e,t){const o=Object(i.f)(e);this.featureLayerAssociation_[o]=t},E.prototype.getFeatures=function(){return this.featureOverlay_.getSource().getFeaturesCollection()},E.prototype.getHitTolerance=function(){return this.hitTolerance_},E.prototype.getLayer=function(e){const t=Object(i.f)(e);return this.featureLayerAssociation_[t]},E.prototype.setHitTolerance=function(e){this.hitTolerance_=e},E.prototype.setMap=function(e){const t=this.getMap(),o=this.featureOverlay_.getSource().getFeaturesCollection();t&&o.forEach(t.unskipFeature.bind(t)),c.a.prototype.setMap.call(this,e),this.featureOverlay_.setMap(e),e&&o.forEach(e.skipFeature.bind(e))},E.prototype.addFeature_=function(e){const t=this.getMap();t&&t.skipFeature(e.element)},E.prototype.removeFeature_=function(e){const t=this.getMap();t&&t.unskipFeature(e.element)},E.prototype.removeFeatureLayerAssociation_=function(e){const t=Object(i.f)(e);delete this.featureLayerAssociation_[t]},t.a=E},function(e,t,o){"use strict";var a=o(0),r=o(168),i=o(59);const n=function(e,t,o,a,n){this.loader_=n===void 0?null:n;const s=n===void 0?i.a.LOADED:i.a.IDLE;r.a.call(this,e,t,o,s),this.canvas_=a,this.error_=null};Object(a.g)(n,r.a),n.prototype.getError=function(){return this.error_},n.prototype.handleLoad_=function(e){e?(this.error_=e,this.state=i.a.ERROR):this.state=i.a.LOADED,this.changed()},n.prototype.load=function(){this.state==i.a.IDLE&&(this.state=i.a.LOADING,this.changed(),this.loader_(this.handleLoad_.bind(this)))},n.prototype.getImage=function(){return this.canvas_},t.a=n},function(e,t,o){"use strict";var a=o(0),r=o(79),i=o(11);const n=function(e,t,o,a){r.a.call(this),this.extent=e,this.pixelRatio_=o,this.resolution=t,this.state=a};Object(a.g)(n,r.a),n.prototype.changed=function(){this.dispatchEvent(i.a.CHANGE)},n.prototype.getExtent=function(){return this.extent},n.prototype.getImage=function(){},n.prototype.getPixelRatio=function(){return this.pixelRatio_},n.prototype.getResolution=function(){return this.resolution},n.prototype.getState=function(){return this.state},n.prototype.load=function(){},t.a=n},function(e,t,o){"use strict";var a=Math.round,r=o(0),i=o(13),n=o(112),s=o(3),l=o(22),d=o(44),p=o(63),g=o(37),_=o(137),c=o(67),u=o(27);const y=function(e,t,o,a,r){_.a.call(this),this.context_=e,this.pixelRatio_=t,this.extent_=o,this.transform_=a,this.viewRotation_=r,this.contextFillState_=null,this.contextStrokeState_=null,this.contextTextState_=null,this.fillState_=null,this.strokeState_=null,this.image_=null,this.imageAnchorX_=0,this.imageAnchorY_=0,this.imageHeight_=0,this.imageOpacity_=0,this.imageOriginX_=0,this.imageOriginY_=0,this.imageRotateWithView_=!1,this.imageRotation_=0,this.imageScale_=0,this.imageSnapToPixel_=!1,this.imageWidth_=0,this.text_="",this.textOffsetX_=0,this.textOffsetY_=0,this.textRotateWithView_=!1,this.textRotation_=0,this.textScale_=0,this.textFillState_=null,this.textStrokeState_=null,this.textState_=null,this.pixelCoordinates_=[],this.tmpLocalTransform_=Object(u.c)()};Object(r.g)(y,_.a),y.prototype.drawImages_=function(e,t,o){if(!this.image_)return;const r=Object(p.c)(e,t,o,2,this.transform_,this.pixelCoordinates_),n=this.context_,i=this.tmpLocalTransform_,s=n.globalAlpha;1!=this.imageOpacity_&&(n.globalAlpha=s*this.imageOpacity_);let l=this.imageRotation_;this.imageRotateWithView_&&(l+=this.viewRotation_);for(let s=0,d=r.length;s<d;s+=2){let e=r[s]-this.imageAnchorX_,t=r[s+1]-this.imageAnchorY_;if(this.imageSnapToPixel_&&(e=a(e),t=a(t)),0!==l||1!=this.imageScale_){const o=e+this.imageAnchorX_,a=t+this.imageAnchorY_;Object(u.b)(i,o,a,this.imageScale_,this.imageScale_,l,-o,-a),n.setTransform.apply(n,i)}n.drawImage(this.image_,this.imageOriginX_,this.imageOriginY_,this.imageWidth_,this.imageHeight_,e,t,this.imageWidth_,this.imageHeight_)}(0!==l||1!=this.imageScale_)&&n.setTransform(1,0,0,1,0,0),1!=this.imageOpacity_&&(n.globalAlpha=s)},y.prototype.drawText_=function(e,t,o,a){if(!this.textState_||""===this.text_)return;this.textFillState_&&this.setContextFillState_(this.textFillState_),this.textStrokeState_&&this.setContextStrokeState_(this.textStrokeState_),this.setContextTextState_(this.textState_);const r=Object(p.c)(e,t,o,a,this.transform_,this.pixelCoordinates_),i=this.context_;let n=this.textRotation_;for(this.textRotateWithView_&&(n+=this.viewRotation_);t<o;t+=a){const e=r[t]+this.textOffsetX_,o=r[t+1]+this.textOffsetY_;if(0!==n||1!=this.textScale_){const t=Object(u.b)(this.tmpLocalTransform_,e,o,this.textScale_,this.textScale_,n,-e,-o);i.setTransform.apply(i,t)}this.textStrokeState_&&i.strokeText(this.text_,e,o),this.textFillState_&&i.fillText(this.text_,e,o)}(0!==n||1!=this.textScale_)&&i.setTransform(1,0,0,1,0,0)},y.prototype.moveToLineTo_=function(e,t,o,a,r){const n=this.context_,s=Object(p.c)(e,t,o,a,this.transform_,this.pixelCoordinates_);n.moveTo(s[0],s[1]);let l=s.length;r&&(l-=2);for(let d=2;d<l;d+=2)n.lineTo(s[d],s[d+1]);return r&&n.closePath(),o},y.prototype.drawRings_=function(e,t,o,a){for(let r=0,i=o.length;r<i;++r)t=this.moveToLineTo_(e,t,o[r],a,!0);return t},y.prototype.drawCircle=function(e){if(Object(s.F)(this.extent_,e.getExtent())){if(this.fillState_||this.strokeState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);const t=Object(d.c)(e,this.transform_,this.pixelCoordinates_),o=t[2]-t[0],a=t[3]-t[1],r=Math.sqrt(o*o+a*a),i=this.context_;i.beginPath(),i.arc(t[0],t[1],r,0,2*Math.PI),this.fillState_&&i.fill(),this.strokeState_&&i.stroke()}""!==this.text_&&this.drawText_(e.getCenter(),0,2,2)}},y.prototype.setStyle=function(e){this.setFillStrokeStyle(e.getFill(),e.getStroke()),this.setImageStyle(e.getImage()),this.setTextStyle(e.getText())},y.prototype.drawGeometry=function(e){const t=e.getType();switch(t){case l.a.POINT:this.drawPoint(e);break;case l.a.LINE_STRING:this.drawLineString(e);break;case l.a.POLYGON:this.drawPolygon(e);break;case l.a.MULTI_POINT:this.drawMultiPoint(e);break;case l.a.MULTI_LINE_STRING:this.drawMultiLineString(e);break;case l.a.MULTI_POLYGON:this.drawMultiPolygon(e);break;case l.a.GEOMETRY_COLLECTION:this.drawGeometryCollection(e);break;case l.a.CIRCLE:this.drawCircle(e);break;default:}},y.prototype.drawFeature=function(e,t){const o=t.getGeometryFunction()(e);o&&Object(s.F)(this.extent_,o.getExtent())&&(this.setStyle(t),this.drawGeometry(o))},y.prototype.drawGeometryCollection=function(e){const t=e.getGeometriesArray();for(let o=0,a=t.length;o<a;++o)this.drawGeometry(t[o])},y.prototype.drawPoint=function(e){const t=e.getFlatCoordinates(),o=e.getStride();this.image_&&this.drawImages_(t,0,t.length,o),""!==this.text_&&this.drawText_(t,0,t.length,o)},y.prototype.drawMultiPoint=function(e){const t=e.getFlatCoordinates(),o=e.getStride();this.image_&&this.drawImages_(t,0,t.length,o),""!==this.text_&&this.drawText_(t,0,t.length,o)},y.prototype.drawLineString=function(e){if(Object(s.F)(this.extent_,e.getExtent())){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);const t=this.context_,o=e.getFlatCoordinates();t.beginPath(),this.moveToLineTo_(o,0,o.length,e.getStride(),!1),t.stroke()}if(""!==this.text_){const t=e.getFlatMidpoint();this.drawText_(t,0,2,2)}}},y.prototype.drawMultiLineString=function(e){const t=e.getExtent();if(Object(s.F)(this.extent_,t)){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);const t=this.context_,o=e.getFlatCoordinates();let a=0;const r=e.getEnds(),n=e.getStride();t.beginPath();for(let e=0,t=r.length;e<t;++e)a=this.moveToLineTo_(o,a,r[e],n,!1);t.stroke()}if(""!==this.text_){const t=e.getFlatMidpoints();this.drawText_(t,0,t.length,2)}}},y.prototype.drawPolygon=function(e){if(Object(s.F)(this.extent_,e.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);const t=this.context_;t.beginPath(),this.drawRings_(e.getOrientedFlatCoordinates(),0,e.getEnds(),e.getStride()),this.fillState_&&t.fill(),this.strokeState_&&t.stroke()}if(""!==this.text_){const t=e.getFlatInteriorPoint();this.drawText_(t,0,2,2)}}},y.prototype.drawMultiPolygon=function(e){if(Object(s.F)(this.extent_,e.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);const t=this.context_,o=e.getOrientedFlatCoordinates();let a=0;const r=e.getEndss(),n=e.getStride();t.beginPath();for(let e=0,t=r.length;e<t;++e){const t=r[e];a=this.drawRings_(o,a,t,n)}this.fillState_&&t.fill(),this.strokeState_&&t.stroke()}if(""!==this.text_){const t=e.getFlatInteriorPoints();this.drawText_(t,0,t.length,2)}}},y.prototype.setContextFillState_=function(e){const t=this.context_,o=this.contextFillState_;o?o.fillStyle!=e.fillStyle&&(o.fillStyle=t.fillStyle=e.fillStyle):(t.fillStyle=e.fillStyle,this.contextFillState_={fillStyle:e.fillStyle})},y.prototype.setContextStrokeState_=function(e){const t=this.context_,o=this.contextStrokeState_;o?(o.lineCap!=e.lineCap&&(o.lineCap=t.lineCap=e.lineCap),g.a&&(!Object(i.b)(o.lineDash,e.lineDash)&&t.setLineDash(o.lineDash=e.lineDash),o.lineDashOffset!=e.lineDashOffset&&(o.lineDashOffset=t.lineDashOffset=e.lineDashOffset)),o.lineJoin!=e.lineJoin&&(o.lineJoin=t.lineJoin=e.lineJoin),o.lineWidth!=e.lineWidth&&(o.lineWidth=t.lineWidth=e.lineWidth),o.miterLimit!=e.miterLimit&&(o.miterLimit=t.miterLimit=e.miterLimit),o.strokeStyle!=e.strokeStyle&&(o.strokeStyle=t.strokeStyle=e.strokeStyle)):(t.lineCap=e.lineCap,g.a&&(t.setLineDash(e.lineDash),t.lineDashOffset=e.lineDashOffset),t.lineJoin=e.lineJoin,t.lineWidth=e.lineWidth,t.miterLimit=e.miterLimit,t.strokeStyle=e.strokeStyle,this.contextStrokeState_={lineCap:e.lineCap,lineDash:e.lineDash,lineDashOffset:e.lineDashOffset,lineJoin:e.lineJoin,lineWidth:e.lineWidth,miterLimit:e.miterLimit,strokeStyle:e.strokeStyle})},y.prototype.setContextTextState_=function(e){const t=this.context_,o=this.contextTextState_,a=e.textAlign?e.textAlign:c.l;o?(o.font!=e.font&&(o.font=t.font=e.font),o.textAlign!=a&&(o.textAlign=a),o.textBaseline!=e.textBaseline&&(o.textBaseline=t.textBaseline=e.textBaseline)):(t.font=e.font,t.textAlign=a,t.textBaseline=e.textBaseline,this.contextTextState_={font:e.font,textAlign:a,textBaseline:e.textBaseline})},y.prototype.setFillStrokeStyle=function(e,t){if(!e)this.fillState_=null;else{const t=e.getColor();this.fillState_={fillStyle:Object(n.a)(t?t:c.b)}}if(!t)this.strokeState_=null;else{const e=t.getColor(),o=t.getLineCap(),a=t.getLineDash(),r=t.getLineDashOffset(),i=t.getLineJoin(),s=t.getWidth(),l=t.getMiterLimit();this.strokeState_={lineCap:void 0===o?c.d:o,lineDash:a?a:c.e,lineDashOffset:r?r:c.f,lineJoin:void 0===i?c.g:i,lineWidth:this.pixelRatio_*(void 0===s?c.h:s),miterLimit:void 0===l?c.i:l,strokeStyle:Object(n.a)(e?e:c.k)}}},y.prototype.setImageStyle=function(e){if(!e)this.image_=null;else{const t=e.getAnchor(),o=e.getImage(1),a=e.getOrigin(),r=e.getSize();this.imageAnchorX_=t[0],this.imageAnchorY_=t[1],this.imageHeight_=r[1],this.image_=o,this.imageOpacity_=e.getOpacity(),this.imageOriginX_=a[0],this.imageOriginY_=a[1],this.imageRotateWithView_=e.getRotateWithView(),this.imageRotation_=e.getRotation(),this.imageScale_=e.getScale()*this.pixelRatio_,this.imageSnapToPixel_=e.getSnapToPixel(),this.imageWidth_=r[0]}},y.prototype.setTextStyle=function(e){if(!e)this.text_="";else{const t=e.getFill();if(!t)this.textFillState_=null;else{const e=t.getColor();this.textFillState_={fillStyle:Object(n.a)(e?e:c.b)}}const o=e.getStroke();if(!o)this.textStrokeState_=null;else{const e=o.getColor(),t=o.getLineCap(),a=o.getLineDash(),r=o.getLineDashOffset(),i=o.getLineJoin(),s=o.getWidth(),l=o.getMiterLimit();this.textStrokeState_={lineCap:t===void 0?c.d:t,lineDash:a?a:c.e,lineDashOffset:r?r:c.f,lineJoin:i===void 0?c.g:i,lineWidth:s===void 0?c.h:s,miterLimit:l===void 0?c.i:l,strokeStyle:Object(n.a)(e?e:c.k)}}const a=e.getFont(),r=e.getOffsetX(),i=e.getOffsetY(),s=e.getRotateWithView(),l=e.getRotation(),d=e.getScale(),p=e.getText(),g=e.getTextAlign(),_=e.getTextBaseline();this.textState_={font:a===void 0?c.c:a,textAlign:g===void 0?c.l:g,textBaseline:_===void 0?c.m:_},this.text_=p===void 0?"":p,this.textOffsetX_=r===void 0?0:this.pixelRatio_*r,this.textOffsetY_=i===void 0?0:this.pixelRatio_*i,this.textRotateWithView_=s!==void 0&&s,this.textRotation_=l===void 0?0:l,this.textScale_=this.pixelRatio_*(d===void 0?1:d)}},t.a=y},function(e,t,o){"use strict";var a=Math.round,r=o(0),i=o(55),n=o(171),s=o(35),l=o(40),d=o(23),p=o(3),g=o(234),_=o(27);const c=function(e){g.a.call(this,e),this.context=null===this.context?null:Object(d.a)(),this.oversampling_,this.renderedExtent_=null,this.renderedRevision,this.renderedTiles=[],this.tmpExtent=Object(p.j)(),this.tmpTileRange_=new n.b(0,0,0,0),this.imageTransform_=Object(_.c)(),this.zDirection=0};Object(r.g)(c,g.a),c.handles=function(e){return e.getType()===i.a.TILE},c.create=function(e,t){return new c(t)},c.prototype.isDrawableTile_=function(e){const t=e.getState(),o=this.getLayer().getUseInterimTilesOnError();return t==s.a.LOADED||t==s.a.EMPTY||t==s.a.ERROR&&!o},c.prototype.prepareFrame=function(e,t){const o=e.pixelRatio,i=e.size,n=e.viewState,d=n.projection,g=n.resolution,c=n.center,u=this.getLayer(),m=u.getSource(),f=m.getRevision(),E=m.getTileGridForProjection(d),C=E.getZForResolution(g,this.zDirection),T=E.getResolution(C);let S=a(g/T)||1,h=e.extent;if(void 0!==t.extent&&(h=Object(p.B)(h,t.extent)),Object(p.H)(h))return!1;const R=E.getTileRangeForExtentAndZ(h,C),I=E.getTileRangeExtent(C,R),b=m.getTilePixelRatio(o),v={};v[C]={};const L=this.createLoadedTileFinder(m,d,v),P=this.tmpExtent,F=this.tmpTileRange_;let O=!1,N,A,x;for(A=R.minX;A<=R.maxX;++A)for(x=R.minY;x<=R.maxY;++x){if(N=m.getTile(C,A,x,o,d),N.getState()==s.a.ERROR&&(u.getUseInterimTilesOnError()?0<u.getPreload()&&(O=!0):N.setState(s.a.LOADED)),this.isDrawableTile_(N)||(N=N.getInterimTile()),this.isDrawableTile_(N)){const t=Object(r.f)(this);if(N.getState()==s.a.LOADED){v[C][N.tileCoord.toString()]=N;const e=N.inTransition(t);!O&&(e||-1===this.renderedTiles.indexOf(N))&&(O=!0)}if(1===N.getAlpha(t,e.time))continue}const t=E.getTileCoordChildTileRange(N.tileCoord,F,P);let a=!1;t&&(a=L(C+1,t)),a||E.forEachTileCoordParentTileRange(N.tileCoord,L,null,F,P)}const y=T*o/b*S,w=e.viewHints,M=w[l.a.ANIMATING]||w[l.a.INTERACTING];if(!(this.renderedResolution&&16<Date.now()-e.time&&M)&&(O||!(this.renderedExtent_&&Object(p.g)(this.renderedExtent_,h))||this.renderedRevision!=f||S!=this.oversampling_||!M&&y!=this.renderedResolution)){const r=this.context;if(r){const e=m.getTilePixelSize(C,o,d),t=a(R.getWidth()*e[0]/S),i=a(R.getHeight()*e[1]/S),n=r.canvas;n.width!=t||n.height!=i?(this.oversampling_=S,n.width=t,n.height=i):(this.renderedExtent_&&!Object(p.p)(I,this.renderedExtent_)&&r.clearRect(0,0,t,i),S=this.oversampling_)}this.renderedTiles.length=0;const n=Object.keys(v).map(Number);n.sort(function(e,t){return e===C?1:t===C?-1:e>t?1:e<t?-1:0});let s,l,g,_,c,i,u,y,L,F,O;for(c=0,i=n.length;c<i;++c)for(const a in _=n[c],g=m.getTilePixelSize(_,o,d),s=E.getResolution(_),l=s/T,y=b*m.getGutter(d),L=v[_],L)N=L[a],u=E.getTileCoordExtent(N.getTileCoord(),P),A=(u[0]-I[0])/T*b/S,x=(I[3]-u[3])/T*b/S,F=g[0]*l/S,O=g[1]*l/S,this.drawTileImage(N,e,t,A,x,F,O,y,C===_),this.renderedTiles.push(N);this.renderedRevision=f,this.renderedResolution=T*o/b*S,this.renderedExtent_=I}const G=this.renderedResolution/g,D=Object(_.b)(this.imageTransform_,o*i[0]/2,o*i[1]/2,G,G,0,(this.renderedExtent_[0]-c[0])/this.renderedResolution*o,(c[1]-this.renderedExtent_[3])/this.renderedResolution*o);return Object(_.b)(this.coordinateToCanvasPixelTransform,o*i[0]/2-D[4],o*i[1]/2-D[5],o/g,-o/g,0,-c[0],-c[1]),this.updateUsedTiles(e.usedTiles,m,C,R),this.manageTilePyramid(e,m,E,o,d,h,C,u.getPreload()),this.scheduleExpireCache(e,m),0<this.renderedTiles.length},c.prototype.drawTileImage=function(e,t,o,a,i,n,s,l,d){const p=e.getImage(this.getLayer());if(p){const o=Object(r.f)(this),g=d?e.getAlpha(o,t.time):1;1!==g||this.getLayer().getSource().getOpaque(t.viewState.projection)||this.context.clearRect(a,i,n,s);const _=g!==this.context.globalAlpha;_&&(this.context.save(),this.context.globalAlpha=g),this.context.drawImage(p,l,l,p.width-2*l,p.height-2*l,a,i,n,s),_&&this.context.restore(),1===g?d&&e.endTransition(o):t.animate=!0}},c.prototype.getImage=function(){const e=this.context;return e?e.canvas:null},c.prototype.getLayer,c.prototype.getImageTransform=function(){return this.imageTransform_},t.a=c},function(e,t){"use strict";t.a=function(e,t,a,r,i){return void 0===i?new o(e,t,a,r):(i.minX=e,i.maxX=t,i.minY=a,i.maxY=r,i)};const o=function(e,t,o,a){this.minX=e,this.maxX=t,this.minY=o,this.maxY=a};o.prototype.contains=function(e){return this.containsXY(e[1],e[2])},o.prototype.containsTileRange=function(e){return this.minX<=e.minX&&e.maxX<=this.maxX&&this.minY<=e.minY&&e.maxY<=this.maxY},o.prototype.containsXY=function(e,t){return this.minX<=e&&e<=this.maxX&&this.minY<=t&&t<=this.maxY},o.prototype.equals=function(e){return this.minX==e.minX&&this.minY==e.minY&&this.maxX==e.maxX&&this.maxY==e.maxY},o.prototype.extend=function(e){e.minX<this.minX&&(this.minX=e.minX),e.maxX>this.maxX&&(this.maxX=e.maxX),e.minY<this.minY&&(this.minY=e.minY),e.maxY>this.maxY&&(this.maxY=e.maxY)},o.prototype.getHeight=function(){return this.maxY-this.minY+1},o.prototype.getSize=function(){return[this.getWidth(),this.getHeight()]},o.prototype.getWidth=function(){return this.maxX-this.minX+1},o.prototype.intersects=function(e){return this.minX<=e.maxX&&this.maxX>=e.minX&&this.minY<=e.maxY&&this.maxY>=e.minY},t.b=o},function(e,t,o){"use strict";function a(e,t){return p*e/t}function r(e,t,o,a){const r=o.getGeometryFunction()(t);if(r){const i=r.getSimplifiedGeometry(a),s=o.getRenderer();if(s)n(e,i,o,t);else{const a=g[i.getType()];a(e,i,o,t)}}}function n(e,t,o,a){if(t.getType()==l.a.GEOMETRY_COLLECTION){const r=t.getGeometries();for(let t=0,i=r.length;t<i;++t)n(e,r[t],o,a);return}const r=e.getReplay(o.getZIndex(),d.a.DEFAULT);r.drawCustom(t,a,o.getRenderer())}t.a=function(e,t){return Object(i.f)(e)-Object(i.f)(t)},t.b=function(e,t){const o=a(e,t);return o*o},t.c=a,t.d=function(e,t,o,a,i,n){let l=!1;const d=o.getImage();if(d){let e=d.getImageState();e==s.a.LOADED||e==s.a.ERROR?d.unlistenImageChange(i,n):(e==s.a.IDLE&&d.load(),e=d.getImageState(),d.listenImageChange(i,n),l=!0)}return r(e,t,o,a),l};var i=o(0),s=o(59),l=o(22),d=o(116);const p=.5,g={Point:function(e,t,o,a){const r=o.getImage();if(r){if(r.getImageState()!=s.a.LOADED)return;const i=e.getReplay(o.getZIndex(),d.a.IMAGE);i.setImageStyle(r,e.addDeclutter(!1)),i.drawPoint(t,a)}const i=o.getText();if(i){const n=e.getReplay(o.getZIndex(),d.a.TEXT);n.setTextStyle(i,e.addDeclutter(!!r)),n.drawText(t,a)}},LineString:function(e,t,o,a){const r=o.getStroke();if(r){const i=e.getReplay(o.getZIndex(),d.a.LINE_STRING);i.setFillStrokeStyle(null,r),i.drawLineString(t,a)}const i=o.getText();if(i){const r=e.getReplay(o.getZIndex(),d.a.TEXT);r.setTextStyle(i,e.addDeclutter(!1)),r.drawText(t,a)}},Polygon:function(e,t,o,a){const r=o.getFill(),i=o.getStroke();if(r||i){const n=e.getReplay(o.getZIndex(),d.a.POLYGON);n.setFillStrokeStyle(r,i),n.drawPolygon(t,a)}const n=o.getText();if(n){const r=e.getReplay(o.getZIndex(),d.a.TEXT);r.setTextStyle(n,e.addDeclutter(!1)),r.drawText(t,a)}},MultiPoint:function(e,t,o,a){const r=o.getImage();if(r){if(r.getImageState()!=s.a.LOADED)return;const i=e.getReplay(o.getZIndex(),d.a.IMAGE);i.setImageStyle(r,e.addDeclutter(!1)),i.drawMultiPoint(t,a)}const i=o.getText();if(i){const n=e.getReplay(o.getZIndex(),d.a.TEXT);n.setTextStyle(i,e.addDeclutter(!!r)),n.drawText(t,a)}},MultiLineString:function(e,t,o,a){const r=o.getStroke();if(r){const i=e.getReplay(o.getZIndex(),d.a.LINE_STRING);i.setFillStrokeStyle(null,r),i.drawMultiLineString(t,a)}const i=o.getText();if(i){const r=e.getReplay(o.getZIndex(),d.a.TEXT);r.setTextStyle(i,e.addDeclutter(!1)),r.drawText(t,a)}},MultiPolygon:function(e,t,o,a){const r=o.getFill(),i=o.getStroke();if(i||r){const n=e.getReplay(o.getZIndex(),d.a.POLYGON);n.setFillStrokeStyle(r,i),n.drawMultiPolygon(t,a)}const n=o.getText();if(n){const r=e.getReplay(o.getZIndex(),d.a.TEXT);r.setTextStyle(n,e.addDeclutter(!1)),r.drawText(t,a)}},GeometryCollection:function(e,t,o,a){const r=t.getGeometriesArray();let n,i;for(n=0,i=r.length;n<i;++n){const t=g[r[n].getType()];t(e,r[n],o,a)}},Circle:function(e,t,o,a){const r=o.getFill(),i=o.getStroke();if(r||i){const n=e.getReplay(o.getZIndex(),d.a.CIRCLE);n.setFillStrokeStyle(r,i),n.drawCircle(t,a)}const n=o.getText();if(n){const r=e.getReplay(o.getZIndex(),d.a.TEXT);r.setTextStyle(n,e.addDeclutter(!1)),r.drawText(t,a)}}}},function(e,t,o){"use strict";var a=o(0),r=o(35),i=o(93),n=o(119),s=o(325),l=o(49);const d=function(e){n.b.call(this,{attributions:e.attributions,cacheSize:e.cacheSize,extent:e.extent,opaque:e.opaque,projection:e.projection,state:e.state,tileGrid:e.tileGrid,tilePixelRatio:e.tilePixelRatio,wrapX:e.wrapX,transition:e.transition}),this.tileLoadFunction=e.tileLoadFunction,this.tileUrlFunction=this.fixedTileUrlFunction?this.fixedTileUrlFunction.bind(this):i.d,this.urls=null,e.urls?this.setUrls(e.urls):e.url&&this.setUrl(e.url),e.tileUrlFunction&&this.setTileUrlFunction(e.tileUrlFunction),this.tileLoadingKeys_={}};Object(a.g)(d,n.b),d.prototype.fixedTileUrlFunction,d.prototype.getTileLoadFunction=function(){return this.tileLoadFunction},d.prototype.getTileUrlFunction=function(){return this.tileUrlFunction},d.prototype.getUrls=function(){return this.urls},d.prototype.handleTileChange=function(e){const t=e.target,o=Object(a.f)(t),i=t.getState();let l;i==r.a.LOADING?(this.tileLoadingKeys_[o]=!0,l=s.a.TILELOADSTART):o in this.tileLoadingKeys_&&(delete this.tileLoadingKeys_[o],l=i==r.a.ERROR?s.a.TILELOADERROR:i==r.a.LOADED||i==r.a.ABORT?s.a.TILELOADEND:void 0),l!=void 0&&this.dispatchEvent(new n.a(l,t))},d.prototype.setTileLoadFunction=function(e){this.tileCache.clear(),this.tileLoadFunction=e,this.changed()},d.prototype.setTileUrlFunction=function(e,t){this.tileUrlFunction=e,this.tileCache.pruneExceptNewestZ(),"undefined"==typeof t?this.changed():this.setKey(t)},d.prototype.setUrl=function(e){const t=this.urls=Object(i.c)(e);this.setTileUrlFunction(this.fixedTileUrlFunction?this.fixedTileUrlFunction.bind(this):Object(i.a)(t,this.tileGrid),e)},d.prototype.setUrls=function(e){this.urls=e;const t=e.join("\n");this.setTileUrlFunction(this.fixedTileUrlFunction?this.fixedTileUrlFunction.bind(this):Object(i.a)(e,this.tileGrid),t)},d.prototype.useTile=function(e,t,o){const a=Object(l.d)(e,t,o);this.tileCache.containsKey(a)&&this.tileCache.get(a)},t.a=d},function(e,t,o){"use strict";var a=o(0),r=o(59),i=o(19),n=o(66),s=o(8),l=o(11),d=o(248),p=o(249),g=o(250),_=o(161);const c=function(e){const t=e||{};this.anchor_=t.anchor===void 0?[.5,.5]:t.anchor,this.normalizedAnchor_=null,this.anchorOrigin_=t.anchorOrigin===void 0?g.a.TOP_LEFT:t.anchorOrigin,this.anchorXUnits_=t.anchorXUnits===void 0?d.a.FRACTION:t.anchorXUnits,this.anchorYUnits_=t.anchorYUnits===void 0?d.a.FRACTION:t.anchorYUnits,this.crossOrigin_=t.crossOrigin===void 0?null:t.crossOrigin;const o=t.img===void 0?null:t.img,s=t.imgSize===void 0?null:t.imgSize;let l=t.src;Object(i.a)(!(l!==void 0&&o),4),Object(i.a)(!o||o&&s,5),(l===void 0||0===l.length)&&o&&(l=o.src||Object(a.f)(o).toString()),Object(i.a)(l!==void 0&&0<l.length,6);const c=t.src===void 0?r.a.LOADED:r.a.IDLE;this.color_=t.color===void 0?null:Object(n.a)(t.color),this.iconImage_=Object(p.a)(o,l,s,this.crossOrigin_,c,this.color_),this.offset_=t.offset===void 0?[0,0]:t.offset,this.offsetOrigin_=t.offsetOrigin===void 0?g.a.TOP_LEFT:t.offsetOrigin,this.origin_=null,this.size_=t.size===void 0?null:t.size;const u=t.opacity===void 0?1:t.opacity,y=t.rotateWithView!==void 0&&t.rotateWithView,m=t.rotation===void 0?0:t.rotation,h=t.scale===void 0?1:t.scale,f=!(t.snapToPixel!==void 0)||t.snapToPixel;_.a.call(this,{opacity:u,rotation:m,scale:h,snapToPixel:f,rotateWithView:y})};Object(a.g)(c,_.a),c.prototype.clone=function(){return new c({anchor:this.anchor_.slice(),anchorOrigin:this.anchorOrigin_,anchorXUnits:this.anchorXUnits_,anchorYUnits:this.anchorYUnits_,crossOrigin:this.crossOrigin_,color:this.color_&&this.color_.slice?this.color_.slice():this.color_||void 0,src:this.getSrc(),offset:this.offset_.slice(),offsetOrigin:this.offsetOrigin_,size:null===this.size_?void 0:this.size_.slice(),opacity:this.getOpacity(),scale:this.getScale(),snapToPixel:this.getSnapToPixel(),rotation:this.getRotation(),rotateWithView:this.getRotateWithView()})},c.prototype.getAnchor=function(){if(this.normalizedAnchor_)return this.normalizedAnchor_;let e=this.anchor_;const t=this.getSize();if(this.anchorXUnits_==d.a.FRACTION||this.anchorYUnits_==d.a.FRACTION){if(!t)return null;e=this.anchor_.slice(),this.anchorXUnits_==d.a.FRACTION&&(e[0]*=t[0]),this.anchorYUnits_==d.a.FRACTION&&(e[1]*=t[1])}if(this.anchorOrigin_!=g.a.TOP_LEFT){if(!t)return null;e===this.anchor_&&(e=this.anchor_.slice()),(this.anchorOrigin_==g.a.TOP_RIGHT||this.anchorOrigin_==g.a.BOTTOM_RIGHT)&&(e[0]=-e[0]+t[0]),(this.anchorOrigin_==g.a.BOTTOM_LEFT||this.anchorOrigin_==g.a.BOTTOM_RIGHT)&&(e[1]=-e[1]+t[1])}return this.normalizedAnchor_=e,this.normalizedAnchor_},c.prototype.getColor=function(){return this.color_},c.prototype.getImage=function(e){return this.iconImage_.getImage(e)},c.prototype.getImageSize=function(){return this.iconImage_.getSize()},c.prototype.getHitDetectionImageSize=function(){return this.getImageSize()},c.prototype.getImageState=function(){return this.iconImage_.getImageState()},c.prototype.getHitDetectionImage=function(e){return this.iconImage_.getHitDetectionImage(e)},c.prototype.getOrigin=function(){if(this.origin_)return this.origin_;let e=this.offset_;if(this.offsetOrigin_!=g.a.TOP_LEFT){const t=this.getSize(),o=this.iconImage_.getSize();if(!t||!o)return null;e=e.slice(),(this.offsetOrigin_==g.a.TOP_RIGHT||this.offsetOrigin_==g.a.BOTTOM_RIGHT)&&(e[0]=o[0]-t[0]-e[0]),(this.offsetOrigin_==g.a.BOTTOM_LEFT||this.offsetOrigin_==g.a.BOTTOM_RIGHT)&&(e[1]=o[1]-t[1]-e[1])}return this.origin_=e,this.origin_},c.prototype.getSrc=function(){return this.iconImage_.getSrc()},c.prototype.getSize=function(){return this.size_?this.size_:this.iconImage_.getSize()},c.prototype.listenImageChange=function(e,t){return Object(s.a)(this.iconImage_,l.a.CHANGE,e,t)},c.prototype.load=function(){this.iconImage_.load()},c.prototype.unlistenImageChange=function(e,t){Object(s.c)(this.iconImage_,l.a.CHANGE,e,t)},t.a=c},function(e,t,o){"use strict";t.a=function(e,t,o,r){function i(){delete window[s],n.parentNode.removeChild(n)}const n=document.createElement("script"),s="olc_"+Object(a.f)(t);n.async=!0,n.src=e+(-1==e.indexOf("?")?"?":"&")+(r||"callback")+"="+s;const l=setTimeout(function(){i(),o&&o()},1e4);window[s]=function(e){clearTimeout(l),i(),t(e)},document.getElementsByTagName("head")[0].appendChild(n)};var a=o(0)},function(e,t,o){"use strict";var a=o(0),r=o(139),i=o(59),n=o(23),s=o(8),l=o(11),d=o(3),p=o(4),g=o(82);const _=function(e){const t=e.imageExtent,o=e.crossOrigin===void 0?null:e.crossOrigin,a=e.imageLoadFunction===void 0?g.b:e.imageLoadFunction;g.a.call(this,{attributions:e.attributions,projection:Object(p.h)(e.projection)}),this.image_=new r.a(t,void 0,1,e.url,o,a),this.imageSize_=e.imageSize?e.imageSize:null,Object(s.a)(this.image_,l.a.CHANGE,this.handleImageChange,this)};Object(a.g)(_,g.a),_.prototype.getImageInternal=function(e){return Object(d.F)(e,this.image_.getExtent())?this.image_:null},_.prototype.handleImageChange=function(e){if(this.image_.getState()==i.a.LOADED){const e=this.image_.getExtent(),t=this.image_.getImage();let o,a;this.imageSize_?(o=this.imageSize_[0],a=this.imageSize_[1]):(o=t.width,a=t.height);const r=Object(d.A)(e)/a,i=Math.ceil(Object(d.E)(e)/r);if(i!=o){const e=Object(n.a)(i,a),r=e.canvas;e.drawImage(t,0,0,o,a,0,0,r.width,r.height),this.image_.setImage(r)}}g.a.prototype.handleImageChange.call(this,e)},t.a=_},function(e,t,o){"use strict";var a=o(113),r=o(241);const i=function(e){const t=e||{};this.font_=t.font,this.rotation_=t.rotation,this.rotateWithView_=t.rotateWithView,this.scale_=t.scale,this.text_=t.text,this.textAlign_=t.textAlign,this.textBaseline_=t.textBaseline,this.fill_=t.fill===void 0?new a.a({color:"#333"}):t.fill,this.maxAngle_=t.maxAngle===void 0?Math.PI/4:t.maxAngle,this.placement_=t.placement===void 0?r.a.POINT:t.placement,this.overflow_=!!t.overflow,this.stroke_=t.stroke===void 0?null:t.stroke,this.offsetX_=t.offsetX===void 0?0:t.offsetX,this.offsetY_=t.offsetY===void 0?0:t.offsetY,this.backgroundFill_=t.backgroundFill?t.backgroundFill:null,this.backgroundStroke_=t.backgroundStroke?t.backgroundStroke:null,this.padding_=t.padding===void 0?null:t.padding};i.prototype.clone=function(){return new i({font:this.getFont(),placement:this.getPlacement(),maxAngle:this.getMaxAngle(),overflow:this.getOverflow(),rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),scale:this.getScale(),text:this.getText(),textAlign:this.getTextAlign(),textBaseline:this.getTextBaseline(),fill:this.getFill()?this.getFill().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,offsetX:this.getOffsetX(),offsetY:this.getOffsetY(),backgroundFill:this.getBackgroundFill()?this.getBackgroundFill().clone():void 0,backgroundStroke:this.getBackgroundStroke()?this.getBackgroundStroke().clone():void 0})},i.prototype.getOverflow=function(){return this.overflow_},i.prototype.getFont=function(){return this.font_},i.prototype.getMaxAngle=function(){return this.maxAngle_},i.prototype.getPlacement=function(){return this.placement_},i.prototype.getOffsetX=function(){return this.offsetX_},i.prototype.getOffsetY=function(){return this.offsetY_},i.prototype.getFill=function(){return this.fill_},i.prototype.getRotateWithView=function(){return this.rotateWithView_},i.prototype.getRotation=function(){return this.rotation_},i.prototype.getScale=function(){return this.scale_},i.prototype.getStroke=function(){return this.stroke_},i.prototype.getText=function(){return this.text_},i.prototype.getTextAlign=function(){return this.textAlign_},i.prototype.getTextBaseline=function(){return this.textBaseline_},i.prototype.getBackgroundFill=function(){return this.backgroundFill_},i.prototype.getBackgroundStroke=function(){return this.backgroundStroke_},i.prototype.getPadding=function(){return this.padding_},i.prototype.setOverflow=function(e){this.overflow_=e},i.prototype.setFont=function(e){this.font_=e},i.prototype.setMaxAngle=function(e){this.maxAngle_=e},i.prototype.setOffsetX=function(e){this.offsetX_=e},i.prototype.setOffsetY=function(e){this.offsetY_=e},i.prototype.setPlacement=function(e){this.placement_=e},i.prototype.setFill=function(e){this.fill_=e},i.prototype.setRotation=function(e){this.rotation_=e},i.prototype.setScale=function(e){this.scale_=e},i.prototype.setStroke=function(e){this.stroke_=e},i.prototype.setText=function(e){this.text_=e},i.prototype.setTextAlign=function(e){this.textAlign_=e},i.prototype.setTextBaseline=function(e){this.textBaseline_=e},i.prototype.setBackgroundFill=function(e){this.backgroundFill_=e},i.prototype.setBackgroundStroke=function(e){this.backgroundStroke_=e},i.prototype.setPadding=function(e){this.padding_=e},t.a=i},function(e,t,o){"use strict";function a(e){if("string"==typeof e){const t=JSON.parse(e);return t?t:null}return null===e?null:e}var r=o(0),i=o(36),n=o(114);const s=function(){i.a.call(this)};Object(r.g)(s,i.a),s.prototype.getType=function(){return n.a.JSON},s.prototype.readFeature=function(e,t){return this.readFeatureFromObject(a(e),this.getReadOptions(e,t))},s.prototype.readFeatures=function(e,t){return this.readFeaturesFromObject(a(e),this.getReadOptions(e,t))},s.prototype.readFeatureFromObject=function(){},s.prototype.readFeaturesFromObject=function(){},s.prototype.readGeometry=function(e,t){return this.readGeometryFromObject(a(e),this.getReadOptions(e,t))},s.prototype.readGeometryFromObject=function(){},s.prototype.readProjection=function(e){return this.readProjectionFromObject(a(e))},s.prototype.readProjectionFromObject=function(){},s.prototype.writeFeature=function(e,t){return JSON.stringify(this.writeFeatureObject(e,t))},s.prototype.writeFeatureObject=function(){},s.prototype.writeFeatures=function(e,t){return JSON.stringify(this.writeFeaturesObject(e,t))},s.prototype.writeFeaturesObject=function(){},s.prototype.writeGeometry=function(e,t){return JSON.stringify(this.writeGeometryObject(e,t))},s.prototype.writeGeometryObject=function(){},t.a=s},function(e,t,o){"use strict";function a(e){const t=[];for(let o=0,a=e.length;o<a;++o)t.push(e[o].clone());return t}var r=o(0),n=o(8),s=o(11),l=o(3),i=o(72),d=o(22),p=o(10);const g=function(e){i.a.call(this),this.geometries_=e?e:null,this.listenGeometriesChange_()};Object(r.g)(g,i.a),g.prototype.unlistenGeometriesChange_=function(){if(this.geometries_)for(let e=0,t=this.geometries_.length;e<t;++e)Object(n.c)(this.geometries_[e],s.a.CHANGE,this.changed,this)},g.prototype.listenGeometriesChange_=function(){if(this.geometries_)for(let e=0,t=this.geometries_.length;e<t;++e)Object(n.a)(this.geometries_[e],s.a.CHANGE,this.changed,this)},g.prototype.clone=function(){const e=new g(null);return e.setGeometries(this.geometries_),e},g.prototype.closestPointXY=function(e,t,o,a){if(a<Object(l.e)(this.getExtent(),e,t))return a;const r=this.geometries_;for(let n=0,i=r.length;n<i;++n)a=r[n].closestPointXY(e,t,o,a);return a},g.prototype.containsXY=function(e,t){const o=this.geometries_;for(let a=0,r=o.length;a<r;++a)if(o[a].containsXY(e,t))return!0;return!1},g.prototype.computeExtent=function(e){Object(l.l)(e);const t=this.geometries_;for(let o=0,a=t.length;o<a;++o)Object(l.q)(e,t[o].getExtent());return e},g.prototype.getGeometries=function(){return a(this.geometries_)},g.prototype.getGeometriesArray=function(){return this.geometries_},g.prototype.getSimplifiedGeometry=function(e){if(this.simplifiedGeometryRevision!=this.getRevision()&&(Object(p.b)(this.simplifiedGeometryCache),this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=this.getRevision()),0>e||0!==this.simplifiedGeometryMaxMinSquaredTolerance&&e<this.simplifiedGeometryMaxMinSquaredTolerance)return this;const t=e.toString();if(this.simplifiedGeometryCache.hasOwnProperty(t))return this.simplifiedGeometryCache[t];else{const o=[],a=this.geometries_;let r=!1;for(let t=0,i=a.length;t<i;++t){const i=a[t],n=i.getSimplifiedGeometry(e);o.push(n),n!==i&&(r=!0)}if(r){const e=new g(null);return e.setGeometriesArray(o),this.simplifiedGeometryCache[t]=e,e}return this.simplifiedGeometryMaxMinSquaredTolerance=e,this}},g.prototype.getType=function(){return d.a.GEOMETRY_COLLECTION},g.prototype.intersectsExtent=function(e){const t=this.geometries_;for(let o=0,a=t.length;o<a;++o)if(t[o].intersectsExtent(e))return!0;return!1},g.prototype.isEmpty=function(){return 0===this.geometries_.length},g.prototype.rotate=function(e,t){const o=this.geometries_;for(let a=0,r=o.length;a<r;++a)o[a].rotate(e,t);this.changed()},g.prototype.scale=function(e,t,o){let a=o;a||(a=Object(l.x)(this.getExtent()));const r=this.geometries_;for(let n=0,i=r.length;n<i;++n)r[n].scale(e,t,a);this.changed()},g.prototype.setGeometries=function(e){this.setGeometriesArray(a(e))},g.prototype.setGeometriesArray=function(e){this.unlistenGeometriesChange_(),this.geometries_=e,this.listenGeometriesChange_(),this.changed()},g.prototype.applyTransform=function(e){const t=this.geometries_;for(let o=0,a=t.length;o<a;++o)t[o].applyTransform(e);this.changed()},g.prototype.translate=function(e,t){const o=this.geometries_;for(let a=0,r=o.length;a<r;++a)o[a].translate(e,t);this.changed()},g.prototype.disposeInternal=function(){this.unlistenGeometriesChange_(),i.a.prototype.disposeInternal.call(this)},t.a=g},function(e,t,o){"use strict";var a=o(181),r=o(26);o.d(t,"b",function(){return r.a});var i=o(360),n=o(259);o.d(t,"a",function(){return n.a});var s=o(260);o.d(t,"c",function(){return s.a});var l=o(85);o.d(t,"d",function(){return l.a});var d=o(120),p=o(261),g=o(262),_=o(186);o.d(t,"e",function(){return _.a});var c=o(365);o.d(t,"f",function(){return c.a});var u=o(188),y=o(266),m=o(267),h=o(123)},function(e,t,o){"use strict";function a(e,t){if(!e)return null;let o;if("number"==typeof e.x&&"number"==typeof e.y)o=y.a.POINT;else if(e.points)o=y.a.MULTI_POINT;else if(e.paths)o=1===e.paths.length?y.a.LINE_STRING:y.a.MULTI_LINE_STRING;else if(e.rings){const t=i(e),a=r(e.rings,t);e=Object(I.a)({},e),1===a.length?(o=y.a.POLYGON,e.rings=a[0]):(o=y.a.MULTI_POLYGON,e.rings=a)}const a=v[o];return Object(_.b)(a(e),!1,t)}function r(e,t){const o=[],a=[],r=[];let n,i;for(n=0,i=e.length;n<i;++n){o.length=0,Object(S.b)(o,0,e[n],t.length);const i=Object(R.a)(o,0,o.length,t.length);i?a.push([e[n]]):r.push(e[n])}for(;r.length;){const e=r.shift();let t=!1;for(n=a.length-1;0<=n;n--){const o=a[n][0],r=Object(g.g)(new h.a(o).getExtent(),new h.a(e).getExtent());if(r){a[n].push(e),t=!0;break}}t||a.push([e.reverse()])}return a}function i(e){let t=u.a.XY;return!0===e.hasZ&&!0===e.hasM?t=u.a.XYZM:!0===e.hasZ?t=u.a.XYZ:!0===e.hasM&&(t=u.a.XYM),t}function n(e){const t=e.getLayout();return{hasZ:t===u.a.XYZ||t===u.a.XYZM,hasM:t===u.a.XYM||t===u.a.XYZM}}function s(e,t){const o=L[e.getType()];return o(Object(_.b)(e,!0,t),t)}var l=o(0),d=o(15),p=o(19),g=o(3),_=o(36),c=o(178),u=o(30),y=o(22),m=o(28),h=o(156),f=o(53),x=o(54),E=o(60),C=o(21),T=o(29),S=o(64),R=o(88),I=o(10),b=o(4);const v={};v[y.a.POINT]=function(e){let t;return t=void 0!==e.m&&void 0!==e.z?new C.a([e.x,e.y,e.z,e.m],u.a.XYZM):void 0===e.z?void 0===e.m?new C.a([e.x,e.y]):new C.a([e.x,e.y,e.m],u.a.XYM):new C.a([e.x,e.y,e.z],u.a.XYZ),t},v[y.a.LINE_STRING]=function(e){const t=i(e);return new m.a(e.paths[0],t)},v[y.a.POLYGON]=function(e){const t=i(e);return new T.b(e.rings,t)},v[y.a.MULTI_POINT]=function(e){const t=i(e);return new x.a(e.points,t)},v[y.a.MULTI_LINE_STRING]=function(e){const t=i(e);return new f.a(e.paths,t)},v[y.a.MULTI_POLYGON]=function(e){const t=i(e);return new E.a(e.rings,t)};const L={};L[y.a.POINT]=function(e){const t=e.getCoordinates();let o;const a=e.getLayout();return a===u.a.XYZ?o={x:t[0],y:t[1],z:t[2]}:a===u.a.XYM?o={x:t[0],y:t[1],m:t[2]}:a===u.a.XYZM?o={x:t[0],y:t[1],z:t[2],m:t[3]}:a===u.a.XY?o={x:t[0],y:t[1]}:Object(p.a)(!1,34),o},L[y.a.LINE_STRING]=function(e){const t=n(e);return{hasZ:t.hasZ,hasM:t.hasM,paths:[e.getCoordinates()]}},L[y.a.POLYGON]=function(e){const t=n(e);return{hasZ:t.hasZ,hasM:t.hasM,rings:e.getCoordinates(!1)}},L[y.a.MULTI_POINT]=function(e){const t=n(e);return{hasZ:t.hasZ,hasM:t.hasM,points:e.getCoordinates()}},L[y.a.MULTI_LINE_STRING]=function(e){const t=n(e);return{hasZ:t.hasZ,hasM:t.hasM,paths:e.getCoordinates()}},L[y.a.MULTI_POLYGON]=function(e){const t=n(e),o=e.getCoordinates(!1),a=[];for(let t=0;t<o.length;t++)for(let e=o[t].length-1;0<=e;e--)a.push(o[t][e]);return{hasZ:t.hasZ,hasM:t.hasM,rings:a}};const P=function(e){const t=e?e:{};c.a.call(this),this.geometryName_=t.geometryName};Object(l.g)(P,c.a),P.prototype.readFeature,P.prototype.readFeatures,P.prototype.readFeatureFromObject=function(e,t){const o=e,r=a(o.geometry,t),i=new d.a;return this.geometryName_&&i.setGeometryName(this.geometryName_),i.setGeometry(r),t&&t.idField&&o.attributes[t.idField]&&i.setId(o.attributes[t.idField]),o.attributes&&i.setProperties(o.attributes),i},P.prototype.readFeaturesFromObject=function(e,t){const o=t?t:{};if(e.features){const t=[],a=e.features;o.idField=e.objectIdFieldName;for(let e=0,r=a.length;e<r;++e)t.push(this.readFeatureFromObject(a[e],o));return t}return[this.readFeatureFromObject(e,o)]},P.prototype.readGeometry,P.prototype.readGeometryFromObject=function(e,t){return a(e,t)},P.prototype.readProjection,P.prototype.readProjectionFromObject=function(e){const t=e;if(t.spatialReference&&t.spatialReference.wkid){const e=t.spatialReference.wkid;return Object(b.h)("EPSG:"+e)}return null},P.prototype.writeGeometry,P.prototype.writeGeometryObject=function(e,t){return s(e,this.adaptOptions(t))},P.prototype.writeFeature,P.prototype.writeFeatureObject=function(e,t){t=this.adaptOptions(t);const o={},a=e.getGeometry();a&&(o.geometry=s(a,t),t&&t.featureProjection&&(o.geometry.spatialReference={wkid:Object(b.h)(t.featureProjection).getCode().split(":").pop()}));const r=e.getProperties();return delete r[e.getGeometryName()],o.attributes=Object(I.d)(r)?{}:r,o},P.prototype.writeFeatures,P.prototype.writeFeaturesObject=function(e,t){t=this.adaptOptions(t);const o=[];for(let a=0,r=e.length;a<r;++a)o.push(this.writeFeatureObject(e[a],t));return{features:o}},t.a=P},function(e,t,o){"use strict";var a=o(0),r=o(13),i=o(15),n=o(36),s=o(98),l=o(30),d=o(28),p=o(156),g=o(53),_=o(54),c=o(60),u=o(21),y=o(29),m=o(10),h=o(4),f=o(43);const x="http://www.opengis.net/gml";t.a=x;const E=function(e){const t=e?e:{};this.featureType=t.featureType,this.featureNS=t.featureNS,this.srsName=t.srsName,this.schemaLocation="",this.FEATURE_COLLECTION_PARSERS={},this.FEATURE_COLLECTION_PARSERS[x]={featureMember:Object(f.o)(E.prototype.readFeaturesInternal),featureMembers:Object(f.o)(E.prototype.readFeaturesInternal)},s.a.call(this)};Object(a.g)(E,s.a);const C=/^[\s\xa0]*$/;E.prototype.readFeaturesInternal=function(e,t){const o=e.localName;let a=null;if("FeatureCollection"==o)a="http://www.opengis.net/wfs"===e.namespaceURI?Object(f.u)([],this.FEATURE_COLLECTION_PARSERS,e,t,this):Object(f.u)(null,this.FEATURE_COLLECTION_PARSERS,e,t,this);else if("featureMembers"==o||"featureMember"==o){const r=t[0];let i=r.featureType,n=r.featureNS;const s="p0";if(!i&&e.childNodes){i=[],n={};for(let t=0,o=e.childNodes.length;t<o;++t){const o=e.childNodes[t];if(1===o.nodeType){const e=o.nodeName.split(":").pop();if(-1===i.indexOf(e)){let t="",a=0;const r=o.namespaceURI;for(const e in n){if(n[e]===r){t=e;break}++a}t||(t="p"+a,n[t]=r),i.push(t+":"+e)}}}"featureMember"!=o&&(r.featureType=i,r.featureNS=n)}if("string"==typeof n){const e=n;n={},n[s]=e}const l={},d=Array.isArray(i)?i:[i];for(const e in n){const t={};for(let a=0,r=d.length;a<r;++a){const r=-1===d[a].indexOf(":")?s:d[a].split(":")[0];r===e&&(t[d[a].split(":").pop()]="featureMembers"==o?Object(f.j)(this.readFeatureElement,this):Object(f.o)(this.readFeatureElement,this))}l[n[e]]=t}a="featureMember"==o?Object(f.u)(void 0,l,e,t):Object(f.u)([],l,e,t)}return null===a&&(a=[]),a},E.prototype.readGeometryElement=function(e,t){const o=t[0];o.srsName=e.firstElementChild.getAttribute("srsName"),o.srsDimension=e.firstElementChild.getAttribute("srsDimension");const a=Object(f.u)(null,this.GEOMETRY_PARSERS_,e,t,this);return a?Object(n.b)(a,!1,o):void 0},E.prototype.readFeatureElement=function(e,t){let o;const a=e.getAttribute("fid")||Object(f.f)(e,x,"id"),r={};let n;for(o=e.firstElementChild;o;o=o.nextElementSibling){const e=o.localName;if(0===o.childNodes.length||1===o.childNodes.length&&(3===o.firstChild.nodeType||4===o.firstChild.nodeType)){let t=Object(f.e)(o,!1);C.test(t)&&(t=void 0),r[e]=t}else"boundedBy"!==e&&(n=e),r[e]=this.readGeometryElement(o,t)}const s=new i.a(r);return n&&s.setGeometryName(n),a&&s.setId(a),s},E.prototype.readPoint=function(e,t){const o=this.readFlatCoordinatesFromNode_(e,t);if(o){const e=new u.a(null);return e.setFlatCoordinates(l.a.XYZ,o),e}},E.prototype.readMultiPoint=function(e,t){const o=Object(f.u)([],this.MULTIPOINT_PARSERS_,e,t,this);return o?new _.a(o):void 0},E.prototype.readMultiLineString=function(e,t){const o=Object(f.u)([],this.MULTILINESTRING_PARSERS_,e,t,this);if(o){const e=new g.a(null);return e.setLineStrings(o),e}},E.prototype.readMultiPolygon=function(e,t){const o=Object(f.u)([],this.MULTIPOLYGON_PARSERS_,e,t,this);if(o){const e=new c.a(null);return e.setPolygons(o),e}},E.prototype.pointMemberParser_=function(e,t){Object(f.t)(this.POINTMEMBER_PARSERS_,e,t,this)},E.prototype.lineStringMemberParser_=function(e,t){Object(f.t)(this.LINESTRINGMEMBER_PARSERS_,e,t,this)},E.prototype.polygonMemberParser_=function(e,t){Object(f.t)(this.POLYGONMEMBER_PARSERS_,e,t,this)},E.prototype.readLineString=function(e,t){const o=this.readFlatCoordinatesFromNode_(e,t);if(o){const e=new d.a(null);return e.setFlatCoordinates(l.a.XYZ,o),e}},E.prototype.readFlatLinearRing_=function(e,t){const o=Object(f.u)(null,this.GEOMETRY_FLAT_COORDINATES_PARSERS_,e,t,this);return o?o:void 0},E.prototype.readLinearRing=function(e,t){const o=this.readFlatCoordinatesFromNode_(e,t);if(o){const e=new p.a(null);return e.setFlatCoordinates(l.a.XYZ,o),e}},E.prototype.readPolygon=function(e,t){const o=Object(f.u)([null],this.FLAT_LINEAR_RINGS_PARSERS_,e,t,this);if(o&&o[0]){const e=new y.b(null),t=o[0],a=[t.length];let n,i;for(n=1,i=o.length;n<i;++n)Object(r.c)(t,o[n]),a.push(t.length);return e.setFlatCoordinates(l.a.XYZ,t,a),e}},E.prototype.readFlatCoordinatesFromNode_=function(e,t){return Object(f.u)(null,this.GEOMETRY_FLAT_COORDINATES_PARSERS_,e,t,this)},E.prototype.MULTIPOINT_PARSERS_={"http://www.opengis.net/gml":{pointMember:Object(f.j)(E.prototype.pointMemberParser_),pointMembers:Object(f.j)(E.prototype.pointMemberParser_)}},E.prototype.MULTILINESTRING_PARSERS_={"http://www.opengis.net/gml":{lineStringMember:Object(f.j)(E.prototype.lineStringMemberParser_),lineStringMembers:Object(f.j)(E.prototype.lineStringMemberParser_)}},E.prototype.MULTIPOLYGON_PARSERS_={"http://www.opengis.net/gml":{polygonMember:Object(f.j)(E.prototype.polygonMemberParser_),polygonMembers:Object(f.j)(E.prototype.polygonMemberParser_)}},E.prototype.POINTMEMBER_PARSERS_={"http://www.opengis.net/gml":{Point:Object(f.j)(E.prototype.readFlatCoordinatesFromNode_)}},E.prototype.LINESTRINGMEMBER_PARSERS_={"http://www.opengis.net/gml":{LineString:Object(f.j)(E.prototype.readLineString)}},E.prototype.POLYGONMEMBER_PARSERS_={"http://www.opengis.net/gml":{Polygon:Object(f.j)(E.prototype.readPolygon)}},E.prototype.RING_PARSERS={"http://www.opengis.net/gml":{LinearRing:Object(f.o)(E.prototype.readFlatLinearRing_)}},E.prototype.readGeometryFromNode=function(e,t){const o=this.readGeometryElement(e,[this.getReadOptions(e,t?t:{})]);return o?o:null},E.prototype.readFeatures,E.prototype.readFeaturesFromNode=function(e,t){const o={featureType:this.featureType,featureNS:this.featureNS};t&&Object(m.a)(o,this.getReadOptions(e,t));const a=this.readFeaturesInternal(e,[o]);return a||[]},E.prototype.readProjectionFromNode=function(e){return Object(h.h)(this.srsName?this.srsName:e.firstElementChild.getAttribute("srsName"))},t.b=E},function(e,t,o){"use strict";function a(e){return"string"==typeof e?e:""}var r=o(0),i=o(36),n=o(114);const s=function(){i.a.call(this)};Object(r.g)(s,i.a),s.prototype.getType=function(){return n.a.TEXT},s.prototype.readFeature=function(e,t){return this.readFeatureFromText(a(e),this.adaptOptions(t))},s.prototype.readFeatureFromText=function(){},s.prototype.readFeatures=function(e,t){return this.readFeaturesFromText(a(e),this.adaptOptions(t))},s.prototype.readFeaturesFromText=function(){},s.prototype.readGeometry=function(e,t){return this.readGeometryFromText(a(e),this.adaptOptions(t))},s.prototype.readGeometryFromText=function(){},s.prototype.readProjection=function(e){return this.readProjectionFromText(a(e))},s.prototype.readProjectionFromText=function(){return this.defaultDataProjection},s.prototype.writeFeature=function(e,t){return this.writeFeatureText(e,this.adaptOptions(t))},s.prototype.writeFeatureText=function(){},s.prototype.writeFeatures=function(e,t){return this.writeFeaturesText(e,this.adaptOptions(t))},s.prototype.writeFeaturesText=function(){},s.prototype.writeGeometry=function(e,t){return this.writeGeometryText(e,this.adaptOptions(t))},s.prototype.writeGeometryText=function(){},t.a=s},function(e,t){"use strict";t.a=function(e){return e.getAttributeNS(o,"href")};const o="http://www.w3.org/1999/xlink"},function(e,t,o){"use strict";var a=o(43);const r=function(){};r.prototype.read=function(e){if(Object(a.g)(e))return this.readFromDocument(e);if(Object(a.h)(e))return this.readFromNode(e);if("string"==typeof e){const t=Object(a.s)(e);return this.readFromDocument(t)}return null},r.prototype.readFromDocument=function(){},r.prototype.readFromNode=function(){},t.a=r},function(e,t,o){"use strict";function a(e,t){const o=[];let a,r;for(let n=0,i=e.length;n<i;++n)a=e[n],0<n&&o.pop(),r=0<=a?t[a]:t[~a].slice().reverse(),o.push.apply(o,r);for(let a=0,r=o.length;a<r;++a)o[a]=o[a].slice();return o}function r(e,t,o,a,r,s,l){const d=e.geometries,p=[];for(let g=0,i=d.length;g<i;++g)p[g]=n(d[g],t,o,a,r,s,l);return p}function n(e,t,o,a,r,i,n){let s;const l=e.type,d=C[l];s="Point"===l||"MultiPoint"===l?d(e,o,a):d(e,t);const _=new p.a;_.setGeometry(Object(g.b)(s,!1,n)),void 0!==e.id&&_.setId(e.id);let c=e.properties;return r&&(!c&&(c={}),c[r]=i),c&&_.setProperties(c),_}function i(e,t,o){for(let a=0,r=e.length;a<r;++a)s(e[a],t,o)}function s(e,t,o){let a=0,r=0;for(let n=0,i=e.length;n<i;++n){const i=e[n];a+=i[0],r+=i[1],i[0]=a,i[1]=r,l(i,t,o)}}function l(e,t,o){e[0]=e[0]*t[0]+o[0],e[1]=e[1]*t[1]+o[1]}var d=o(0),p=o(15),g=o(36),_=o(178),c=o(28),u=o(53),y=o(54),m=o(60),h=o(21),f=o(29),x=o(4);const E=function(e){const t=e?e:{};_.a.call(this),this.layerName_=t.layerName,this.layers_=t.layers?t.layers:null,this.defaultDataProjection=Object(x.h)(t.defaultDataProjection?t.defaultDataProjection:"EPSG:4326")};Object(d.g)(E,_.a);const C={Point:function(e,t,o){const a=e.coordinates;return t&&o&&l(a,t,o),new h.a(a)},LineString:function(e,t){const o=a(e.arcs,t);return new c.a(o)},Polygon:function(e,t){const o=[];for(let r=0,i=e.arcs.length;r<i;++r)o[r]=a(e.arcs[r],t);return new f.b(o)},MultiPoint:function(e,t,o){const a=e.coordinates;if(t&&o)for(let e=0,r=a.length;e<r;++e)l(a[e],t,o);return new y.a(a)},MultiLineString:function(e,t){const o=[];for(let r=0,i=e.arcs.length;r<i;++r)o[r]=a(e.arcs[r],t);return new u.a(o)},MultiPolygon:function(e,t){const o=[];for(let r=0,i=e.arcs.length;r<i;++r){const i=e.arcs[r],n=[];for(let e=0,o=i.length;e<o;++e)n[e]=a(i[e],t);o[r]=n}return new m.a(o)}};E.prototype.readFeatures,E.prototype.readFeaturesFromObject=function(e,t){if("Topology"==e.type){const o=e;let a=null,s=null,l;o.transform&&(l=o.transform,a=l.scale,s=l.translate);const d=o.arcs;l&&i(d,a,s);const p=[],g=o.objects,_=this.layerName_;let c;for(const e in g)this.layers_&&-1==this.layers_.indexOf(e)||("GeometryCollection"===g[e].type?(c=g[e],p.push.apply(p,r(c,d,a,s,_,e,t))):(c=g[e],p.push(n(c,d,a,s,_,e,t))));return p}return[]},E.prototype.readProjection,E.prototype.readProjectionFromObject=function(){return this.defaultDataProjection},E.prototype.writeFeatureObject=function(){},E.prototype.writeFeaturesObject=function(){},E.prototype.writeGeometryObject=function(){},E.prototype.readGeometryFromObject=function(){},E.prototype.readFeatureFromObject=function(){},t.a=E},function(e,t,o){"use strict";var a=o(0),r=o(121);const i=function(e,t,o,a){r.a.call(this,e),this.geometryName=t||"the_geom",this.geometry=o,this.srsName=a};Object(a.g)(i,r.a),t.a=i},function(e,t,o){"use strict";function a(e){const t=e.getCoordinates();return 0===t.length?"":t.join(" ")}function r(e){const t=e.getCoordinates(),o=[];for(let a=0,r=t.length;a<r;++a)o.push(t[a].join(" "));return o.join(",")}function n(e){const t=[],o=e.getLinearRings();for(let a=0,i=o.length;a<i;++a)t.push("("+r(o[a])+")");return t.join(",")}function i(e){const t=e.getLayout();let o="";return(t===u.a.XYZ||t===u.a.XYZM)&&(o+=S),(t===u.a.XYM||t===u.a.XYZM)&&(o+=R),o}function s(e){let t=e.getType();const o=P[t],a=o(e);if(t=t.toUpperCase(),e instanceof C.a){const o=i(e);0<o.length&&(t+=" "+o)}return 0===a.length?t+" "+T:t+"("+a+")"}var l=o(0),d=o(15),p=o(36),g=o(183),_=o(179),c=o(22),u=o(30),y=o(28),m=o(53),h=o(54),f=o(60),x=o(21),E=o(29),C=o(44);const T="EMPTY",S="Z",R="M",I={TEXT:1,LEFT_PAREN:2,RIGHT_PAREN:3,NUMBER:4,COMMA:5,EOF:6},b=function(e){this.wkt=e,this.index_=-1};b.prototype.isAlpha_=function(e){return"a"<=e&&"z">=e||"A"<=e&&"Z">=e},b.prototype.isNumeric_=function(e,t){return"0"<=e&&"9">=e||"."==e&&!(t!==void 0&&t)},b.prototype.isWhiteSpace_=function(e){return" "==e||"\t"==e||"\r"==e||"\n"==e},b.prototype.nextChar_=function(){return this.wkt.charAt(++this.index_)},b.prototype.nextToken=function(){const e=this.nextChar_(),t={position:this.index_,value:e};if("("==e)t.type=I.LEFT_PAREN;else if(","==e)t.type=I.COMMA;else if(")"==e)t.type=I.RIGHT_PAREN;else if(this.isNumeric_(e)||"-"==e)t.type=I.NUMBER,t.value=this.readNumber_();else if(this.isAlpha_(e))t.type=I.TEXT,t.value=this.readText_();else{if(this.isWhiteSpace_(e))return this.nextToken();if(""===e)t.type=I.EOF;else throw new Error("Unexpected character: "+e)}return t},b.prototype.readNumber_=function(){let e;const t=this.index_;let o=!1,a=!1;do"."==e?o=!0:("e"==e||"E"==e)&&(a=!0),e=this.nextChar_();while(this.isNumeric_(e,o)||!a&&("e"==e||"E"==e)||a&&("-"==e||"+"==e));return parseFloat(this.wkt.substring(t,this.index_--))},b.prototype.readText_=function(){let e;const t=this.index_;do e=this.nextChar_();while(this.isAlpha_(e));return this.wkt.substring(t,this.index_--).toUpperCase()};const v=function(e){this.lexer_=e,this.token_,this.layout_=u.a.XY};v.prototype.consume_=function(){this.token_=this.lexer_.nextToken()},v.prototype.isTokenType=function(e){const t=this.token_.type==e;return t},v.prototype.match=function(e){const t=this.isTokenType(e);return t&&this.consume_(),t},v.prototype.parse=function(){this.consume_();const e=this.parseGeometry_();return e},v.prototype.parseGeometryLayout_=function(){let e=u.a.XY;const t=this.token_;if(this.isTokenType(I.TEXT)){const o=t.value;o===S?e=u.a.XYZ:o===R?e=u.a.XYM:o==="ZM"&&(e=u.a.XYZM),e!==u.a.XY&&this.consume_()}return e},v.prototype.parseGeometryCollectionText_=function(){if(this.match(I.LEFT_PAREN)){const e=[];do e.push(this.parseGeometry_());while(this.match(I.COMMA));if(this.match(I.RIGHT_PAREN))return e}else if(this.isEmptyGeometry_())return[];throw new Error(this.formatErrorMessage_())},v.prototype.parsePointText_=function(){if(this.match(I.LEFT_PAREN)){const e=this.parsePoint_();if(this.match(I.RIGHT_PAREN))return e}else if(this.isEmptyGeometry_())return null;throw new Error(this.formatErrorMessage_())},v.prototype.parseLineStringText_=function(){if(this.match(I.LEFT_PAREN)){const e=this.parsePointList_();if(this.match(I.RIGHT_PAREN))return e}else if(this.isEmptyGeometry_())return[];throw new Error(this.formatErrorMessage_())},v.prototype.parsePolygonText_=function(){if(this.match(I.LEFT_PAREN)){const e=this.parseLineStringTextList_();if(this.match(I.RIGHT_PAREN))return e}else if(this.isEmptyGeometry_())return[];throw new Error(this.formatErrorMessage_())},v.prototype.parseMultiPointText_=function(){if(this.match(I.LEFT_PAREN)){let e;if(e=this.token_.type==I.LEFT_PAREN?this.parsePointTextList_():this.parsePointList_(),this.match(I.RIGHT_PAREN))return e}else if(this.isEmptyGeometry_())return[];throw new Error(this.formatErrorMessage_())},v.prototype.parseMultiLineStringText_=function(){if(this.match(I.LEFT_PAREN)){const e=this.parseLineStringTextList_();if(this.match(I.RIGHT_PAREN))return e}else if(this.isEmptyGeometry_())return[];throw new Error(this.formatErrorMessage_())},v.prototype.parseMultiPolygonText_=function(){if(this.match(I.LEFT_PAREN)){const e=this.parsePolygonTextList_();if(this.match(I.RIGHT_PAREN))return e}else if(this.isEmptyGeometry_())return[];throw new Error(this.formatErrorMessage_())},v.prototype.parsePoint_=function(){const e=[],t=this.layout_.length;for(let o=0;o<t;++o){const t=this.token_;if(this.match(I.NUMBER))e.push(t.value);else break}if(e.length==t)return e;throw new Error(this.formatErrorMessage_())},v.prototype.parsePointList_=function(){const e=[this.parsePoint_()];for(;this.match(I.COMMA);)e.push(this.parsePoint_());return e},v.prototype.parsePointTextList_=function(){const e=[this.parsePointText_()];for(;this.match(I.COMMA);)e.push(this.parsePointText_());return e},v.prototype.parseLineStringTextList_=function(){const e=[this.parseLineStringText_()];for(;this.match(I.COMMA);)e.push(this.parseLineStringText_());return e},v.prototype.parsePolygonTextList_=function(){const e=[this.parsePolygonText_()];for(;this.match(I.COMMA);)e.push(this.parsePolygonText_());return e},v.prototype.isEmptyGeometry_=function(){const e=this.isTokenType(I.TEXT)&&this.token_.value==T;return e&&this.consume_(),e},v.prototype.formatErrorMessage_=function(){return"Unexpected `"+this.token_.value+"` at position "+this.token_.position+" in `"+this.lexer_.wkt+"`"};const L=function(e){const t=e?e:{};g.a.call(this),this.splitCollection_=t.splitCollection!==void 0&&t.splitCollection};Object(l.g)(L,g.a);const P={Point:a,LineString:r,Polygon:n,MultiPoint:function(e){const t=[],o=e.getPoints();for(let r=0,i=o.length;r<i;++r)t.push("("+a(o[r])+")");return t.join(",")},MultiLineString:function(e){const t=[],o=e.getLineStrings();for(let a=0,i=o.length;a<i;++a)t.push("("+r(o[a])+")");return t.join(",")},MultiPolygon:function(e){const t=[],o=e.getPolygons();for(let a=0,r=o.length;a<r;++a)t.push("("+n(o[a])+")");return t.join(",")},GeometryCollection:function(e){const t=[],o=e.getGeometries();for(let a=0,r=o.length;a<r;++a)t.push(s(o[a]));return t.join(",")}};L.prototype.parse_=function(e){const t=new b(e),o=new v(t);return o.parse()},L.prototype.readFeature,L.prototype.readFeatureFromText=function(e,t){const o=this.readGeometryFromText(e,t);if(o){const e=new d.a;return e.setGeometry(o),e}return null},L.prototype.readFeatures,L.prototype.readFeaturesFromText=function(e,t){let o=[];const a=this.readGeometryFromText(e,t);o=this.splitCollection_&&a.getType()==c.a.GEOMETRY_COLLECTION?a.getGeometriesArray():[a];const r=[];for(let a=0,i=o.length;a<i;++a){const e=new d.a;e.setGeometry(o[a]),r.push(e)}return r},L.prototype.readGeometry,L.prototype.readGeometryFromText=function(e,t){const o=this.parse_(e);return o?Object(p.b)(o,!1,t):null};const F={POINT:x.a,LINESTRING:y.a,POLYGON:E.b,MULTIPOINT:h.a,MULTILINESTRING:m.a,MULTIPOLYGON:f.a},O={POINT:v.prototype.parsePointText_,LINESTRING:v.prototype.parseLineStringText_,POLYGON:v.prototype.parsePolygonText_,MULTIPOINT:v.prototype.parseMultiPointText_,MULTILINESTRING:v.prototype.parseMultiLineStringText_,MULTIPOLYGON:v.prototype.parseMultiPolygonText_};v.prototype.parseGeometry_=function(){const e=this.token_;if(this.match(I.TEXT)){const t=e.value;if(this.layout_=this.parseGeometryLayout_(),t==c.a.GEOMETRY_COLLECTION.toUpperCase()){const e=this.parseGeometryCollectionText_();return new _.a(e)}else{const e=O[t],o=F[t];if(!e||!o)throw new Error("Invalid geometry type: "+t);const a=e.call(this);return new o(a,this.layout_)}}throw new Error(this.formatErrorMessage_())},L.prototype.writeFeature,L.prototype.writeFeatureText=function(e,t){const o=e.getGeometry();return o?this.writeGeometryText(o,t):""},L.prototype.writeFeatures,L.prototype.writeFeaturesText=function(e,t){if(1==e.length)return this.writeFeatureText(e[0],t);const o=[];for(let a=0,r=e.length;a<r;++a)o.push(e[a].getGeometry());const a=new _.a(o);return this.writeGeometryText(a,t)},L.prototype.writeGeometry,L.prototype.writeGeometryText=function(e,t){return s(Object(p.b)(e,!0,t))},t.a=L},function(e,t,o){"use strict";var a=o(0),r=o(408),i=o(32),n=o(8),s=o(11),l=o(29),d=o(37),p=o(17),g=o(4);const _=function(e){i.a.call(this);const t=e||{};this.position_=null,this.transform_=g.l,this.watchId_=void 0,Object(n.a)(this,Object(i.b)(r.a.PROJECTION),this.handleProjectionChanged_,this),Object(n.a)(this,Object(i.b)(r.a.TRACKING),this.handleTrackingChanged_,this),t.projection!==void 0&&this.setProjection(t.projection),t.trackingOptions!==void 0&&this.setTrackingOptions(t.trackingOptions),this.setTracking(t.tracking!==void 0&&t.tracking)};Object(a.g)(_,i.a),_.prototype.disposeInternal=function(){this.setTracking(!1),i.a.prototype.disposeInternal.call(this)},_.prototype.handleProjectionChanged_=function(){const e=this.getProjection();e&&(this.transform_=Object(g.k)(Object(g.h)("EPSG:4326"),e),this.position_&&this.set(r.a.POSITION,this.transform_(this.position_)))},_.prototype.handleTrackingChanged_=function(){if(d.d){const e=this.getTracking();e&&this.watchId_===void 0?this.watchId_=navigator.geolocation.watchPosition(this.positionChange_.bind(this),this.positionError_.bind(this),this.getTrackingOptions()):!e&&this.watchId_!==void 0&&(navigator.geolocation.clearWatch(this.watchId_),this.watchId_=void 0)}},_.prototype.positionChange_=function(e){const t=e.coords;this.set(r.a.ACCURACY,t.accuracy),this.set(r.a.ALTITUDE,null===t.altitude?void 0:t.altitude),this.set(r.a.ALTITUDE_ACCURACY,null===t.altitudeAccuracy?void 0:t.altitudeAccuracy),this.set(r.a.HEADING,null===t.heading?void 0:Object(p.j)(t.heading)),this.position_?(this.position_[0]=t.longitude,this.position_[1]=t.latitude):this.position_=[t.longitude,t.latitude];const o=this.transform_(this.position_);this.set(r.a.POSITION,o),this.set(r.a.SPEED,null===t.speed?void 0:t.speed);const a=Object(l.a)(this.position_,t.accuracy);a.applyTransform(this.transform_),this.set(r.a.ACCURACY_GEOMETRY,a),this.changed()},_.prototype.positionError_=function(e){e.type=s.a.ERROR,this.setTracking(!1),this.dispatchEvent(e)},_.prototype.getAccuracy=function(){return this.get(r.a.ACCURACY)},_.prototype.getAccuracyGeometry=function(){return this.get(r.a.ACCURACY_GEOMETRY)||null},_.prototype.getAltitude=function(){return this.get(r.a.ALTITUDE)},_.prototype.getAltitudeAccuracy=function(){return this.get(r.a.ALTITUDE_ACCURACY)},_.prototype.getHeading=function(){return this.get(r.a.HEADING)},_.prototype.getPosition=function(){return this.get(r.a.POSITION)},_.prototype.getProjection=function(){return this.get(r.a.PROJECTION)},_.prototype.getSpeed=function(){return this.get(r.a.SPEED)},_.prototype.getTracking=function(){return this.get(r.a.TRACKING)},_.prototype.getTrackingOptions=function(){return this.get(r.a.TRACKING_OPTIONS)},_.prototype.setProjection=function(e){this.set(r.a.PROJECTION,Object(g.h)(e))},_.prototype.setTracking=function(e){this.set(r.a.TRACKING,e)},_.prototype.setTrackingOptions=function(e){this.set(r.a.TRACKING_OPTIONS,e)},t.a=_},function(e,t,o){"use strict";var a=o(0),r=o(136),i=o(75),n=o(270),s=o(236),l=o(437),d=o(438),p=o(27),g=o(273),_=o(39),c=o(86),u=o(145);const y=function(e,t){s.a.call(this,t),this.mapRenderer=e,this.arrayBuffer_=new c.a([-1,-1,0,0,1,-1,1,0,-1,1,0,1,1,1,1,1]),this.texture=null,this.framebuffer=null,this.framebufferDimension=void 0,this.texCoordMatrix=Object(p.c)(),this.projectionMatrix=Object(p.c)(),this.tmpMat4_=Object(g.a)(),this.defaultLocations_=null};Object(a.g)(y,s.a),y.prototype.bindFramebuffer=function(e,t){const o=this.mapRenderer.getGL();if(this.framebufferDimension===void 0||this.framebufferDimension!=t){const a=function(e,t,o){e.isContextLost()||(e.deleteFramebuffer(t),e.deleteTexture(o))}.bind(null,o,this.framebuffer,this.texture);e.postRenderFunctions.push(a);const r=Object(u.a)(o,t,t),i=o.createFramebuffer();o.bindFramebuffer(_.l,i),o.framebufferTexture2D(_.l,_.d,_.w,r,0),this.texture=r,this.framebuffer=i,this.framebufferDimension=t}else o.bindFramebuffer(_.l,this.framebuffer)},y.prototype.composeFrame=function(e,t,o){this.dispatchComposeEvent_(i.a.PRECOMPOSE,o,e),o.bindBuffer(_.a,this.arrayBuffer_);const a=o.getGL(),r=o.getProgram(l.a,l.b);let n;this.defaultLocations_?n=this.defaultLocations_:(n=new d.a(a,r),this.defaultLocations_=n),o.useProgram(r)&&(a.enableVertexAttribArray(n.a_position),a.vertexAttribPointer(n.a_position,2,_.j,!1,16,0),a.enableVertexAttribArray(n.a_texCoord),a.vertexAttribPointer(n.a_texCoord,2,_.j,!1,16,8),a.uniform1i(n.u_texture,0)),a.uniformMatrix4fv(n.u_texCoordMatrix,!1,Object(g.b)(this.tmpMat4_,this.getTexCoordMatrix())),a.uniformMatrix4fv(n.u_projectionMatrix,!1,Object(g.b)(this.tmpMat4_,this.getProjectionMatrix())),a.uniform1f(n.u_opacity,t.opacity),a.bindTexture(_.w,this.getTexture()),a.drawArrays(_.C,0,4),this.dispatchComposeEvent_(i.a.POSTCOMPOSE,o,e)},y.prototype.dispatchComposeEvent_=function(e,t,o){const a=this.getLayer();if(a.hasListener(e)){const i=o.viewState,s=i.resolution,l=o.pixelRatio,d=o.extent,p=i.center,g=i.rotation,_=o.size,c=new n.a(t,p,s,g,_,d,l),u=new r.a(e,c,o,null,t);a.dispatchEvent(u)}},y.prototype.getTexCoordMatrix=function(){return this.texCoordMatrix},y.prototype.getTexture=function(){return this.texture},y.prototype.getProjectionMatrix=function(){return this.projectionMatrix},y.prototype.handleWebGLContextLost=function(){this.texture=null,this.framebuffer=null,this.framebufferDimension=void 0},y.prototype.prepareFrame=function(){},y.prototype.forEachLayerAtPixel=function(){},t.a=y},function(e,t,o){"use strict";function a(e,t){if(!(this instanceof a))return new a(e);t=t||function(e){if(e)throw e};var o=Object(r.a)(e);if("object"!=typeof o)return void t(e);var n=a.projections.get(o.projName);if(!n)return void t(e);if(o.datumCode&&"none"!==o.datumCode){var g=Object(p.a)(l.a,o.datumCode);g&&(o.datum_params=g.towgs84?g.towgs84.split(","):null,o.ellps=g.ellipse,o.datumName=g.datumName?g.datumName:o.datumCode)}o.k0=o.k0||1,o.axis=o.axis||"enu",o.ellps=o.ellps||"wgs84";var _=Object(s.b)(o.a,o.b,o.rf,o.ellps,o.sphere),c=Object(s.a)(_.a,_.b,_.rf,o.R_A),u=o.datum||Object(d.a)(o.datumCode,o.datum_params,_.a,_.b,c.es,c.ep2);Object(i.a)(this,o),Object(i.a)(this,n),this.a=_.a,this.b=_.b,this.rf=_.rf,this.sphere=_.sphere,this.es=c.es,this.e=c.e,this.ep2=c.ep2,this.datum=u,this.init(),t(null,this)}var r=o(492),i=o(498),n=o(499),s=o(502),l=o(504),d=o(505),p=o(192);a.projections=n.a,a.projections.start(),t.a=a},function(e,t){"use strict";t.a=function(e,t){if(e[t])return e[t];for(var a=Object.keys(e),r=t.toLowerCase().replace(o,""),n=-1,i,s;++n<a.length;)if(i=a[n],s=i.toLowerCase().replace(o,""),s===r)return e[i]};var o=/[\s_\-\/\(\)]/g},function(e,t){"use strict";t.a=function(e,t,o,a){return o*=t,t*=t,a[0]*e-o*(a[1]+t*(a[2]+t*(a[3]+t*a[4])))}},function(e,t){"use strict";t.a=function(t,o,e){var a=o*e;return t/Math.sqrt(1-a*a)}},function(e,t){"use strict";var o=Math.sin,a=Math.cos;t.a=function(e,t,r,n,s){var l,d;l=e/t;for(var p=0;15>p;p++)if(d=(e-(t*l-r*o(2*l)+n*o(4*l)-s*o(6*l)))/(t-2*r*a(2*l)+4*n*a(4*l)-6*s*a(6*l)),l+=d,1e-10>=Math.abs(d))return l;return NaN}},function(e,t){"use strict";t.a=function(e,t){var o;return 1e-7<e?(o=e*t,(1-e*e)*(t/(1-o*o)-.5/e*Math.log((1-o)/(1+o)))):2*t}},function(e,t,o){"use strict";function a(e){let t=null;void 0!==e.keyboardEventTarget&&(t="string"==typeof e.keyboardEventTarget?document.getElementById(e.keyboardEventTarget):e.keyboardEventTarget);const o={},a=e.layers instanceof v.a?e.layers:new v.a({layers:e.layers});o[c.a.LAYERGROUP]=a,o[c.a.TARGET]=e.target,o[c.a.VIEW]=void 0===e.view?new h.a:e.view;let r;void 0!==e.controls&&(Array.isArray(e.controls)?r=new i.b(e.controls.slice()):(Object(x.a)(e.controls instanceof i.b,47),r=e.controls));let n;void 0!==e.interactions&&(Array.isArray(e.interactions)?n=new i.b(e.interactions.slice()):(Object(x.a)(e.interactions instanceof i.b,48),n=e.interactions));let s;return void 0===e.overlays?s=new i.b:Array.isArray(e.overlays)?s=new i.b(e.overlays.slice()):(Object(x.a)(e.overlays instanceof i.b,49),s=e.overlays),{controls:r,interactions:n,keyboardEventTarget:t,overlays:s,values:o}}var r=Math.round,n=o(0),i=o(62),s=o(78),l=o(199),d=o(290),p=o(71),g=o(200),_=o(128),c=o(202),u=o(32),y=o(107),m=o(203),h=o(1),f=o(40),x=o(19),E=o(23),C=o(8),T=o(33),S=o(11),R=o(3),I=o(18),b=o(37),v=o(209),L=o(57),P=o(155),F=o(27);const O=function(e){u.a.call(this);const t=a(e);this.maxTilesLoading_=void 0===e.maxTilesLoading?16:e.maxTilesLoading,this.loadTilesWhileAnimating_=void 0!==e.loadTilesWhileAnimating&&e.loadTilesWhileAnimating,this.loadTilesWhileInteracting_=void 0!==e.loadTilesWhileInteracting&&e.loadTilesWhileInteracting,this.pixelRatio_=void 0===e.pixelRatio?b.b:e.pixelRatio,this.animationDelayKey_,this.animationDelay_=function(){this.animationDelayKey_=void 0,this.renderFrame_.call(this,Date.now())}.bind(this),this.coordinateToPixelTransform_=Object(F.c)(),this.pixelToCoordinateTransform_=Object(F.c)(),this.frameIndex_=0,this.frameState_=null,this.previousExtent_=null,this.viewPropertyListenerKey_=null,this.viewChangeListenerKey_=null,this.layerGroupPropertyListenerKeys_=null,this.viewport_=document.createElement("DIV"),this.viewport_.className="ol-viewport"+(b.i?" ol-touch":""),this.viewport_.style.position="relative",this.viewport_.style.overflow="hidden",this.viewport_.style.width="100%",this.viewport_.style.height="100%",this.viewport_.style.msTouchAction="none",this.viewport_.style.touchAction="none",this.overlayContainer_=document.createElement("DIV"),this.overlayContainer_.className="ol-overlaycontainer",this.viewport_.appendChild(this.overlayContainer_),this.overlayContainerStopEvent_=document.createElement("DIV"),this.overlayContainerStopEvent_.className="ol-overlaycontainer-stopevent";const o=[S.a.CLICK,S.a.DBLCLICK,S.a.MOUSEDOWN,S.a.TOUCHSTART,S.a.MSPOINTERDOWN,p.a.POINTERDOWN,S.a.MOUSEWHEEL,S.a.WHEEL];for(let t=0,a=o.length;t<a;++t)Object(C.a)(this.overlayContainerStopEvent_,o[t],T.b);for(const t in this.viewport_.appendChild(this.overlayContainerStopEvent_),this.mapBrowserEventHandler_=new d.a(this,e.moveTolerance),p.a)Object(C.a)(this.mapBrowserEventHandler_,p.a[t],this.handleMapBrowserEvent,this);this.keyboardEventTarget_=t.keyboardEventTarget,this.keyHandlerKeys_=null,Object(C.a)(this.viewport_,S.a.CONTEXTMENU,this.handleBrowserEvent,this),Object(C.a)(this.viewport_,S.a.WHEEL,this.handleBrowserEvent,this),Object(C.a)(this.viewport_,S.a.MOUSEWHEEL,this.handleBrowserEvent,this),this.controls=t.controls||new i.b,this.interactions=t.interactions||new i.b,this.overlays_=t.overlays,this.overlayIdIndex_={},this.renderer_=this.createRenderer(this.viewport_,this),this.handleResize_,this.focus_=null,this.postRenderFunctions_=[],this.tileQueue_=new m.a(this.getTilePriority.bind(this),this.handleTileChange_.bind(this)),this.skippedFeatureUids_={},Object(C.a)(this,Object(u.b)(c.a.LAYERGROUP),this.handleLayerGroupChanged_,this),Object(C.a)(this,Object(u.b)(c.a.VIEW),this.handleViewChanged_,this),Object(C.a)(this,Object(u.b)(c.a.SIZE),this.handleSizeChanged_,this),Object(C.a)(this,Object(u.b)(c.a.TARGET),this.handleTargetChanged_,this),this.setProperties(t.values),this.controls.forEach(function(e){e.setMap(this)}.bind(this)),Object(C.a)(this.controls,s.a.ADD,function(e){e.element.setMap(this)},this),Object(C.a)(this.controls,s.a.REMOVE,function(e){e.element.setMap(null)},this),this.interactions.forEach(function(e){e.setMap(this)}.bind(this)),Object(C.a)(this.interactions,s.a.ADD,function(e){e.element.setMap(this)},this),Object(C.a)(this.interactions,s.a.REMOVE,function(e){e.element.setMap(null)},this),this.overlays_.forEach(this.addOverlayInternal_.bind(this)),Object(C.a)(this.overlays_,s.a.ADD,function(e){this.addOverlayInternal_(e.element)},this),Object(C.a)(this.overlays_,s.a.REMOVE,function(e){const t=e.element,o=t.getId();void 0!==o&&delete this.overlayIdIndex_[o.toString()],e.element.setMap(null)},this)};Object(n.g)(O,u.a),O.prototype.createRenderer=function(){throw new Error("Use a map type that has a createRenderer method")},O.prototype.addControl=function(e){this.getControls().push(e)},O.prototype.addInteraction=function(e){this.getInteractions().push(e)},O.prototype.addLayer=function(e){const t=this.getLayerGroup().getLayers();t.push(e)},O.prototype.addOverlay=function(e){this.getOverlays().push(e)},O.prototype.addOverlayInternal_=function(e){const t=e.getId();t!==void 0&&(this.overlayIdIndex_[t.toString()]=e),e.setMap(this)},O.prototype.disposeInternal=function(){this.mapBrowserEventHandler_.dispose(),Object(C.c)(this.viewport_,S.a.CONTEXTMENU,this.handleBrowserEvent,this),Object(C.c)(this.viewport_,S.a.WHEEL,this.handleBrowserEvent,this),Object(C.c)(this.viewport_,S.a.MOUSEWHEEL,this.handleBrowserEvent,this),this.handleResize_!==void 0&&(removeEventListener(S.a.RESIZE,this.handleResize_,!1),this.handleResize_=void 0),this.animationDelayKey_&&(cancelAnimationFrame(this.animationDelayKey_),this.animationDelayKey_=void 0),this.setTarget(null),u.a.prototype.disposeInternal.call(this)},O.prototype.forEachFeatureAtPixel=function(e,t,o){if(this.frameState_){const a=this.getCoordinateFromPixel(e);o=void 0===o?{}:o;const r=void 0===o.hitTolerance?0:o.hitTolerance*this.frameState_.pixelRatio,i=void 0===o.layerFilter?I.b:o.layerFilter;return this.renderer_.forEachFeatureAtCoordinate(a,this.frameState_,r,t,null,i,null)}},O.prototype.getFeaturesAtPixel=function(e,t){let o=null;return this.forEachFeatureAtPixel(e,function(e){o||(o=[]),o.push(e)},t),o},O.prototype.forEachLayerAtPixel=function(e,t,o,a,r){if(this.frameState_){const i=void 0===o?null:o,n=void 0===a?I.b:a,s=void 0===r?null:r;return this.renderer_.forEachLayerAtPixel(e,this.frameState_,t,i,n,s)}},O.prototype.hasFeatureAtPixel=function(e,t){if(!this.frameState_)return!1;const o=this.getCoordinateFromPixel(e);t=t===void 0?{}:t;const a=t.layerFilter===void 0?I.b:t.layerFilter,r=t.hitTolerance===void 0?0:t.hitTolerance*this.frameState_.pixelRatio;return this.renderer_.hasFeatureAtCoordinate(o,this.frameState_,r,a,null)},O.prototype.getEventCoordinate=function(e){return this.getCoordinateFromPixel(this.getEventPixel(e))},O.prototype.getEventPixel=function(e){const t=this.viewport_.getBoundingClientRect(),o=e.changedTouches?e.changedTouches[0]:e;return[o.clientX-t.left,o.clientY-t.top]},O.prototype.getTarget=function(){return this.get(c.a.TARGET)},O.prototype.getTargetElement=function(){const e=this.getTarget();return void 0===e?null:"string"==typeof e?document.getElementById(e):e},O.prototype.getCoordinateFromPixel=function(e){const t=this.frameState_;return t?Object(F.a)(t.pixelToCoordinateTransform,e.slice()):null},O.prototype.getControls=function(){return this.controls},O.prototype.getOverlays=function(){return this.overlays_},O.prototype.getOverlayById=function(e){const t=this.overlayIdIndex_[e.toString()];return t===void 0?null:t},O.prototype.getInteractions=function(){return this.interactions},O.prototype.getLayerGroup=function(){return this.get(c.a.LAYERGROUP)},O.prototype.getLayers=function(){const e=this.getLayerGroup().getLayers();return e},O.prototype.getPixelFromCoordinate=function(e){const t=this.frameState_;return t?Object(F.a)(t.coordinateToPixelTransform,e.slice(0,2)):null},O.prototype.getRenderer=function(){return this.renderer_},O.prototype.getSize=function(){return this.get(c.a.SIZE)},O.prototype.getView=function(){return this.get(c.a.VIEW)},O.prototype.getViewport=function(){return this.viewport_},O.prototype.getOverlayContainer=function(){return this.overlayContainer_},O.prototype.getOverlayContainerStopEvent=function(){return this.overlayContainerStopEvent_},O.prototype.getTilePriority=function(e,t,o,a){const r=this.frameState_;if(!r||!(t in r.wantedTiles))return P.a;if(!r.wantedTiles[t][e.getKey()])return P.a;const i=o[0]-r.focus[0],n=o[1]-r.focus[1];return 65536*Math.log(a)+Math.sqrt(i*i+n*n)/a},O.prototype.handleBrowserEvent=function(e,t){const o=t||e.type,a=new l.a(o,this,e);this.handleMapBrowserEvent(a)},O.prototype.handleMapBrowserEvent=function(e){if(this.frameState_){this.focus_=e.coordinate,e.frameState=this.frameState_;const t=this.getInteractions().getArray();if(!1!==this.dispatchEvent(e))for(let o=t.length-1;0<=o;o--){const a=t[o];if(!a.getActive())continue;const r=a.handleEvent(e);if(!r)break}}},O.prototype.handlePostRender=function(){const e=this.frameState_,t=this.tileQueue_;if(!t.isEmpty()){let o=this.maxTilesLoading_,a=o;if(e){const t=e.viewHints;t[f.a.ANIMATING]&&(o=this.loadTilesWhileAnimating_?8:0,a=2),t[f.a.INTERACTING]&&(o=this.loadTilesWhileInteracting_?8:0,a=2)}t.getTilesLoading()<o&&(t.reprioritize(),t.loadMoreTiles(o,a))}const o=this.postRenderFunctions_;for(let t=0,a=o.length;t<a;++t)o[t](this,e);o.length=0},O.prototype.handleSizeChanged_=function(){this.render()},O.prototype.handleTargetChanged_=function(){let e;if(this.getTarget()&&(e=this.getTargetElement()),this.keyHandlerKeys_){for(let e=0,t=this.keyHandlerKeys_.length;e<t;++e)Object(C.e)(this.keyHandlerKeys_[e]);this.keyHandlerKeys_=null}if(!e)this.renderer_.removeLayerRenderers(),Object(E.e)(this.viewport_),void 0!==this.handleResize_&&(removeEventListener(S.a.RESIZE,this.handleResize_,!1),this.handleResize_=void 0);else{e.appendChild(this.viewport_);const t=this.keyboardEventTarget_?this.keyboardEventTarget_:e;this.keyHandlerKeys_=[Object(C.a)(t,S.a.KEYDOWN,this.handleBrowserEvent,this),Object(C.a)(t,S.a.KEYPRESS,this.handleBrowserEvent,this)],this.handleResize_||(this.handleResize_=this.updateSize.bind(this),addEventListener(S.a.RESIZE,this.handleResize_,!1))}this.updateSize()},O.prototype.handleTileChange_=function(){this.render()},O.prototype.handleViewPropertyChanged_=function(){this.render()},O.prototype.handleViewChanged_=function(){this.viewPropertyListenerKey_&&(Object(C.e)(this.viewPropertyListenerKey_),this.viewPropertyListenerKey_=null),this.viewChangeListenerKey_&&(Object(C.e)(this.viewChangeListenerKey_),this.viewChangeListenerKey_=null);const e=this.getView();e&&(this.viewport_.setAttribute("data-view",Object(n.f)(e)),this.viewPropertyListenerKey_=Object(C.a)(e,y.a.PROPERTYCHANGE,this.handleViewPropertyChanged_,this),this.viewChangeListenerKey_=Object(C.a)(e,S.a.CHANGE,this.handleViewPropertyChanged_,this)),this.render()},O.prototype.handleLayerGroupChanged_=function(){this.layerGroupPropertyListenerKeys_&&(this.layerGroupPropertyListenerKeys_.forEach(C.e),this.layerGroupPropertyListenerKeys_=null);const e=this.getLayerGroup();e&&(this.layerGroupPropertyListenerKeys_=[Object(C.a)(e,y.a.PROPERTYCHANGE,this.render,this),Object(C.a)(e,S.a.CHANGE,this.render,this)]),this.render()},O.prototype.isRendered=function(){return!!this.frameState_},O.prototype.renderSync=function(){this.animationDelayKey_&&cancelAnimationFrame(this.animationDelayKey_),this.animationDelay_()},O.prototype.render=function(){this.animationDelayKey_===void 0&&(this.animationDelayKey_=requestAnimationFrame(this.animationDelay_))},O.prototype.removeControl=function(e){return this.getControls().remove(e)},O.prototype.removeInteraction=function(e){return this.getInteractions().remove(e)},O.prototype.removeLayer=function(e){const t=this.getLayerGroup().getLayers();return t.remove(e)},O.prototype.removeOverlay=function(e){return this.getOverlays().remove(e)},O.prototype.renderFrame_=function(e){let t;const o=this.getSize(),a=this.getView(),i=Object(R.j)(),s=this.frameState_;let l=null;if(void 0!==o&&Object(L.b)(o)&&a&&a.isDef()){const s=a.getHints(this.frameState_?this.frameState_.viewHints:void 0),d=this.getLayerGroup().getLayerStatesArray(),p={};for(let e=0,t=d.length;e<t;++e)p[Object(n.f)(d[e].layer)]=d[e];t=a.getState();let g=this.focus_;if(!g){g=t.center;const e=t.resolution/this.pixelRatio_;g[0]=r(g[0]/e)*e,g[1]=r(g[1]/e)*e}l={animate:!1,coordinateToPixelTransform:this.coordinateToPixelTransform_,extent:i,focus:g,index:this.frameIndex_++,layerStates:p,layerStatesArray:d,pixelRatio:this.pixelRatio_,pixelToCoordinateTransform:this.pixelToCoordinateTransform_,postRenderFunctions:[],size:o,skippedFeatureUids:this.skippedFeatureUids_,tileQueue:this.tileQueue_,time:e,usedTiles:{},viewState:t,viewHints:s,wantedTiles:{}}}if(l&&(l.extent=Object(R.z)(t.center,t.resolution,t.rotation,l.size,i)),this.frameState_=l,this.renderer_.renderFrame(l),l){if(l.animate&&this.render(),Array.prototype.push.apply(this.postRenderFunctions_,l.postRenderFunctions),s){const e=!this.previousExtent_||!Object(R.H)(this.previousExtent_)&&!Object(R.p)(l.extent,this.previousExtent_);e&&(this.dispatchEvent(new g.a(_.a.MOVESTART,this,s)),this.previousExtent_=Object(R.l)(this.previousExtent_))}const e=this.previousExtent_&&!l.viewHints[f.a.ANIMATING]&&!l.viewHints[f.a.INTERACTING]&&!Object(R.p)(l.extent,this.previousExtent_);e&&(this.dispatchEvent(new g.a(_.a.MOVEEND,this,l)),Object(R.d)(l.extent,this.previousExtent_))}this.dispatchEvent(new g.a(_.a.POSTRENDER,this,l)),setTimeout(this.handlePostRender.bind(this),0)},O.prototype.setLayerGroup=function(e){this.set(c.a.LAYERGROUP,e)},O.prototype.setSize=function(e){this.set(c.a.SIZE,e)},O.prototype.setTarget=function(e){this.set(c.a.TARGET,e)},O.prototype.setView=function(e){this.set(c.a.VIEW,e)},O.prototype.skipFeature=function(e){const t=Object(n.f)(e).toString();this.skippedFeatureUids_[t]=!0,this.render()},O.prototype.updateSize=function(){const e=this.getTargetElement();if(!e)this.setSize(void 0);else{const t=getComputedStyle(e);this.setSize([e.offsetWidth-parseFloat(t.borderLeftWidth)-parseFloat(t.paddingLeft)-parseFloat(t.paddingRight)-parseFloat(t.borderRightWidth),e.offsetHeight-parseFloat(t.borderTopWidth)-parseFloat(t.paddingTop)-parseFloat(t.paddingBottom)-parseFloat(t.borderBottomWidth)])}},O.prototype.unskipFeature=function(e){const t=Object(n.f)(e).toString();delete this.skippedFeatureUids_[t],this.render()},t.a=O},function(e,t,o){"use strict";var a=o(0);const r=function(e){const t=a.c?a.c.split("-")[0]:"latest";this.message="Assertion failed. See https://openlayers.org/en/"+t+"/doc/errors/#"+e+" for details.",this.code=e,this.name="AssertionError"};Object(a.g)(r,Error),t.a=r},function(e,t,o){"use strict";var a=o(0),r=o(200);const i=function(e,t,o,a,i){r.a.call(this,e,t,i),this.originalEvent=o,this.pixel=t.getEventPixel(o),this.coordinate=t.getCoordinateFromPixel(this.pixel),this.dragging=a!==void 0&&a};Object(a.g)(i,r.a),i.prototype.preventDefault=function(){r.a.prototype.preventDefault.call(this),this.originalEvent.preventDefault()},i.prototype.stopPropagation=function(){r.a.prototype.stopPropagation.call(this),this.originalEvent.stopPropagation()},t.a=i},function(e,t,o){"use strict";var a=o(0),r=o(33);const i=function(e,t,o){r.a.call(this,e),this.map=t,this.frameState=o===void 0?null:o};Object(a.g)(i,r.a),t.a=i},function(e,t,o){"use strict";var a=o(0),r=o(8),i=o(79),n=o(37),s=o(153),l=o(154),d=o(291),p=o(292),g=o(293),_=o(294);const c=function(e){i.a.call(this),this.element_=e,this.pointerMap={},this.eventMap_={},this.eventSourceList_=[],this.registerSources()};Object(a.g)(c,i.a);const u=[["bubbles",!1],["cancelable",!1],["view",null],["detail",null],["screenX",0],["screenY",0],["clientX",0],["clientY",0],["ctrlKey",!1],["altKey",!1],["shiftKey",!1],["metaKey",!1],["button",0],["relatedTarget",null],["buttons",0],["pointerId",0],["width",0],["height",0],["pressure",0],["tiltX",0],["tiltY",0],["pointerType",""],["hwTimestamp",0],["isPrimary",!1],["type",""],["target",null],["currentTarget",null],["which",0]];c.prototype.registerSources=function(){if(n.g)this.registerSource("native",new p.a(this));else if(n.f)this.registerSource("ms",new d.a(this));else{const e=new l.c(this);this.registerSource("mouse",e),n.i&&this.registerSource("touch",new _.a(this,e))}this.register_()},c.prototype.registerSource=function(e,t){const o=t,a=o.getEvents();a&&(a.forEach(function(t){const e=o.getHandlerForEvent(t);e&&(this.eventMap_[t]=e.bind(o))}.bind(this)),this.eventSourceList_.push(o))},c.prototype.register_=function(){const e=this.eventSourceList_.length;let t;for(let o=0;o<e;o++)t=this.eventSourceList_[o],this.addEvents_(t.getEvents())},c.prototype.unregister_=function(){const e=this.eventSourceList_.length;let t;for(let o=0;o<e;o++)t=this.eventSourceList_[o],this.removeEvents_(t.getEvents())},c.prototype.eventHandler_=function(e){const t=e.type,o=this.eventMap_[t];o&&o(e)},c.prototype.addEvents_=function(e){e.forEach(function(e){Object(r.a)(this.element_,e,this.eventHandler_,this)}.bind(this))},c.prototype.removeEvents_=function(e){e.forEach(function(t){Object(r.c)(this.element_,t,this.eventHandler_,this)}.bind(this))},c.prototype.cloneEvent=function(e,t){const o={};for(let a=0,r=u.length;a<r;a++){const r=u[a][0];o[r]=e[r]||t[r]||u[a][1]}return o},c.prototype.down=function(e,t){this.fireEvent(s.a.POINTERDOWN,e,t)},c.prototype.move=function(e,t){this.fireEvent(s.a.POINTERMOVE,e,t)},c.prototype.up=function(e,t){this.fireEvent(s.a.POINTERUP,e,t)},c.prototype.enter=function(e,t){e.bubbles=!1,this.fireEvent(s.a.POINTERENTER,e,t)},c.prototype.leave=function(e,t){e.bubbles=!1,this.fireEvent(s.a.POINTERLEAVE,e,t)},c.prototype.over=function(e,t){e.bubbles=!0,this.fireEvent(s.a.POINTEROVER,e,t)},c.prototype.out=function(e,t){e.bubbles=!0,this.fireEvent(s.a.POINTEROUT,e,t)},c.prototype.cancel=function(e,t){this.fireEvent(s.a.POINTERCANCEL,e,t)},c.prototype.leaveOut=function(e,t){this.out(e,t),this.contains_(e.target,e.relatedTarget)||this.leave(e,t)},c.prototype.enterOver=function(e,t){this.over(e,t),this.contains_(e.target,e.relatedTarget)||this.enter(e,t)},c.prototype.contains_=function(e,t){return!!(e&&t)&&e.contains(t)},c.prototype.makeEvent=function(e,t,o){return new g.a(e,o,t)},c.prototype.fireEvent=function(t,o,a){const r=this.makeEvent(t,o,a);this.dispatchEvent(r)},c.prototype.fireNativeEvent=function(t){const o=this.makeEvent(t.type,t,t);this.dispatchEvent(o)},c.prototype.wrapMouseEvent=function(e,t){const o=this.makeEvent(e,l.c.prepareEvent(t,this),t);return o},c.prototype.disposeInternal=function(){this.unregister_(),i.a.prototype.disposeInternal.call(this)},t.a=c},function(e,t){"use strict";t.a={LAYERGROUP:"layergroup",SIZE:"size",TARGET:"target",VIEW:"view"}},function(e,t,o){"use strict";var a=o(0),r=o(35),i=o(8),n=o(11),s=o(155);const l=function(e,t){s.b.call(this,function(t){return e.apply(null,t)},function(e){return e[0].getKey()}),this.tileChangeCallback_=t,this.tilesLoading_=0,this.tilesLoadingKeys_={}};Object(a.g)(l,s.b),l.prototype.enqueue=function(e){const t=s.b.prototype.enqueue.call(this,e);if(t){const t=e[0];Object(i.a)(t,n.a.CHANGE,this.handleTileChange,this)}return t},l.prototype.getTilesLoading=function(){return this.tilesLoading_},l.prototype.handleTileChange=function(e){const t=e.target,o=t.getState();if(o===r.a.LOADED||o===r.a.ERROR||o===r.a.EMPTY||o===r.a.ABORT){Object(i.c)(t,n.a.CHANGE,this.handleTileChange,this);const e=t.getKey();e in this.tilesLoadingKeys_&&(delete this.tilesLoadingKeys_[e],--this.tilesLoading_),this.tileChangeCallback_()}},l.prototype.loadMoreTiles=function(e,t){let o=0,a=!1,i,n,s;for(;this.tilesLoading_<e&&o<t&&0<this.getCount();)n=this.dequeue()[0],s=n.getKey(),i=n.getState(),i===r.a.ABORT?a=!0:i===r.a.IDLE&&!(s in this.tilesLoadingKeys_)&&(this.tilesLoadingKeys_[s]=!0,++this.tilesLoading_,++o,n.load());0==o&&a&&this.tileChangeCallback_()},t.a=l},function(e,t){"use strict";t.a={CENTER:"center",RESOLUTION:"resolution",ROTATION:"rotation"}},function(e,t){"use strict";t.a={BOTTOM_LEFT:"bottom-left",BOTTOM_RIGHT:"bottom-right",TOP_LEFT:"top-left",TOP_RIGHT:"top-right"}},function(e,t){"use strict";t.a={UNKNOWN:0,INTERSECTING:1,ABOVE:2,RIGHT:4,BELOW:8,LEFT:16}},function(e,t,o){"use strict";function a(e,t,o){const a=e.getCode(),r=t.getCode();a in n||(n[a]={}),n[a][r]=o}function r(e,t){let o;return e in n&&t in n[e]&&(o=n[e][t]),o}t.b=function(){n={}},t.a=a,t.c=r;var i=o(10);let n={}},function(e,t){"use strict";t.a=function(e,t,o,a,r,i){const n=[e[t],e[t+1]],s=[];for(let l;t+a<o;t+=a){if(s[0]=e[t+a],s[1]=e[t+a+1],l=r.call(i,n,s),l)return l;n[0]=s[0],n[1]=s[1]}return!1}},function(e,t,o){"use strict";var a=o(0),r=o(62),i=o(78),n=o(32),s=o(107),l=o(19),d=o(8),p=o(11),g=o(3),_=o(210),c=o(10),u=o(45);const y={LAYERS:"layers"},m=function(e){const t=e||{},o=Object(c.a)({},t);delete o.layers;let a=t.layers;_.a.call(this,o),this.layersListenerKeys_=[],this.listenerKeys_={},Object(d.a)(this,Object(n.b)(y.LAYERS),this.handleLayersChanged_,this),a?Array.isArray(a)?a=new r.b(a.slice(),{unique:!0}):(Object(l.a)(a instanceof r.b,43),a=a):a=new r.b(void 0,{unique:!0}),this.setLayers(a)};Object(a.g)(m,_.a),m.prototype.handleLayerChange_=function(){this.changed()},m.prototype.handleLayersChanged_=function(){this.layersListenerKeys_.forEach(d.e),this.layersListenerKeys_.length=0;const e=this.getLayers();for(const t in this.layersListenerKeys_.push(Object(d.a)(e,i.a.ADD,this.handleLayersAdd_,this),Object(d.a)(e,i.a.REMOVE,this.handleLayersRemove_,this)),this.listenerKeys_)this.listenerKeys_[t].forEach(d.e);Object(c.b)(this.listenerKeys_);const t=e.getArray();for(let e=0,o=t.length;e<o;e++){const o=t[e];this.listenerKeys_[Object(a.f)(o).toString()]=[Object(d.a)(o,s.a.PROPERTYCHANGE,this.handleLayerChange_,this),Object(d.a)(o,p.a.CHANGE,this.handleLayerChange_,this)]}this.changed()},m.prototype.handleLayersAdd_=function(e){const t=e.element,o=Object(a.f)(t).toString();this.listenerKeys_[o]=[Object(d.a)(t,s.a.PROPERTYCHANGE,this.handleLayerChange_,this),Object(d.a)(t,p.a.CHANGE,this.handleLayerChange_,this)],this.changed()},m.prototype.handleLayersRemove_=function(e){const t=e.element,o=Object(a.f)(t).toString();this.listenerKeys_[o].forEach(d.e),delete this.listenerKeys_[o],this.changed()},m.prototype.getLayers=function(){return this.get(y.LAYERS)},m.prototype.setLayers=function(e){this.set(y.LAYERS,e)},m.prototype.getLayersArray=function(e){const t=void 0===e?[]:e;return this.getLayers().forEach(function(e){e.getLayersArray(t)}),t},m.prototype.getLayerStatesArray=function(e){const t=e===void 0?[]:e,o=t.length;this.getLayers().forEach(function(e){e.getLayerStatesArray(t)});const a=this.getLayerState();for(let r=o,i=t.length;r<i;r++){const e=t[r];e.opacity*=a.opacity,e.visible=e.visible&&a.visible,e.maxResolution=Math.min(e.maxResolution,a.maxResolution),e.minResolution=Math.max(e.minResolution,a.minResolution),a.extent!==void 0&&(e.extent===void 0?e.extent=a.extent:e.extent=Object(g.B)(e.extent,a.extent))}return t},m.prototype.getSourceState=function(){return u.a.READY},t.a=m},function(e,t,o){"use strict";var a=o(0),r=o(32),i=o(211),n=o(17),s=o(10);const l=function(e){r.a.call(this);const t=Object(s.a)({},e);t[i.a.OPACITY]=e.opacity===void 0?1:e.opacity,t[i.a.VISIBLE]=!(e.visible!==void 0)||e.visible,t[i.a.Z_INDEX]=e.zIndex===void 0?0:e.zIndex,t[i.a.MAX_RESOLUTION]=e.maxResolution===void 0?Infinity:e.maxResolution,t[i.a.MIN_RESOLUTION]=e.minResolution===void 0?0:e.minResolution,this.setProperties(t),this.state_={layer:this,managed:!0},this.type};Object(a.g)(l,r.a),l.prototype.getType=function(){return this.type},l.prototype.getLayerState=function(){return this.state_.opacity=Object(n.a)(this.getOpacity(),0,1),this.state_.sourceState=this.getSourceState(),this.state_.visible=this.getVisible(),this.state_.extent=this.getExtent(),this.state_.zIndex=this.getZIndex(),this.state_.maxResolution=this.getMaxResolution(),this.state_.minResolution=Math.max(this.getMinResolution(),0),this.state_},l.prototype.getLayersArray=function(){},l.prototype.getLayerStatesArray=function(){},l.prototype.getExtent=function(){return this.get(i.a.EXTENT)},l.prototype.getMaxResolution=function(){return this.get(i.a.MAX_RESOLUTION)},l.prototype.getMinResolution=function(){return this.get(i.a.MIN_RESOLUTION)},l.prototype.getOpacity=function(){return this.get(i.a.OPACITY)},l.prototype.getSourceState=function(){},l.prototype.getVisible=function(){return this.get(i.a.VISIBLE)},l.prototype.getZIndex=function(){return this.get(i.a.Z_INDEX)},l.prototype.setExtent=function(e){this.set(i.a.EXTENT,e)},l.prototype.setMaxResolution=function(e){this.set(i.a.MAX_RESOLUTION,e)},l.prototype.setMinResolution=function(e){this.set(i.a.MIN_RESOLUTION,e)},l.prototype.setOpacity=function(e){this.set(i.a.OPACITY,e)},l.prototype.setVisible=function(e){this.set(i.a.VISIBLE,e)},l.prototype.setZIndex=function(e){this.set(i.a.Z_INDEX,e)},t.a=l},function(e,t){"use strict";t.a={OPACITY:"opacity",VISIBLE:"visible",EXTENT:"extent",Z_INDEX:"zIndex",MAX_RESOLUTION:"maxResolution",MIN_RESOLUTION:"minResolution",SOURCE:"source"}},function(e,t,o){"use strict";t.a=function(e){const t=e?e:{},o=new a.b,s=void 0===t.zoom||t.zoom;s&&o.push(new n.a(t.zoomOptions));const l=void 0===t.rotate||t.rotate;l&&o.push(new i.a(t.rotateOptions));const d=void 0===t.attribution||t.attribution;return d&&o.push(new r.a(t.attributionOptions)),o};var a=o(62),r=o(213),i=o(214),n=o(215)},function(e,t,o){"use strict";function a(e){this.updateElement_(e.frameState)}var r=o(0),i=o(13),n=o(58),s=o(46),l=o(23),d=o(8),p=o(11),g=o(74);const _=function(e){const t=e?e:{};this.ulElement_=document.createElement("UL"),this.collapsed_=!(t.collapsed!==void 0)||t.collapsed,this.collapsible_=!(t.collapsible!==void 0)||t.collapsible,this.collapsible_||(this.collapsed_=!1);const o=t.className===void 0?"ol-attribution":t.className,r=t.tipLabel===void 0?"Attributions":t.tipLabel,i=t.collapseLabel===void 0?"\xBB":t.collapseLabel;"string"==typeof i?(this.collapseLabel_=document.createElement("span"),this.collapseLabel_.textContent=i):this.collapseLabel_=i;const l=t.label===void 0?"i":t.label;"string"==typeof l?(this.label_=document.createElement("span"),this.label_.textContent=l):this.label_=l;const g=this.collapsible_&&!this.collapsed_?this.collapseLabel_:this.label_,_=document.createElement("button");_.setAttribute("type","button"),_.title=r,_.appendChild(g),Object(d.a)(_,p.a.CLICK,this.handleClick_,this);const c=o+" "+s.e+" "+s.b+(this.collapsed_&&this.collapsible_?" "+s.a:"")+(this.collapsible_?"":" ol-uncollapsible"),u=document.createElement("div");u.className=c,u.appendChild(this.ulElement_),u.appendChild(_),n.a.call(this,{element:u,render:t.render||a,target:t.target}),this.renderedAttributions_=[],this.renderedVisible_=!0};Object(r.g)(_,n.a),_.prototype.getSourceAttributions_=function(e){const t={},o=[],a=e.layerStatesArray,r=e.viewState.resolution;for(let n=0,i=a.length;n<i;++n){const i=a[n];if(!Object(g.b)(i,r))continue;const s=i.layer.getSource();if(!s)continue;const l=s.getAttributions();if(!l)continue;const d=l(e);if(d)if(Array.isArray(d))for(let e=0,a=d.length;e<a;++e)d[e]in t||(o.push(d[e]),t[d[e]]=!0);else d in t||(o.push(d),t[d]=!0)}return o},_.prototype.updateElement_=function(e){if(!e)return void(this.renderedVisible_&&(this.element.style.display="none",this.renderedVisible_=!1));const t=this.getSourceAttributions_(e),o=0<t.length;if(this.renderedVisible_!=o&&(this.element.style.display=o?"":"none",this.renderedVisible_=o),!Object(i.b)(t,this.renderedAttributions_)){Object(l.d)(this.ulElement_);for(let e=0,o=t.length;e<o;++e){const o=document.createElement("LI");o.innerHTML=t[e],this.ulElement_.appendChild(o)}this.renderedAttributions_=t}},_.prototype.handleClick_=function(e){e.preventDefault(),this.handleToggle_()},_.prototype.handleToggle_=function(){this.element.classList.toggle(s.a),this.collapsed_?Object(l.f)(this.collapseLabel_,this.label_):Object(l.f)(this.label_,this.collapseLabel_),this.collapsed_=!this.collapsed_},_.prototype.getCollapsible=function(){return this.collapsible_},_.prototype.setCollapsible=function(e){this.collapsible_===e||(this.collapsible_=e,this.element.classList.toggle("ol-uncollapsible"),!e&&this.collapsed_&&this.handleToggle_())},_.prototype.setCollapsed=function(e){this.collapsible_&&this.collapsed_!==e&&this.handleToggle_()},_.prototype.getCollapsed=function(){return this.collapsed_},t.a=_},function(e,t,o){"use strict";function a(e){const t=e.frameState;if(t){const e=t.viewState.rotation;if(e!=this.rotation_){const t="rotate("+e+"rad)";if(this.autoHide_){const t=this.element.classList.contains(i.c);t||0!==e?t&&0!==e&&this.element.classList.remove(i.c):this.element.classList.add(i.c)}this.label_.style.msTransform=t,this.label_.style.webkitTransform=t,this.label_.style.transform=t}this.rotation_=e}}var r=o(58),i=o(46),n=o(51),s=o(8),l=o(11),d=o(0);const p=function(e){const t=e?e:{},o=t.className===void 0?"ol-rotate":t.className,n=t.label===void 0?"\u21E7":t.label;this.label_=null,"string"==typeof n?(this.label_=document.createElement("span"),this.label_.className="ol-compass",this.label_.textContent=n):(this.label_=n,this.label_.classList.add("ol-compass"));const d=t.tipLabel?t.tipLabel:"Reset rotation",g=document.createElement("button");g.className=o+"-reset",g.setAttribute("type","button"),g.title=d,g.appendChild(this.label_),Object(s.a)(g,l.a.CLICK,p.prototype.handleClick_,this);const _=o+" "+i.e+" "+i.b,c=document.createElement("div");c.className=_,c.appendChild(g),this.callResetNorth_=t.resetNorth?t.resetNorth:void 0,r.a.call(this,{element:c,render:t.render||a,target:t.target}),this.duration_=t.duration===void 0?250:t.duration,this.autoHide_=!(t.autoHide!==void 0)||t.autoHide,this.rotation_=void 0,this.autoHide_&&this.element.classList.add(i.c)};Object(d.g)(p,r.a),p.prototype.handleClick_=function(e){e.preventDefault(),this.callResetNorth_===void 0?this.resetNorth_():this.callResetNorth_()},p.prototype.resetNorth_=function(){const e=this.getMap(),t=e.getView();t&&(t.getRotation()===void 0||(0<this.duration_?t.animate({rotation:0,duration:this.duration_,easing:n.b}):t.setRotation(0)))},t.a=p},function(e,t,o){"use strict";var a=o(0),r=o(8),i=o(11),n=o(58),s=o(46),l=o(51);const d=function(e){const t=e?e:{},o=t.className===void 0?"ol-zoom":t.className,a=t.delta===void 0?1:t.delta,l=t.zoomInLabel===void 0?"+":t.zoomInLabel,p=t.zoomOutLabel===void 0?"\u2212":t.zoomOutLabel,g=t.zoomInTipLabel===void 0?"Zoom in":t.zoomInTipLabel,_=t.zoomOutTipLabel===void 0?"Zoom out":t.zoomOutTipLabel,c=document.createElement("button");c.className=o+"-in",c.setAttribute("type","button"),c.title=g,c.appendChild("string"==typeof l?document.createTextNode(l):l),Object(r.a)(c,i.a.CLICK,d.prototype.handleClick_.bind(this,a));const u=document.createElement("button");u.className=o+"-out",u.setAttribute("type","button"),u.title=_,u.appendChild("string"==typeof p?document.createTextNode(p):p),Object(r.a)(u,i.a.CLICK,d.prototype.handleClick_.bind(this,-a));const y=o+" "+s.e+" "+s.b,m=document.createElement("div");m.className=y,m.appendChild(c),m.appendChild(u),n.a.call(this,{element:m,target:t.target}),this.duration_=t.duration===void 0?250:t.duration};Object(a.g)(d,n.a),d.prototype.handleClick_=function(e,t){t.preventDefault(),this.zoomByDelta_(e)},d.prototype.zoomByDelta_=function(e){const t=this.getMap(),o=t.getView();if(o){const t=o.getResolution();if(t){const a=o.constrainResolution(t,e);0<this.duration_?(o.getAnimating()&&o.cancelAnimations(),o.animate({resolution:a,duration:this.duration_,easing:l.b})):o.setResolution(a)}}},t.a=d},function(e,t,o){"use strict";function a(e){let t=!1;const o=e.originalEvent;if(e.type==i.a.DBLCLICK){const a=e.map,r=e.coordinate,i=o.shiftKey?-this.delta_:this.delta_,s=a.getView();Object(n.f)(s,i,r,this.duration_),e.preventDefault(),t=!0}return!t}var r=o(0),i=o(71),n=o(47);const s=function(e){const t=e?e:{};this.delta_=t.delta?t.delta:1,n.a.call(this,{handleEvent:a}),this.duration_=t.duration===void 0?250:t.duration};Object(r.g)(s,n.a),t.a=s},function(e,t,o){"use strict";function a(e){const t=this.targetPointers,o=Object(_.a)(t);if(t.length!=this.lastPointersCount_)this.kinetic_&&this.kinetic_.begin();else if(this.kinetic_&&this.kinetic_.update(o[0],o[1]),this.lastCentroid){const t=this.lastCentroid[0]-o[0],a=o[1]-this.lastCentroid[1],r=e.map,i=r.getView();let n=[t,a];Object(l.i)(n,i.getResolution()),Object(l.h)(n,i.getRotation()),Object(l.a)(n,i.getCenter()),n=i.constrainCenter(n),i.setCenter(n)}this.lastCentroid=o,this.lastPointersCount_=t.length}function r(e){const t=e.map,o=t.getView();if(0===this.targetPointers.length){if(!this.noKinetic_&&this.kinetic_&&this.kinetic_.end()){const e=this.kinetic_.getDistance(),a=this.kinetic_.getAngle(),r=o.getCenter(),i=t.getPixelFromCoordinate(r),n=t.getCoordinateFromPixel([i[0]-e*Math.cos(a),i[1]-e*Math.sin(a)]);o.animate({center:o.constrainCenter(n),duration:500,easing:d.b})}return o.setHint(s.a.INTERACTING,-1),!1}return this.kinetic_&&this.kinetic_.begin(),this.lastCentroid=null,!0}function i(e){if(0<this.targetPointers.length&&this.condition_(e)){const t=e.map,o=t.getView();return this.lastCentroid=null,this.handlingDownUpSequence||o.setHint(s.a.INTERACTING,1),o.getAnimating()&&o.setCenter(e.frameState.viewState.center),this.kinetic_&&this.kinetic_.begin(),this.noKinetic_=1<this.targetPointers.length,!0}return!1}var n=o(0),s=o(40),l=o(41),d=o(51),p=o(38),g=o(18),_=o(48);const c=function(e){_.b.call(this,{handleDownEvent:i,handleDragEvent:a,handleUpEvent:r});const t=e?e:{};this.kinetic_=t.kinetic,this.lastCentroid=null,this.lastPointersCount_,this.condition_=t.condition?t.condition:p.i,this.noKinetic_=!1};Object(n.g)(c,_.b),c.prototype.shouldStopEvent=g.a,t.a=c},function(e,t,o){"use strict";function a(e){if(Object(d.g)(e)){const t=e.map,o=t.getView();if(o.getConstraints().rotation!==s.c){const a=t.getSize(),r=e.pixel,i=Math.atan2(a[1]/2-r[1],r[0]-a[0]/2);if(void 0!==this.lastAngle_){const e=i-this.lastAngle_,t=o.getRotation();Object(g.d)(o,t-e)}this.lastAngle_=i}}}function r(e){if(!Object(d.g)(e))return!0;const t=e.map,o=t.getView();o.setHint(l.a.INTERACTING,-1);const a=o.getRotation();return Object(g.c)(o,a,void 0,this.duration_),!1}function i(e){if(!Object(d.g)(e))return!1;if(Object(d.f)(e)&&this.condition_(e)){const t=e.map;return t.getView().setHint(l.a.INTERACTING,1),this.lastAngle_=void 0,!0}return!1}var n=o(0),s=o(130),l=o(40),d=o(38),p=o(18),g=o(47),_=o(48);const c=function(e){const t=e?e:{};_.b.call(this,{handleDownEvent:i,handleDragEvent:a,handleUpEvent:r}),this.condition_=t.condition?t.condition:d.b,this.lastAngle_=void 0,this.duration_=t.duration===void 0?250:t.duration};Object(n.g)(c,_.b),c.prototype.shouldStopEvent=p.a,t.a=c},function(e,t,o){"use strict";var a=o(0),r=o(51),i=o(38),n=o(3),s=o(220);const l=function(e){const t=e?e:{},o=t.condition?t.condition:i.m;this.duration_=t.duration===void 0?200:t.duration,this.out_=t.out!==void 0&&t.out,s.a.call(this,{condition:o,className:t.className||"ol-dragzoom"})};Object(a.g)(l,s.a),l.prototype.onBoxEnd=function(){const e=this.getMap(),t=e.getView(),o=e.getSize();let a=this.getGeometry().getExtent();if(this.out_){const r=t.calculateExtent(o),i=Object(n.n)([e.getPixelFromCoordinate(Object(n.v)(a)),e.getPixelFromCoordinate(Object(n.D)(a))]),s=t.getResolutionForExtent(i,o);Object(n.J)(r,1/s),a=r}const i=t.constrainResolution(t.getResolutionForExtent(a,o));let s=Object(n.x)(a);s=t.constrainCenter(s),t.animate({resolution:i,center:s,duration:this.duration_,easing:r.b})},t.a=l},function(e,t,o){"use strict";function a(e,t,o){const a=o[0]-t[0],r=o[1]-t[1];return a*a+r*r>=this.minArea_}function r(e){Object(d.g)(e)&&(this.box_.setPixels(this.startPixel_,e.pixel),this.dispatchEvent(new u(c.BOXDRAG,e.coordinate,e)))}function i(e){return!Object(d.g)(e)||(this.box_.setMap(null),this.boxEndCondition_(e,this.startPixel_,e.pixel)&&(this.onBoxEnd(e),this.dispatchEvent(new u(c.BOXEND,e.coordinate,e))),!1)}function n(e){return!!Object(d.g)(e)&&!!(Object(d.f)(e)&&this.condition_(e))&&(this.startPixel_=e.pixel,this.box_.setMap(e.map),this.box_.setPixels(this.startPixel_,this.startPixel_),this.dispatchEvent(new u(c.BOXSTART,e.coordinate,e)),!0)}var s=o(33),l=o(0),d=o(38),p=o(18),g=o(48),_=o(302);const c={BOXSTART:"boxstart",BOXDRAG:"boxdrag",BOXEND:"boxend"},u=function(e,t,o){s.a.call(this,e),this.coordinate=t,this.mapBrowserEvent=o};Object(l.g)(u,s.a);const y=function(e){g.b.call(this,{handleDownEvent:n,handleDragEvent:r,handleUpEvent:i});const t=e?e:{};this.box_=new _.a(t.className||"ol-dragbox"),this.minArea_=t.minArea===void 0?64:t.minArea,this.startPixel_=null,this.condition_=t.condition?t.condition:d.c,this.boxEndCondition_=t.boxEndCondition?t.boxEndCondition:a};Object(l.g)(y,g.b),y.prototype.getGeometry=function(){return this.box_.getGeometry()},y.prototype.onBoxEnd=p.c,t.a=y},function(e,t,o){"use strict";function a(e){let t=!1;if(e.type==n.a.KEYDOWN){const o=e.originalEvent,a=o.keyCode;if(this.condition_(e)&&(a==s.a.DOWN||a==s.a.LEFT||a==s.a.RIGHT||a==s.a.UP)){const o=e.map,r=o.getView(),n=r.getResolution()*this.pixelDelta_;let l=0,p=0;a==s.a.DOWN?p=-n:a==s.a.LEFT?l=-n:a==s.a.RIGHT?l=n:p=n;const g=[l,p];Object(i.h)(g,r.getRotation()),Object(d.b)(r,g,this.duration_),e.preventDefault(),t=!0}}return!t}var r=o(0),i=o(41),n=o(11),s=o(303),l=o(38),d=o(47);const p=function(e){d.a.call(this,{handleEvent:a});const t=e||{};this.defaultCondition_=function(e){return Object(l.i)(e)&&Object(l.o)(e)},this.condition_=t.condition===void 0?this.defaultCondition_:t.condition,this.duration_=t.duration===void 0?100:t.duration,this.pixelDelta_=t.pixelDelta===void 0?128:t.pixelDelta};Object(r.g)(p,d.a),t.a=p},function(e,t,o){"use strict";function a(e){let t=!1;if(e.type==i.a.KEYDOWN||e.type==i.a.KEYPRESS){const o=e.originalEvent,a=o.charCode;if(this.condition_(e)&&(a==43||a==45)){const o=e.map,r=a==43?this.delta_:-this.delta_,i=o.getView();Object(s.f)(i,r,void 0,this.duration_),e.preventDefault(),t=!0}}return!t}var r=o(0),i=o(11),n=o(38),s=o(47);const l=function(e){s.a.call(this,{handleEvent:a});const t=e?e:{};this.condition_=t.condition?t.condition:n.o,this.delta_=t.delta?t.delta:1,this.duration_=t.duration===void 0?100:t.duration};Object(r.g)(l,s.a),t.a=l},function(e,t,o){"use strict";function a(e){if(!this.condition_(e))return!0;const t=e.type;if(t!==d.a.WHEEL&&t!==d.a.MOUSEWHEEL)return!0;e.preventDefault();const o=e.map,a=e.originalEvent;this.useAnchor_&&(this.lastAnchor_=e.coordinate);let i;if(e.type==d.a.WHEEL?(i=a.deltaY,p.c&&a.deltaMode===WheelEvent.DOM_DELTA_PIXEL&&(i/=p.b),a.deltaMode===WheelEvent.DOM_DELTA_LINE&&(i*=40)):e.type==d.a.MOUSEWHEEL&&(i=-a.wheelDeltaY,p.h&&(i/=3)),0===i)return!1;const s=Date.now();if(void 0===this.startTime_&&(this.startTime_=s),(!this.mode_||s-this.startTime_>this.trackpadEventGap_)&&(this.mode_=4>Math.abs(i)?c.TRACKPAD:c.WHEEL),this.mode_===c.TRACKPAD){const e=o.getView();this.trackpadTimeoutId_?clearTimeout(this.trackpadTimeoutId_):e.setHint(n.a.INTERACTING,1),this.trackpadTimeoutId_=setTimeout(this.decrementInteractingHint_.bind(this),this.trackpadEventGap_);let t=e.getResolution()*Math.pow(2,i/this.trackpadDeltaPerZoom_);const a=e.getMinResolution(),d=e.getMaxResolution();let p=0;if(t<a?(t=r(t,a/this.trackpadZoomBuffer_),p=1):t>d&&(t=Math.min(t,d*this.trackpadZoomBuffer_),p=-1),this.lastAnchor_){const o=e.calculateCenterZoom(t,this.lastAnchor_);e.setCenter(e.constrainCenter(o))}return e.setResolution(t),0==p&&this.constrainResolution_&&e.animate({resolution:e.constrainResolution(t,0<i?-1:1),easing:l.b,anchor:this.lastAnchor_,duration:this.duration_}),0<p?e.animate({resolution:a,easing:l.b,anchor:this.lastAnchor_,duration:500}):0>p&&e.animate({resolution:d,easing:l.b,anchor:this.lastAnchor_,duration:500}),this.startTime_=s,!1}this.delta_+=i;const g=r(this.timeout_-(s-this.startTime_),0);return clearTimeout(this.timeoutId_),this.timeoutId_=setTimeout(this.handleWheelZoom_.bind(this,o),g),!1}var r=Math.max,i=o(0),n=o(40),s=o(38),l=o(51),d=o(11),p=o(37),g=o(47),_=o(17);const c={TRACKPAD:"trackpad",WHEEL:"wheel"},u=function(e){g.a.call(this,{handleEvent:a});const t=e||{};this.delta_=0,this.duration_=t.duration===void 0?250:t.duration,this.timeout_=t.timeout===void 0?80:t.timeout,this.useAnchor_=!(t.useAnchor!==void 0)||t.useAnchor,this.constrainResolution_=t.constrainResolution||!1,this.condition_=t.condition?t.condition:s.c,this.lastAnchor_=null,this.startTime_=void 0,this.timeoutId_=void 0,this.mode_=void 0,this.trackpadEventGap_=400,this.trackpadTimeoutId_=void 0,this.trackpadDeltaPerZoom_=300,this.trackpadZoomBuffer_=1.5};Object(i.g)(u,g.a),u.prototype.decrementInteractingHint_=function(){this.trackpadTimeoutId_=void 0;const e=this.getMap().getView();e.setHint(n.a.INTERACTING,-1)},u.prototype.handleWheelZoom_=function(e){const t=e.getView();t.getAnimating()&&t.cancelAnimations();const o=1,a=Object(_.a)(this.delta_,-o,o);Object(g.f)(t,-a,this.lastAnchor_,this.duration_),this.mode_=void 0,this.delta_=0,this.lastAnchor_=null,this.startTime_=void 0,this.timeoutId_=void 0},u.prototype.setMouseAnchor=function(e){this.useAnchor_=e,e||(this.lastAnchor_=null)},t.a=u},function(e,t,o){"use strict";function a(e){let t=0;const o=this.targetPointers[0],a=this.targetPointers[1],r=Math.atan2(a.clientY-o.clientY,a.clientX-o.clientX);if(void 0!==this.lastAngle_){const e=r-this.lastAngle_;this.rotationDelta_+=e,!this.rotating_&&Math.abs(this.rotationDelta_)>this.threshold_&&(this.rotating_=!0),t=e}this.lastAngle_=r;const i=e.map,n=i.getView();if(n.getConstraints().rotation!==g.c){const e=i.getViewport().getBoundingClientRect(),o=Object(p.a)(this.targetPointers);if(o[0]-=e.left,o[1]-=e.top,this.anchor_=i.getCoordinateFromPixel(o),this.rotating_){const e=n.getRotation();i.render(),Object(d.d)(n,e+t,this.anchor_)}}}function r(e){if(2>this.targetPointers.length){const t=e.map,o=t.getView();if(o.setHint(s.a.INTERACTING,-1),this.rotating_){const e=o.getRotation();Object(d.c)(o,e,this.anchor_,this.duration_)}return!1}return!0}function i(e){if(2<=this.targetPointers.length){const t=e.map;return this.anchor_=null,this.lastAngle_=void 0,this.rotating_=!1,this.rotationDelta_=0,this.handlingDownUpSequence||t.getView().setHint(s.a.INTERACTING,1),!0}return!1}var n=o(0),s=o(40),l=o(18),d=o(47),p=o(48),g=o(130);const _=function(e){p.b.call(this,{handleDownEvent:i,handleDragEvent:a,handleUpEvent:r});const t=e||{};this.anchor_=null,this.lastAngle_=void 0,this.rotating_=!1,this.rotationDelta_=0,this.threshold_=t.threshold===void 0?.3:t.threshold,this.duration_=t.duration===void 0?250:t.duration};Object(n.g)(_,p.b),_.prototype.shouldStopEvent=l.a,t.a=_},function(e,t,o){"use strict";function a(e){let t=1;const o=this.targetPointers[0],a=this.targetPointers[1],r=o.clientX-a.clientX,i=o.clientY-a.clientY,n=Math.sqrt(r*r+i*i);this.lastDistance_!==void 0&&(t=this.lastDistance_/n),this.lastDistance_=n;const s=e.map,l=s.getView(),g=l.getResolution(),_=l.getMaxResolution(),c=l.getMinResolution();let u=g*t;u>_?(t=_/g,u=_):u<c&&(t=c/g,u=c),1!=t&&(this.lastScaleDelta_=t);const y=s.getViewport().getBoundingClientRect(),m=Object(p.a)(this.targetPointers);m[0]-=y.left,m[1]-=y.top,this.anchor_=s.getCoordinateFromPixel(m),s.render(),Object(d.g)(l,u,this.anchor_)}function r(e){if(2>this.targetPointers.length){const t=e.map,o=t.getView();o.setHint(s.a.INTERACTING,-1);const a=o.getResolution();if(this.constrainResolution_||a<o.getMinResolution()||a>o.getMaxResolution()){const e=this.lastScaleDelta_-1;Object(d.e)(o,a,this.anchor_,this.duration_,e)}return!1}return!0}function i(e){if(2<=this.targetPointers.length){const t=e.map;return this.anchor_=null,this.lastDistance_=void 0,this.lastScaleDelta_=1,this.handlingDownUpSequence||t.getView().setHint(s.a.INTERACTING,1),!0}return!1}var n=o(0),s=o(40),l=o(18),d=o(47),p=o(48);const g=function(e){p.b.call(this,{handleDownEvent:i,handleDragEvent:a,handleUpEvent:r});const t=e?e:{};this.constrainResolution_=t.constrainResolution||!1,this.anchor_=null,this.duration_=t.duration===void 0?400:t.duration,this.lastDistance_=void 0,this.lastScaleDelta_=1};Object(n.g)(g,p.b),g.prototype.shouldStopEvent=l.a,t.a=g},function(e,t,o){"use strict";var a=o(0),r=o(227);const i=function(e){const t=e||{};r.a.call(this,{points:Infinity,fill:t.fill,radius:t.radius,snapToPixel:t.snapToPixel,stroke:t.stroke,atlasManager:t.atlasManager})};Object(a.g)(i,r.a),i.prototype.clone=function(){const e=new i({fill:this.getFill()?this.getFill().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,radius:this.getRadius(),snapToPixel:this.getSnapToPixel(),atlasManager:this.atlasManager_});return e.setOpacity(this.getOpacity()),e.setScale(this.getScale()),e},i.prototype.setRadius=function(e){this.radius_=e,this.render_(this.atlasManager_)},t.a=i},function(e,t,o){"use strict";var a=Math.sin,r=Math.cos,n=Math.PI,i=o(0),s=o(112),l=o(23),d=o(37),p=o(59),g=o(67),_=o(161);const c=function(e){this.checksums_=null,this.canvas_=null,this.hitDetectionCanvas_=null,this.fill_=e.fill===void 0?null:e.fill,this.origin_=[0,0],this.points_=e.points,this.radius_=e.radius===void 0?e.radius1:e.radius,this.radius2_=e.radius2,this.angle_=e.angle===void 0?0:e.angle,this.stroke_=e.stroke===void 0?null:e.stroke,this.anchor_=null,this.size_=null,this.imageSize_=null,this.hitDetectionImageSize_=null,this.atlasManager_=e.atlasManager,this.render_(this.atlasManager_);const t=!(e.snapToPixel!==void 0)||e.snapToPixel,o=e.rotateWithView!==void 0&&e.rotateWithView;_.a.call(this,{opacity:1,rotateWithView:o,rotation:e.rotation===void 0?0:e.rotation,scale:1,snapToPixel:t})};Object(i.g)(c,_.a),c.prototype.clone=function(){const e=new c({fill:this.getFill()?this.getFill().clone():void 0,points:this.getPoints(),radius:this.getRadius(),radius2:this.getRadius2(),angle:this.getAngle(),snapToPixel:this.getSnapToPixel(),stroke:this.getStroke()?this.getStroke().clone():void 0,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),atlasManager:this.atlasManager_});return e.setOpacity(this.getOpacity()),e.setScale(this.getScale()),e},c.prototype.getAnchor=function(){return this.anchor_},c.prototype.getAngle=function(){return this.angle_},c.prototype.getFill=function(){return this.fill_},c.prototype.getHitDetectionImage=function(){return this.hitDetectionCanvas_},c.prototype.getImage=function(){return this.canvas_},c.prototype.getImageSize=function(){return this.imageSize_},c.prototype.getHitDetectionImageSize=function(){return this.hitDetectionImageSize_},c.prototype.getImageState=function(){return p.a.LOADED},c.prototype.getOrigin=function(){return this.origin_},c.prototype.getPoints=function(){return this.points_},c.prototype.getRadius=function(){return this.radius_},c.prototype.getRadius2=function(){return this.radius2_},c.prototype.getSize=function(){return this.size_},c.prototype.getStroke=function(){return this.stroke_},c.prototype.listenImageChange=function(){},c.prototype.load=function(){},c.prototype.unlistenImageChange=function(){},c.prototype.render_=function(e){let t="",o="",a=0,r=null,i=0,n=0,p,_;this.stroke_&&(_=this.stroke_.getColor(),null===_&&(_=g.k),_=Object(s.a)(_),n=this.stroke_.getWidth(),n===void 0&&(n=g.h),r=this.stroke_.getLineDash(),i=this.stroke_.getLineDashOffset(),!d.a&&(r=null,i=0),o=this.stroke_.getLineJoin(),o===void 0&&(o=g.g),t=this.stroke_.getLineCap(),t===void 0&&(t=g.d),a=this.stroke_.getMiterLimit(),a===void 0&&(a=g.i));let c=2*(this.radius_+n)+1;const u={strokeStyle:_,strokeWidth:n,size:c,lineCap:t,lineDash:r,lineDashOffset:i,lineJoin:o,miterLimit:a};if(e===void 0){const e=Object(l.a)(c,c);this.canvas_=e.canvas,c=this.canvas_.width,p=c,this.draw_(u,e,0,0),this.createHitDetectionCanvas_(u)}else{c=Math.round(c);const t=!this.fill_;let o;t&&(o=this.drawHitDetectionCanvas_.bind(this,u));const a=this.getChecksum(),r=e.add(a,c,c,this.draw_.bind(this,u),o);this.canvas_=r.image,this.origin_=[r.offsetX,r.offsetY],p=r.image.width,t?(this.hitDetectionCanvas_=r.hitImage,this.hitDetectionImageSize_=[r.hitImage.width,r.hitImage.height]):(this.hitDetectionCanvas_=this.canvas_,this.hitDetectionImageSize_=[p,p])}this.anchor_=[c/2,c/2],this.size_=[c,c],this.imageSize_=[p,p]},c.prototype.draw_=function(e,t,o,l){let d,i,p;t.setTransform(1,0,0,1,0,0),t.translate(o,l),t.beginPath();let _=this.points_;if(_===Infinity)t.arc(e.size/2,e.size/2,this.radius_,0,2*n,!0);else{const o=this.radius2_===void 0?this.radius_:this.radius2_;for(o!==this.radius_&&(_=2*_),d=0;d<=_;d++)i=2*d*n/_-n/2+this.angle_,p=0==d%2?this.radius_:o,t.lineTo(e.size/2+p*r(i),e.size/2+p*a(i))}if(this.fill_){let e=this.fill_.getColor();null===e&&(e=g.b),t.fillStyle=Object(s.a)(e),t.fill()}this.stroke_&&(t.strokeStyle=e.strokeStyle,t.lineWidth=e.strokeWidth,e.lineDash&&(t.setLineDash(e.lineDash),t.lineDashOffset=e.lineDashOffset),t.lineCap=e.lineCap,t.lineJoin=e.lineJoin,t.miterLimit=e.miterLimit,t.stroke()),t.closePath()},c.prototype.createHitDetectionCanvas_=function(e){if(this.hitDetectionImageSize_=[e.size,e.size],this.fill_)return void(this.hitDetectionCanvas_=this.canvas_);const t=Object(l.a)(e.size,e.size);this.hitDetectionCanvas_=t.canvas,this.drawHitDetectionCanvas_(e,t,0,0)},c.prototype.drawHitDetectionCanvas_=function(e,t,o,i){t.setTransform(1,0,0,1,0,0),t.translate(o,i),t.beginPath();let s=this.points_;if(s===Infinity)t.arc(e.size/2,e.size/2,this.radius_,0,2*n,!0);else{const o=this.radius2_===void 0?this.radius_:this.radius2_;o!==this.radius_&&(s=2*s);let l,i,d;for(l=0;l<=s;l++)d=2*l*n/s-n/2+this.angle_,i=0==l%2?this.radius_:o,t.lineTo(e.size/2+i*r(d),e.size/2+i*a(d))}t.fillStyle=g.b,t.fill(),this.stroke_&&(t.strokeStyle=e.strokeStyle,t.lineWidth=e.strokeWidth,e.lineDash&&(t.setLineDash(e.lineDash),t.lineDashOffset=e.lineDashOffset),t.stroke()),t.closePath()},c.prototype.getChecksum=function(){const e=this.stroke_?this.stroke_.getChecksum():"-",t=this.fill_?this.fill_.getChecksum():"-",o=!this.checksums_||e!=this.checksums_[1]||t!=this.checksums_[2]||this.radius_!=this.checksums_[3]||this.radius2_!=this.checksums_[4]||this.angle_!=this.checksums_[5]||this.points_!=this.checksums_[6];if(o){const o="r"+e+t+(this.radius_===void 0?"-":this.radius_.toString())+(this.radius2_===void 0?"-":this.radius2_.toString())+(this.angle_===void 0?"-":this.angle_.toString())+(this.points_===void 0?"-":this.points_.toString());this.checksums_=[o,e,t,this.radius_,this.radius2_,this.angle_,this.points_]}return this.checksums_[0]},t.a=c},function(e,t){"use strict";var o=Math.sqrt;t.a=function(e,t,a,r){let n=e[t],s=e[t+1],l=0;for(let d=t+r;d<a;d+=r){const t=e[d],a=e[d+1];l+=o((t-n)*(t-n)+(a-s)*(a-s)),n=t,s=a}return l}},function(e,t,o){"use strict";t.a=function(e,t,o,r){const n=[];let s=Object(a.j)();for(let l=0,i=o.length;l<i;++l){const i=o[l];s=Object(a.o)(e,t,i[0],r),n.push((s[0]+s[2])/2,(s[1]+s[3])/2),t=i[i.length-1]}return n};var a=o(3)},function(e,t){"use strict";t.a={IMAGE:"image",VECTOR:"vector"}},function(e,t,o){"use strict";function a(e,t,o,a){return function(r,n,s){const l=new XMLHttpRequest;l.open("GET","function"==typeof e?e(r,n,s):e,!0),t.getType()==i.a.ARRAY_BUFFER&&(l.responseType="arraybuffer"),l.onload=function(){if(!l.status||200<=l.status&&300>l.status){const e=t.getType();let r;e==i.a.JSON||e==i.a.TEXT?r=l.responseText:e==i.a.XML?(r=l.responseXML,!r&&(r=new DOMParser().parseFromString(l.responseText,"application/xml"))):e==i.a.ARRAY_BUFFER&&(r=l.response),r?o.call(this,t.readFeatures(r,{featureProjection:s}),t.readProjection(r),t.getLastExtent()):a.call(this)}else a.call(this)}.bind(this),l.onerror=function(){a.call(this)}.bind(this),l.send()}}t.a=a,t.b=function(e,t){return a(e,t,function(e){this.addFeatures(e)},r.c)};var r=o(18),i=o(114)},function(e,t,o){"use strict";function a(e){return!(e instanceof y.a)||(e.type!=u.a.POINTERMOVE||this.handlingDownUpSequence||this.handlePointerMove_(e),T.c.call(this,e),!1)}function r(e){const t=e.pixel,o=e.map,a=this.getExtent();let r=this.snapToVertex_(t,o);const i=function(e){let t=null,o=null;return e[0]==a[0]?t=a[2]:e[0]==a[2]&&(t=a[0]),e[1]==a[1]?o=a[3]:e[1]==a[3]&&(o=a[1]),null!==t&&null!==o?[t,o]:null};if(r&&a){const e=r[0]==a[0]||r[0]==a[2]?r[0]:null,t=r[1]==a[1]||r[1]==a[3]?r[1]:null;null!==e&&null!==t?this.pointerHandler_=d(i(r)):null===e?null!==t&&(this.pointerHandler_=p(i([a[0],t]),i([a[2],t]))):this.pointerHandler_=p(i([e,a[1]]),i([e,a[3]]))}else r=o.getCoordinateFromPixel(t),this.setExtent([r[0],r[1],r[0],r[1]]),this.pointerHandler_=d(r);return!0}function i(e){if(this.pointerHandler_){const t=e.coordinate;this.setExtent(this.pointerHandler_(t)),this.createOrUpdatePointerFeature_(t)}return!0}function n(){this.pointerHandler_=null;const e=this.getExtent();return e&&0!==Object(f.u)(e)||this.setExtent(null),!1}function s(){const e=Object(I.b)();return function(){return e[x.a.POLYGON]}}function l(){const e=Object(I.b)();return function(){return e[x.a.POINT]}}function d(e){return function(t){return Object(f.b)([e,t])}}function p(e,t){return e[0]==t[0]?function(o){return Object(f.b)([e,[o[0],t[1]]])}:e[1]==t[1]?function(o){return Object(f.b)([e,[t[0],o[1]]])}:null}function g(e){return[[[e[0],e[1]],[e[0],e[3]]],[[e[0],e[3]],[e[2],e[3]]],[[e[2],e[3]],[e[2],e[1]]],[[e[2],e[1]],[e[0],e[1]]]]}var _=o(0),c=o(15),u=o(71),y=o(109),m=o(41),h=o(33),f=o(3),x=o(22),E=o(21),C=o(29),T=o(48),S=o(25),R=o(12),I=o(65);const b={EXTENTCHANGED:"extentchanged"},v=function(e){h.a.call(this,b.EXTENTCHANGED),this.extent=e};Object(_.g)(v,h.a);const L=function(e){const t=e||{};this.extent_=null,this.pointerHandler_=null,this.pixelTolerance_=t.pixelTolerance===void 0?10:t.pixelTolerance,this.snappedToVertex_=!1,this.extentFeature_=null,this.vertexFeature_=null,e||(e={}),T.b.call(this,{handleDownEvent:r,handleDragEvent:i,handleEvent:a,handleUpEvent:n}),this.extentOverlay_=new S.a({source:new R.b({useSpatialIndex:!1,wrapX:!!e.wrapX}),style:e.boxStyle?e.boxStyle:s(),updateWhileAnimating:!0,updateWhileInteracting:!0}),this.vertexOverlay_=new S.a({source:new R.b({useSpatialIndex:!1,wrapX:!!e.wrapX}),style:e.pointerStyle?e.pointerStyle:l(),updateWhileAnimating:!0,updateWhileInteracting:!0}),e.extent&&this.setExtent(e.extent)};Object(_.g)(L,T.b),L.prototype.snapToVertex_=function(e,t){const o=t.getCoordinateFromPixel(e),a=function(e,t){return Object(m.k)(o,e)-Object(m.k)(o,t)},r=this.getExtent();if(r){const i=g(r);i.sort(a);const n=i[0];let s=Object(m.c)(o,n);const l=t.getPixelFromCoordinate(s);if(Object(m.f)(e,l)<=this.pixelTolerance_){const e=t.getPixelFromCoordinate(n[0]),o=t.getPixelFromCoordinate(n[1]),a=Object(m.j)(l,e),r=Object(m.j)(l,o),i=Math.sqrt(Math.min(a,r));return this.snappedToVertex_=i<=this.pixelTolerance_,this.snappedToVertex_&&(s=a>r?n[1]:n[0]),s}}return null},L.prototype.handlePointerMove_=function(e){const t=e.pixel,o=e.map;let a=this.snapToVertex_(t,o);a||(a=o.getCoordinateFromPixel(t)),this.createOrUpdatePointerFeature_(a)},L.prototype.createOrUpdateExtentFeature_=function(e){let t=this.extentFeature_;return t?e?t.setGeometry(Object(C.d)(e)):t.setGeometry(void 0):(t=e?new c.a(Object(C.d)(e)):new c.a({}),this.extentFeature_=t,this.extentOverlay_.getSource().addFeature(t)),t},L.prototype.createOrUpdatePointerFeature_=function(e){let t=this.vertexFeature_;if(!t)t=new c.a(new E.a(e)),this.vertexFeature_=t,this.vertexOverlay_.getSource().addFeature(t);else{const o=t.getGeometry();o.setCoordinates(e)}return t},L.prototype.setMap=function(e){this.extentOverlay_.setMap(e),this.vertexOverlay_.setMap(e),T.b.prototype.setMap.call(this,e)},L.prototype.getExtent=function(){return this.extent_},L.prototype.setExtent=function(e){this.extent_=e?e:null,this.createOrUpdateExtentFeature_(e),this.dispatchEvent(new v(this.extent_))},t.a=L},function(e,t,o){"use strict";var a=o(90),r=o(0),i=o(167),n=o(55),s=o(40),l=o(13),d=o(3),p=o(230),g=o(10),_=o(234),c=o(27);const u=function(e){_.a.call(this,e),this.image_=null,this.imageTransform_=Object(c.c)(),this.skippedFeatures_=[],this.vectorRenderer_=null};Object(r.g)(u,_.a),u.handles=function(e){return e.getType()===n.a.IMAGE||e.getType()===n.a.VECTOR&&e.getRenderMode()===p.a.IMAGE},u.create=function(e,t){const o=new u(t);if(t.getType()===n.a.VECTOR){const a=e.getLayerRendererConstructors();for(let r=0,i=a.length;r<i;++r){const i=a[r];if(i!==u&&i.handles(t)){o.setVectorRenderer(i.create(e,t));break}}}return o},u.prototype.disposeInternal=function(){this.vectorRenderer_&&this.vectorRenderer_.dispose(),_.a.prototype.disposeInternal.call(this)},u.prototype.getImage=function(){return this.image_?this.image_.getImage():null},u.prototype.getImageTransform=function(){return this.imageTransform_},u.prototype.prepareFrame=function(e,t){const o=e.pixelRatio,r=e.size,n=e.viewState,p=n.center,_=n.resolution;let u;const y=this.getLayer(),m=y.getSource(),h=e.viewHints;let f=e.extent;if(void 0!==t.extent&&(f=Object(d.B)(f,t.extent)),!h[s.a.ANIMATING]&&!h[s.a.INTERACTING]&&!Object(d.H)(f)){let r=n.projection;if(!a.a){const e=m.getProjection();e&&(r=e)}const s=this.vectorRenderer_;if(s){const a=s.context,r=Object(g.a)({},e,{size:[Object(d.E)(f)/_,Object(d.A)(f)/_],viewState:Object(g.a)({},e.viewState,{rotation:0})}),n=Object.keys(r.skippedFeatureUids).sort();s.prepareFrame(r,t)&&(s.replayGroupChanged||!Object(l.b)(n,this.skippedFeatures_))&&(a.canvas.width=r.size[0]*o,a.canvas.height=r.size[1]*o,s.composeFrame(r,t,a),this.image_=new i.a(f,_,o,a.canvas),this.skippedFeatures_=n)}else if(u=m.getImage(f,_,o,r),u){const e=this.loadImage(u);e&&(this.image_=u)}}if(this.image_){u=this.image_;const e=u.getExtent(),t=u.getResolution(),a=u.getPixelRatio(),i=o*t/(_*a),n=Object(c.b)(this.imageTransform_,o*r[0]/2,o*r[1]/2,i,i,0,a*(e[0]-p[0])/t,a*(p[1]-e[3])/t);Object(c.b)(this.coordinateToCanvasPixelTransform,o*r[0]/2-n[4],o*r[1]/2-n[5],o/_,-o/_,0,-p[0],-p[1]),this.renderedResolution=t*o/a}return!!this.image_},u.prototype.forEachFeatureAtCoordinate=function(e,t,o,a,r){return this.vectorRenderer_?this.vectorRenderer_.forEachFeatureAtCoordinate(e,t,o,a,r):_.a.prototype.forEachFeatureAtCoordinate.call(this,e,t,o,a,r)},u.prototype.setVectorRenderer=function(e){this.vectorRenderer_&&this.vectorRenderer_.dispose(),this.vectorRenderer_=e},t.a=u},function(e,t,o){"use strict";var a=Math.round,r=o(0),i=o(41),n=o(23),s=o(3),l=o(18),d=o(235),p=o(27);const g=function(e){d.a.call(this,e),this.coordinateToCanvasPixelTransform=Object(p.c)(),this.hitCanvasContext_=null};Object(r.g)(g,d.a),g.prototype.composeFrame=function(e,t,o){this.preCompose(o,e);const r=this.getImage();if(r){const i=t.extent,n=i!==void 0&&!Object(s.g)(i,e.extent)&&Object(s.F)(i,e.extent);n&&this.clip(o,e,i);const l=this.getImageTransform(),d=o.globalAlpha;o.globalAlpha=t.opacity;const p=l[4],g=l[5],_=r.width*l[0],c=r.height*l[3];o.drawImage(r,0,0,+r.width,+r.height,a(p),a(g),a(_),a(c)),o.globalAlpha=d,n&&o.restore()}this.postCompose(o,e,t)},g.prototype.getImage=function(){},g.prototype.getImageTransform=function(){},g.prototype.forEachFeatureAtCoordinate=function(e,t,o,a,r){const i=this.getLayer(),n=i.getSource(),s=t.viewState.resolution,l=t.viewState.rotation,d=t.skippedFeatureUids;return n.forEachFeatureAtCoordinate(e,s,l,o,d,function(e){return a.call(r,e,i)})},g.prototype.forEachLayerAtCoordinate=function(e,t,o,a){if(this.getImage())if(this.getLayer().getSource().forEachFeatureAtCoordinate!==l.c)return d.a.prototype.forEachLayerAtCoordinate.apply(this,arguments);else{const r=Object(p.a)(this.coordinateToCanvasPixelTransform,e.slice());Object(i.i)(r,t.viewState.resolution/this.renderedResolution),this.hitCanvasContext_||(this.hitCanvasContext_=Object(n.a)(1,1)),this.hitCanvasContext_.clearRect(0,0,1,1),this.hitCanvasContext_.drawImage(this.getImage(),r[0],r[1],1,1,0,0,1,1);const s=this.hitCanvasContext_.getImageData(0,0,1,1).data;return 0<s[3]?o.call(a,this.getLayer(),s):void 0}},t.a=g},function(e,t,o){"use strict";var a=o(0),r=o(3),i=o(18),n=o(136),s=o(75),l=o(67),d=o(169),p=o(236),g=o(27);const _=function(e){p.a.call(this,e),this.renderedResolution,this.transform_=Object(g.c)()};Object(a.g)(_,p.a),_.prototype.clip=function(e,t,o){const a=t.pixelRatio,i=t.size[0]*a,n=t.size[1]*a,s=t.viewState.rotation,d=Object(r.C)(o),p=Object(r.D)(o),_=Object(r.w)(o),c=Object(r.v)(o);Object(g.a)(t.coordinateToPixelTransform,d),Object(g.a)(t.coordinateToPixelTransform,p),Object(g.a)(t.coordinateToPixelTransform,_),Object(g.a)(t.coordinateToPixelTransform,c),e.save(),Object(l.s)(e,-s,i/2,n/2),e.beginPath(),e.moveTo(d[0]*a,d[1]*a),e.lineTo(p[0]*a,p[1]*a),e.lineTo(_[0]*a,_[1]*a),e.lineTo(c[0]*a,c[1]*a),e.clip(),Object(l.s)(e,s,i/2,n/2)},_.prototype.dispatchComposeEvent_=function(e,t,o,a){const r=this.getLayer();if(r.hasListener(e)){const i=o.size[0]*o.pixelRatio,s=o.size[1]*o.pixelRatio,p=o.viewState.rotation;Object(l.s)(t,-p,i/2,s/2);const g=a===void 0?this.getTransform(o,0):a,_=new d.a(t,o.pixelRatio,o.extent,g,o.viewState.rotation),c=new n.a(e,_,o,t,null);r.dispatchEvent(c),Object(l.s)(t,p,i/2,s/2)}},_.prototype.forEachLayerAtCoordinate=function(e,t,o,a){const r=this.forEachFeatureAtCoordinate(e,t,0,i.b,this);return r?o.call(a,this.getLayer(),null):void 0},_.prototype.postCompose=function(e,t,o,a){this.dispatchComposeEvent_(s.a.POSTCOMPOSE,e,t,a)},_.prototype.preCompose=function(e,t,o){this.dispatchComposeEvent_(s.a.PRECOMPOSE,e,t,o)},_.prototype.dispatchRenderEvent=function(e,t,o){this.dispatchComposeEvent_(s.a.RENDER,e,t,o)},_.prototype.getTransform=function(e,t){const o=e.viewState,a=e.pixelRatio,r=a*e.size[0]/2,i=a*e.size[1]/2,n=a/o.resolution,s=-o.rotation,l=-o.center[0]+t,d=-o.center[1];return Object(g.b)(this.transform_,r,i,n,-n,s,l,d)},_.prototype.composeFrame=function(){},_.prototype.prepareFrame=function(){},t.a=_},function(e,t,o){"use strict";var a=o(0),r=o(59),i=o(108),n=o(35),s=o(8),l=o(11),d=o(18),p=o(45);const g=function(e){i.a.call(this),this.layer_=e};Object(a.g)(g,i.a),g.prototype.forEachFeatureAtCoordinate=d.c,g.prototype.hasFeatureAtCoordinate=d.a,g.prototype.createLoadedTileFinder=function(e,t,o){return function(a,r){return e.forEachLoadedTile(t,a,r,function(e){o[a]||(o[a]={}),o[a][e.tileCoord.toString()]=e})}},g.prototype.getLayer=function(){return this.layer_},g.prototype.handleImageChange_=function(e){const t=e.target;t.getState()===r.a.LOADED&&this.renderIfReadyAndVisible()},g.prototype.loadImage=function(e){let t=e.getState();return t!=r.a.LOADED&&t!=r.a.ERROR&&Object(s.a)(e,l.a.CHANGE,this.handleImageChange_,this),t==r.a.IDLE&&(e.load(),t=e.getState()),t==r.a.LOADED},g.prototype.renderIfReadyAndVisible=function(){const e=this.getLayer();e.getVisible()&&e.getSourceState()==p.a.READY&&this.changed()},g.prototype.scheduleExpireCache=function(e,t){if(t.canExpireCache()){const o=function(e,t,o){const r=Object(a.f)(e).toString();r in o.usedTiles&&e.expireCache(o.viewState.projection,o.usedTiles[r])}.bind(null,t);e.postRenderFunctions.push(o)}},g.prototype.updateUsedTiles=function(e,t,o,r){const i=Object(a.f)(t).toString(),n=o.toString();i in e?n in e[i]?e[i][n].extend(r):e[i][n]=r:(e[i]={},e[i][n]=r)},g.prototype.manageTilePyramid=function(e,t,o,r,i,s,l,d,p,g){const _=Object(a.f)(t).toString();_ in e.wantedTiles||(e.wantedTiles[_]={});const c=e.wantedTiles[_],u=e.tileQueue,m=o.getMinZoom();let h,f,E,C,x,y;for(y=m;y<=l;++y)for(f=o.getTileRangeForExtentAndZ(s,y,f),E=o.getResolution(y),C=f.minX;C<=f.maxX;++C)for(x=f.minY;x<=f.maxY;++x)l-y<=d?(h=t.getTile(y,C,x,r,i),h.getState()==n.a.IDLE&&(c[h.getKey()]=!0,!u.isKeyQueued(h.getKey())&&u.enqueue([h,_,o.getTileCoordCenter(h.tileCoord),E])),void 0!==p&&p.call(g,h)):t.useTile(y,C,x,i)},t.a=g},function(e,t,o){"use strict";function a(){g.a.expire()}t.b=function(e,t){return e.zIndex-t.zIndex};var r=o(0),i=o(126),n=o(8),s=o(11),l=o(3),d=o(18),p=o(74),g=o(238),_=o(27);const c=function(e){i.a.call(this),this.map_=e,this.layerRenderers_={},this.layerRendererListeners_={},this.layerRendererConstructors_=[]};Object(r.g)(c,i.a),c.prototype.registerLayerRenderers=function(e){this.layerRendererConstructors_.push.apply(this.layerRendererConstructors_,e)},c.prototype.getLayerRendererConstructors=function(){return this.layerRendererConstructors_},c.prototype.calculateMatrices2D=function(e){const t=e.viewState,o=e.coordinateToPixelTransform,a=e.pixelToCoordinateTransform;Object(_.b)(o,e.size[0]/2,e.size[1]/2,1/t.resolution,-1/t.resolution,-t.rotation,-t.center[0],-t.center[1]),Object(_.d)(Object(_.i)(a,o))},c.prototype.removeLayerRenderers=function(){for(const e in this.layerRenderers_)this.removeLayerRendererByKey_(e).dispose()},c.prototype.forEachFeatureAtCoordinate=function(e,t,o,a,n,s,d){function g(e,o){const i=Object(r.f)(e).toString(),s=t.layerStates[Object(r.f)(o)].managed;if(!(i in t.skippedFeatureUids)||s)return a.call(n,e,s?o:null)}let _;const c=t.viewState,u=c.resolution,y=c.projection;let m=e;if(y.canWrapX()){const t=y.getExtent(),o=Object(l.E)(t),a=e[0];if(a<t[0]||a>t[2]){const r=Math.ceil((t[0]-a)/o);m=[a+o*r,e[1]]}}const h=t.layerStatesArray,f=h.length;let x;for(x=f-1;0<=x;--x){const a=h[x],r=a.layer;if(Object(p.b)(a,u)&&s.call(d,r)){const a=this.getLayerRenderer(r);if(r.getSource()&&(_=a.forEachFeatureAtCoordinate(r.getSource().getWrapX()?m:e,t,o,g,n)),_)return _}}},c.prototype.forEachLayerAtPixel=function(){},c.prototype.hasFeatureAtCoordinate=function(e,t,o,a,r){const i=this.forEachFeatureAtCoordinate(e,t,o,d.b,this,a,r);return i!==void 0},c.prototype.getLayerRenderer=function(e){const t=Object(r.f)(e).toString();if(t in this.layerRenderers_)return this.layerRenderers_[t];else{let o;for(let t=0,a=this.layerRendererConstructors_.length;t<a;++t){const a=this.layerRendererConstructors_[t];if(a.handles(e)){o=a.create(this,e);break}}if(o)this.layerRenderers_[t]=o,this.layerRendererListeners_[t]=Object(n.a)(o,s.a.CHANGE,this.handleLayerRendererChange_,this);else throw new Error("Unable to create renderer for layer: "+e.getType());return o}},c.prototype.getLayerRendererByKey=function(e){return this.layerRenderers_[e]},c.prototype.getLayerRenderers=function(){return this.layerRenderers_},c.prototype.getMap=function(){return this.map_},c.prototype.handleLayerRendererChange_=function(){this.map_.render()},c.prototype.removeLayerRendererByKey_=function(e){const t=this.layerRenderers_[e];return delete this.layerRenderers_[e],Object(n.e)(this.layerRendererListeners_[e]),delete this.layerRendererListeners_[e],t},c.prototype.renderFrame=d.c,c.prototype.removeUnusedLayerRenderers_=function(e,t){for(const o in this.layerRenderers_)t&&o in t.layerStates||this.removeLayerRendererByKey_(o).dispose()},c.prototype.scheduleExpireIconCache=function(e){e.postRenderFunctions.push(a)},c.prototype.scheduleRemoveUnusedLayerRenderers=function(e){for(const t in this.layerRenderers_)if(!(t in e.layerStates))return void e.postRenderFunctions.push(this.removeUnusedLayerRenderers_.bind(this))},t.a=c},function(e,t,o){"use strict";function a(e,t,o){const a=o?Object(r.b)(o):"null";return t+":"+e+":"+a}var r=o(66);const i=function(){this.cache_={},this.cacheSize_=0,this.maxCacheSize_=32};i.prototype.clear=function(){this.cache_={},this.cacheSize_=0},i.prototype.expire=function(){if(this.cacheSize_>this.maxCacheSize_){let e=0;for(const t in this.cache_){const o=this.cache_[t];0!=(3&e++)||o.hasListener()||(delete this.cache_[t],--this.cacheSize_)}}},i.prototype.get=function(e,t,o){const r=a(e,t,o);return r in this.cache_?this.cache_[r]:null},i.prototype.set=function(e,t,o,r){const i=a(e,t,o);this.cache_[i]=r,++this.cacheSize_},i.prototype.setSize=function(e){this.maxCacheSize_=e,this.expire()};const n=new i;t.a=n},function(e,t,o){"use strict";function a(e,t,o){let a;const r=Math.floor(e.length/2);if(t>=r)for(a=r;a<t;a++)e[a][o]=!0;else if(t<r)for(a=t+1;a<r;a++)e[a][o]=!0}function r(e){if(void 0!==T[e])return T[e];const t=2*e+1,o=Array(t);for(let a=0;a<t;a++)o[a]=Array(t);for(let t=e,r=0,i=0;t>=r;)a(o,e+t,e+r),a(o,e+r,e+t),a(o,e-r,e+t),a(o,e-t,e+r),a(o,e-t,e-r),a(o,e-r,e-t),a(o,e+r,e-t),a(o,e+t,e-r),r++,i+=1+2*r,0<2*(i-t)+1&&(t-=1,i+=1-2*t);return T[e]=o,o}t.b=function(e,t,o){const a=Object.keys(e).map(Number).sort(n.i),r={};for(let i=0,n=a.length;i<n;++i){const n=e[a[i].toString()];for(let e=0,a=n.length;e<a;){const a=n[e++],i=n[e++];a.replay(t,i,o,r)}}};var i=o(0),n=o(13),s=o(23),l=o(3),d=o(63),p=o(10),g=o(240),_=o(116),c=o(117),u=o(313),y=o(314),m=o(315),h=o(316),f=o(91),x=o(27);const E={Circle:m.a,Default:c.a,Image:u.a,LineString:y.a,Polygon:m.a,Text:h.a},C=function(e,t,o,a,r,i,n){g.a.call(this),this.declutterTree_=i,this.declutterGroup_=null,this.tolerance_=e,this.maxExtent_=t,this.overlaps_=r,this.pixelRatio_=a,this.resolution_=o,this.renderBuffer_=n,this.replaysByZIndex_={},this.hitDetectionContext_=Object(s.a)(1,1),this.hitDetectionTransform_=Object(x.c)()};Object(i.g)(C,g.a);const T={0:[[!0]]};C.prototype.addDeclutter=function(e){let t=null;return this.declutterTree_&&(e?(t=this.declutterGroup_,t[4]++):(t=this.declutterGroup_=Object(l.j)(),t.push(1))),t},C.prototype.clip=function(e,t){const o=this.getClipCoords(t);e.beginPath(),e.moveTo(o[0],o[1]),e.lineTo(o[2],o[3]),e.lineTo(o[4],o[5]),e.lineTo(o[6],o[7]),e.clip()},C.prototype.hasReplays=function(e){for(const t in this.replaysByZIndex_){const o=this.replaysByZIndex_[t];for(let t=0,a=e.length;t<a;++t)if(e[t]in o)return!0}return!1},C.prototype.finish=function(){for(const e in this.replaysByZIndex_){const t=this.replaysByZIndex_[e];for(const e in t)t[e].finish()}},C.prototype.forEachFeatureAtCoordinate=function(e,t,o,a,s,d,p){function g(e){const t=y.getImageData(0,0,c,c).data;for(let o=0;o<c;o++)for(let a=0;a<c;a++)if(h[o][a]&&0<t[4*(a*c+o)+3]){let t;return E&&(C==_.a.IMAGE||C==_.a.TEXT)&&-1===E.indexOf(e)||(t=d(e)),t?t:void y.clearRect(0,0,c,c)}}a=Math.round(a);const c=2*a+1,u=Object(x.b)(this.hitDetectionTransform_,a+.5,a+.5,1/t,-1/t,-o,-e[0],-e[1]),y=this.hitDetectionContext_;y.canvas.width!==c||y.canvas.height!==c?(y.canvas.width=c,y.canvas.height=c):y.clearRect(0,0,c,c);let m;this.renderBuffer_!==void 0&&(m=Object(l.j)(),Object(l.r)(m,e),Object(l.c)(m,t*(this.renderBuffer_+a),m));const h=r(a);let E;this.declutterTree_&&(E=this.declutterTree_.all().map(function(e){return e.value}));let C;const T=Object.keys(this.replaysByZIndex_).map(Number);T.sort(n.i);let S,i,R,I,b;for(S=T.length-1;0<=S;--S){const e=T[S].toString();for(R=this.replaysByZIndex_[e],i=f.a.length-1;0<=i;--i)if(C=f.a[i],I=R[C],void 0!==I)if(p&&(C==_.a.IMAGE||C==_.a.TEXT)){const t=p[e];t?t.push(I,u.slice(0)):p[e]=[I,u.slice(0)]}else if(b=I.replayHitDetection(y,u,o,s,g,m),b)return b}},C.prototype.getClipCoords=function(e){const t=this.maxExtent_,o=t[0],a=t[1],r=t[2],i=t[3],n=[o,a,o,i,r,i,r,a];return Object(d.c)(n,0,8,2,e,n),n},C.prototype.getReplay=function(e,t){const o=e===void 0?"0":e.toString();let a=this.replaysByZIndex_[o];a===void 0&&(a={},this.replaysByZIndex_[o]=a);let r=a[t];if(r===void 0){const e=E[t];r=new e(this.tolerance_,this.maxExtent_,this.resolution_,this.pixelRatio_,this.overlaps_,this.declutterTree_),a[t]=r}return r},C.prototype.getReplays=function(){return this.replaysByZIndex_},C.prototype.isEmpty=function(){return Object(p.d)(this.replaysByZIndex_)},C.prototype.replay=function(e,t,o,a,r,s){const l=Object.keys(this.replaysByZIndex_).map(Number);l.sort(n.i),e.save(),this.clip(e,t);const d=r?r:f.a;let p,i,g,c,u,y;for(p=0,i=l.length;p<i;++p){const r=l[p].toString();for(u=this.replaysByZIndex_[r],g=0,c=d.length;g<c;++g){const i=d[g];if(y=u[i],void 0!==y)if(s&&(i==_.a.IMAGE||i==_.a.TEXT)){const e=s[r];e?e.push(y,t.slice(0)):s[r]=[y,t.slice(0)]}else y.replay(e,t,o,a)}}e.restore()},t.a=C},function(e,t){"use strict";const o=function(){};o.prototype.getReplay=function(){},o.prototype.isEmpty=function(){},t.a=o},function(e,t){"use strict";t.a={POINT:"point",LINE:"line"}},function(e,t){"use strict";t.a={IMAGE:"image",HYBRID:"hybrid",VECTOR:"vector"}},function(e,t){"use strict";t.a={BOTTOM_LEFT:"bottom-left",BOTTOM_CENTER:"bottom-center",BOTTOM_RIGHT:"bottom-right",CENTER_LEFT:"center-left",CENTER_CENTER:"center-center",CENTER_RIGHT:"center-right",TOP_LEFT:"top-left",TOP_CENTER:"top-center",TOP_RIGHT:"top-right"}},function(e,t){"use strict";t.a={PRELOAD:"preload",USE_INTERIM_TILES_ON_ERROR:"useInterimTilesOnError"}},function(e,t,o){"use strict";function a(){const e=Object(s.a)(1,1);return e.fillStyle="rgba(0,0,0,0)",e.fillRect(0,0,1,1),e.canvas}var r=o(0),i=o(92),n=o(35),s=o(23),l=o(8),d=o(11);const p=function(e,t,o,a,r,n){i.a.call(this,e,t,n),this.crossOrigin_=a,this.src_=o,this.image_=new Image,null!==a&&(this.image_.crossOrigin=a),this.imageListenerKeys_=null,this.tileLoadFunction_=r};Object(r.g)(p,i.a),p.prototype.disposeInternal=function(){this.state==n.a.LOADING&&(this.unlistenImage_(),this.image_=a()),this.interimTile&&this.interimTile.dispose(),this.state=n.a.ABORT,this.changed(),i.a.prototype.disposeInternal.call(this)},p.prototype.getImage=function(){return this.image_},p.prototype.getKey=function(){return this.src_},p.prototype.handleImageError_=function(){this.state=n.a.ERROR,this.unlistenImage_(),this.image_=a(),this.changed()},p.prototype.handleImageLoad_=function(){this.state=this.image_.naturalWidth&&this.image_.naturalHeight?n.a.LOADED:n.a.EMPTY,this.unlistenImage_(),this.changed()},p.prototype.load=function(){this.state==n.a.ERROR&&(this.state=n.a.IDLE,this.image_=new Image,null!==this.crossOrigin_&&(this.image_.crossOrigin=this.crossOrigin_)),this.state==n.a.IDLE&&(this.state=n.a.LOADING,this.changed(),this.imageListenerKeys_=[Object(l.b)(this.image_,d.a.ERROR,this.handleImageError_,this),Object(l.b)(this.image_,d.a.LOAD,this.handleImageLoad_,this)],this.tileLoadFunction_(this,this.src_))},p.prototype.unlistenImage_=function(){this.imageListenerKeys_.forEach(l.e),this.imageListenerKeys_=null},t.a=p},function(e,t,o){"use strict";var a=o(0),r=o(160),i=o(49);const n=function(e){r.a.call(this,e)};Object(a.g)(n,r.a),n.prototype.expireCache=function(e){for(;this.canExpireCache();){const t=this.peekLast(),o=t.tileCoord[0].toString();if(o in e&&e[o].contains(t.tileCoord))break;else this.pop().dispose()}},n.prototype.pruneExceptNewestZ=function(){if(0===this.getCount())return;const e=this.peekFirstKey(),t=Object(i.b)(e),o=t[0];this.forEach(function(e){e.tileCoord[0]!==o&&(this.remove(Object(i.c)(e.tileCoord)),e.dispose())},this)},t.a=n},function(e,t,o){"use strict";var r=Math.abs,a=Math.min,i=Math.max,n=o(3),s=o(17),l=o(4);const p=.25,d=function(e,t,o,r,s){this.sourceProj_=e,this.targetProj_=t;let d={};const p=Object(l.j)(this.targetProj_,this.sourceProj_);this.transformInv_=function(e){const t=e[0]+"/"+e[1];return d[t]||(d[t]=p(e)),d[t]},this.maxSourceExtent_=r,this.errorThresholdSquared_=s*s,this.triangles_=[],this.wrapsXInSource_=!1,this.canWrapXInSource_=this.sourceProj_.canWrapX()&&!!r&&!!this.sourceProj_.getExtent()&&Object(n.E)(r)==Object(n.E)(this.sourceProj_.getExtent()),this.sourceWorldWidth_=this.sourceProj_.getExtent()?Object(n.E)(this.sourceProj_.getExtent()):null,this.targetWorldWidth_=this.targetProj_.getExtent()?Object(n.E)(this.targetProj_.getExtent()):null;const g=Object(n.C)(o),_=Object(n.D)(o),c=Object(n.w)(o),u=Object(n.v)(o),y=this.transformInv_(g),m=this.transformInv_(_),h=this.transformInv_(c),f=this.transformInv_(u);if(this.addQuad_(g,_,c,u,y,m,h,f,10),this.wrapsXInSource_){let e=Infinity;this.triangles_.forEach(function(t){e=a(e,t.source[0][0],t.source[1][0],t.source[2][0])}),this.triangles_.forEach(function(t){if(i(t.source[0][0],t.source[1][0],t.source[2][0])-e>this.sourceWorldWidth_/2){const o=[[t.source[0][0],t.source[0][1]],[t.source[1][0],t.source[1][1]],[t.source[2][0],t.source[2][1]]];o[0][0]-e>this.sourceWorldWidth_/2&&(o[0][0]-=this.sourceWorldWidth_),o[1][0]-e>this.sourceWorldWidth_/2&&(o[1][0]-=this.sourceWorldWidth_),o[2][0]-e>this.sourceWorldWidth_/2&&(o[2][0]-=this.sourceWorldWidth_);const r=a(o[0][0],o[1][0],o[2][0]),n=i(o[0][0],o[1][0],o[2][0]);n-r<this.sourceWorldWidth_/2&&(t.source=o)}}.bind(this))}d={}};d.prototype.addTriangle_=function(e,t,o,a,r,i){this.triangles_.push({source:[a,r,i],target:[e,t,o]})},d.prototype.addQuad_=function(e,t,o,a,i,l,d,g,_){const c=Object(n.b)([i,l,d,g]),u=this.sourceWorldWidth_?Object(n.E)(c)/this.sourceWorldWidth_:null,y=this.sourceWorldWidth_,m=this.sourceProj_.canWrapX()&&.5<u&&1>u;let h=!1;if(0<_){if(this.targetProj_.isGlobal()&&this.targetWorldWidth_){const r=Object(n.b)([e,t,o,a]),i=Object(n.E)(r)/this.targetWorldWidth_;h|=i>p}!m&&this.sourceProj_.isGlobal()&&u&&(h|=u>p)}if(h||!this.maxSourceExtent_||Object(n.F)(c,this.maxSourceExtent_)){if(!h&&(!isFinite(i[0])||!isFinite(i[1])||!isFinite(l[0])||!isFinite(l[1])||!isFinite(d[0])||!isFinite(d[1])||!isFinite(g[0])||!isFinite(g[1])))if(0<_)h=!0;else return;if(0<_){if(!h){const t=[(e[0]+o[0])/2,(e[1]+o[1])/2],a=this.transformInv_(t);let r;if(m){const e=(Object(s.d)(i[0],y)+Object(s.d)(d[0],y))/2;r=e-Object(s.d)(a[0],y)}else r=(i[0]+d[0])/2-a[0];const n=(i[1]+d[1])/2-a[1],l=r*r+n*n;h=l>this.errorThresholdSquared_}if(h){if(r(e[0]-o[0])<=r(e[1]-o[1])){const r=[(t[0]+o[0])/2,(t[1]+o[1])/2],n=this.transformInv_(r),s=[(a[0]+e[0])/2,(a[1]+e[1])/2],p=this.transformInv_(s);this.addQuad_(e,t,r,s,i,l,n,p,_-1),this.addQuad_(s,r,o,a,p,n,d,g,_-1)}else{const r=[(e[0]+t[0])/2,(e[1]+t[1])/2],n=this.transformInv_(r),s=[(o[0]+a[0])/2,(o[1]+a[1])/2],p=this.transformInv_(s);this.addQuad_(e,r,s,a,i,n,p,g,_-1),this.addQuad_(r,t,o,s,n,l,d,p,_-1)}return}}if(m){if(!this.canWrapXInSource_)return;this.wrapsXInSource_=!0}this.addTriangle_(e,o,a,i,d,g),this.addTriangle_(e,t,o,i,l,d)}},d.prototype.calculateSourceExtent=function(){const e=Object(n.j)();return this.triangles_.forEach(function(t){const o=t.source;Object(n.r)(e,o[0]),Object(n.r)(e,o[1]),Object(n.r)(e,o[2])}),e},d.prototype.getTriangles=function(){return this.triangles_},t.a=d},function(e,t){"use strict";t.a={FRACTION:"fraction",PIXELS:"pixels"}},function(e,t,o){"use strict";t.a=function(e,t,o,a,r,i){let n=d.a.get(t,a,i);return n||(n=new p(e,t,o,a,r,i),d.a.set(t,a,i,n)),n};var a=o(0),r=o(23),i=o(8),n=o(79),s=o(11),l=o(59),d=o(238);const p=function(e,t,o,a,r,i){n.a.call(this),this.hitDetectionImage_=null,this.image_=e?e:new Image,null!==a&&(this.image_.crossOrigin=a),this.canvas_=i?document.createElement("CANVAS"):null,this.color_=i,this.imageListenerKeys_=null,this.imageState_=r,this.size_=o,this.src_=t,this.tainting_=!1,this.imageState_==l.a.LOADED&&this.determineTainting_()};Object(a.g)(p,n.a),p.prototype.determineTainting_=function(){const e=Object(r.a)(1,1);try{e.drawImage(this.image_,0,0),e.getImageData(0,0,1,1)}catch(t){this.tainting_=!0}},p.prototype.dispatchChangeEvent_=function(){this.dispatchEvent(s.a.CHANGE)},p.prototype.handleImageError_=function(){this.imageState_=l.a.ERROR,this.unlistenImage_(),this.dispatchChangeEvent_()},p.prototype.handleImageLoad_=function(){this.imageState_=l.a.LOADED,this.size_&&(this.image_.width=this.size_[0],this.image_.height=this.size_[1]),this.size_=[this.image_.width,this.image_.height],this.unlistenImage_(),this.determineTainting_(),this.replaceColor_(),this.dispatchChangeEvent_()},p.prototype.getImage=function(){return this.canvas_?this.canvas_:this.image_},p.prototype.getImageState=function(){return this.imageState_},p.prototype.getHitDetectionImage=function(){if(!this.hitDetectionImage_)if(this.tainting_){const e=this.size_[0],t=this.size_[1],o=Object(r.a)(e,t);o.fillRect(0,0,e,t),this.hitDetectionImage_=o.canvas}else this.hitDetectionImage_=this.image_;return this.hitDetectionImage_},p.prototype.getSize=function(){return this.size_},p.prototype.getSrc=function(){return this.src_},p.prototype.load=function(){if(this.imageState_==l.a.IDLE){this.imageState_=l.a.LOADING,this.imageListenerKeys_=[Object(i.b)(this.image_,s.a.ERROR,this.handleImageError_,this),Object(i.b)(this.image_,s.a.LOAD,this.handleImageLoad_,this)];try{this.image_.src=this.src_}catch(t){this.handleImageError_()}}},p.prototype.replaceColor_=function(){if(!(this.tainting_||null===this.color_)){this.canvas_.width=this.image_.width,this.canvas_.height=this.image_.height;const e=this.canvas_.getContext("2d");e.drawImage(this.image_,0,0);const t=e.getImageData(0,0,this.image_.width,this.image_.height),o=t.data,a=this.color_[0]/255,r=this.color_[1]/255,n=this.color_[2]/255;for(let e=0,t=o.length;e<t;e+=4)o[e]*=a,o[e+1]*=r,o[e+2]*=n;e.putImageData(t,0,0)}},p.prototype.unlistenImage_=function(){this.imageListenerKeys_.forEach(i.e),this.imageListenerKeys_=null}},function(e,t){"use strict";t.a={BOTTOM_LEFT:"bottom-left",BOTTOM_RIGHT:"bottom-right",TOP_LEFT:"top-left",TOP_RIGHT:"top-right"}},function(e,t,o){"use strict";function a(e,t,o,a){const r=Object(d.E)(e),i=Object(d.A)(e),n=t[0],s=t[1],l=.0254/a;return s*r>n*i?r*o/(n*l):i*o/(s*l)}var r=Math.round,i=o(0),n=o(139),s=o(8),l=o(11),d=o(3),p=o(10),g=o(82),_=o(96);const c=function(e){g.a.call(this,{projection:e.projection,resolutions:e.resolutions}),this.crossOrigin_=e.crossOrigin===void 0?null:e.crossOrigin,this.displayDpi_=e.displayDpi===void 0?96:e.displayDpi,this.params_=e.params||{},this.url_=e.url,this.imageLoadFunction_=e.imageLoadFunction===void 0?g.b:e.imageLoadFunction,this.hidpi_=!(e.hidpi!==void 0)||e.hidpi,this.metersPerUnit_=e.metersPerUnit===void 0?1:e.metersPerUnit,this.ratio_=e.ratio===void 0?1:e.ratio,this.useOverlay_=e.useOverlay!==void 0&&e.useOverlay,this.image_=null,this.renderedRevision_=0};Object(i.g)(c,g.a),c.prototype.getParams=function(){return this.params_},c.prototype.getImageInternal=function(e,t,o,a){t=this.findNearestResolution(t),o=this.hidpi_?o:1;let r=this.image_;if(r&&this.renderedRevision_==this.getRevision()&&r.getResolution()==t&&r.getPixelRatio()==o&&Object(d.g)(r.getExtent(),e))return r;1!=this.ratio_&&(e=e.slice(),Object(d.J)(e,this.ratio_));const i=Object(d.E)(e)/t,p=Object(d.A)(e)/t,g=[i*o,p*o];if(void 0!==this.url_){const i=this.getUrl(this.url_,this.params_,e,g,a);r=new n.a(e,t,o,i,this.crossOrigin_,this.imageLoadFunction_),Object(s.a)(r,l.a.CHANGE,this.handleImageChange,this)}else r=null;return this.image_=r,this.renderedRevision_=this.getRevision(),r},c.prototype.getImageLoadFunction=function(){return this.imageLoadFunction_},c.prototype.updateParams=function(e){Object(p.a)(this.params_,e),this.changed()},c.prototype.getUrl=function(e,t,o,i){const n=a(o,i,this.metersPerUnit_,this.displayDpi_),s=Object(d.x)(o),l={OPERATION:this.useOverlay_?"GETDYNAMICMAPOVERLAYIMAGE":"GETMAPIMAGE",VERSION:"2.0.0",LOCALE:"en",CLIENTAGENT:"ol/source/ImageMapGuide source",CLIP:"1",SETDISPLAYDPI:this.displayDpi_,SETDISPLAYWIDTH:r(i[0]),SETDISPLAYHEIGHT:r(i[1]),SETVIEWSCALE:n,SETVIEWCENTERX:s[0],SETVIEWCENTERY:s[1]};return Object(p.a)(l,t),Object(_.a)(e,l)},c.prototype.setImageLoadFunction=function(e){this.image_=null,this.imageLoadFunction_=e,this.changed()},t.a=c},function(e,t){"use strict";t.a="1.3.0"},function(e,t){"use strict";t.a={CARMENTA_SERVER:"carmentaserver",GEOSERVER:"geoserver",MAPSERVER:"mapserver",QGIS:"qgis"}},function(e,t,o){"use strict";var a=Math.floor,r=o(0),i=o(92),n=o(35),s=o(93),l=o(19),d=o(8),p=o(11),g=o(3),_=o(175),c=o(4),u=o(45),y=o(119),m=o(49),h=o(69);const f=function(e,t,o,a,r,n){i.a.call(this,e,t),this.src_=o,this.extent_=a,this.preemptive_=r,this.grid_=null,this.keys_=null,this.data_=null,this.jsonp_=n};Object(r.g)(f,i.a),f.prototype.getImage=function(){return null},f.prototype.getData=function(e){if(!this.grid_||!this.keys_)return null;const t=(e[0]-this.extent_[0])/(this.extent_[2]-this.extent_[0]),o=(e[1]-this.extent_[1])/(this.extent_[3]-this.extent_[1]),r=this.grid_[a((1-o)*this.grid_.length)];if("string"!=typeof r)return null;let i=r.charCodeAt(a(t*r.length));93<=i&&i--,35<=i&&i--,i-=32;let n=null;if(i in this.keys_){const e=this.keys_[i];n=this.data_&&e in this.data_?this.data_[e]:e}return n},f.prototype.forDataAtCoordinate=function(e,t,o,a){this.state==n.a.IDLE&&!0===a?(Object(d.b)(this,p.a.CHANGE,function(){t.call(o,this.getData(e))},this),this.loadInternal_()):!0===a?setTimeout(function(){t.call(o,this.getData(e))}.bind(this),0):t.call(o,this.getData(e))},f.prototype.getKey=function(){return this.src_},f.prototype.handleError_=function(){this.state=n.a.ERROR,this.changed()},f.prototype.handleLoad_=function(e){this.grid_=e.grid,this.keys_=e.keys,this.data_=e.data,this.state=n.a.EMPTY,this.changed()},f.prototype.loadInternal_=function(){if(this.state==n.a.IDLE)if(this.state=n.a.LOADING,this.jsonp_)Object(_.a)(this.src_,this.handleLoad_.bind(this),this.handleError_.bind(this));else{const e=new XMLHttpRequest;e.addEventListener("load",this.onXHRLoad_.bind(this)),e.addEventListener("error",this.onXHRError_.bind(this)),e.open("GET",this.src_),e.send()}},f.prototype.onXHRLoad_=function(e){const t=e.target;if(!t.status||200<=t.status&&300>t.status){let e;try{e=JSON.parse(t.responseText)}catch(e){return void this.handleError_()}this.handleLoad_(e)}else this.handleError_()},f.prototype.onXHRError_=function(){this.handleError_()},f.prototype.load=function(){this.preemptive_&&this.loadInternal_()};const x=function(e){if(y.b.call(this,{projection:Object(c.h)("EPSG:3857"),state:u.a.LOADING}),this.preemptive_=void 0===e.preemptive||e.preemptive,this.tileUrlFunction_=s.d,this.template_=void 0,this.jsonp_=e.jsonp||!1,!e.url)e.tileJSON?this.handleTileJSONResponse(e.tileJSON):Object(l.a)(!1,51);else if(this.jsonp_)Object(_.a)(e.url,this.handleTileJSONResponse.bind(this),this.handleTileJSONError.bind(this));else{const t=new XMLHttpRequest;t.addEventListener("load",this.onXHRLoad_.bind(this)),t.addEventListener("error",this.onXHRError_.bind(this)),t.open("GET",e.url),t.send()}};Object(r.g)(x,y.b),x.prototype.onXHRLoad_=function(e){const t=e.target;if(!t.status||200<=t.status&&300>t.status){let e;try{e=JSON.parse(t.responseText)}catch(e){return void this.handleTileJSONError()}this.handleTileJSONResponse(e)}else this.handleTileJSONError()},x.prototype.onXHRError_=function(){this.handleTileJSONError()},x.prototype.getTemplate=function(){return this.template_},x.prototype.forDataAtCoordinateAndResolution=function(e,t,o,a){if(this.tileGrid){const r=this.tileGrid.getTileCoordForCoordAndResolution(e,t),i=this.getTile(r[0],r[1],r[2],1,this.getProjection());i.forDataAtCoordinate(e,o,null,a)}else!0===a?setTimeout(function(){o(null)},0):o(null)},x.prototype.handleTileJSONError=function(){this.setState(u.a.ERROR)},x.prototype.handleTileJSONResponse=function(e){const t=Object(c.h)("EPSG:4326"),o=this.getProjection();let a;if(void 0!==e.bounds){const r=Object(c.k)(t,o);a=Object(g.a)(e.bounds,r)}const r=e.minzoom||0,i=e.maxzoom||22,n=Object(h.b)({extent:Object(h.c)(o),maxZoom:i,minZoom:r});this.tileGrid=n,this.template_=e.template;const l=e.grids;if(!l)return void this.setState(u.a.ERROR);if(this.tileUrlFunction_=Object(s.a)(l,n),void 0!==e.attribution){const o=void 0===a?t.getExtent():a;this.setAttributions(function(t){return Object(g.F)(o,t.extent)?[e.attribution]:null})}this.setState(u.a.READY)},x.prototype.getTile=function(e,t,o,a,r){const i=Object(m.d)(e,t,o);if(this.tileCache.containsKey(i))return this.tileCache.get(i);else{const s=[e,t,o],l=this.getTileCoordForTileUrlFunction(s,r),d=this.tileUrlFunction_(l,a,r),p=new f(s,void 0===d?n.a.EMPTY:n.a.IDLE,void 0===d?"":d,this.tileGrid.getTileCoordExtent(s),this.preemptive_,this.jsonp_);return this.tileCache.set(i,p),p}},x.prototype.useTile=function(e,t,o){const a=Object(m.d)(e,t,o);this.tileCache.containsKey(a)&&this.tileCache.get(a)},t.a=x},function(e,t,o){"use strict";var a=Math.ceil,r=o(129),i=o(0),n=o(245),s=o(35),l=o(93),d=o(19),p=o(23),g=o(3),_=o(57),c=o(68),u=o(94);const y={DEFAULT:"default",TRUNCATED:"truncated"},m=function(e,t,o,a,r,i,s){n.a.call(this,t,o,a,r,i,s),this.zoomifyImage_=null,this.tileSize_=Object(_.d)(e.getTileSize(t[0]))};Object(i.g)(m,n.a),m.prototype.getImage=function(){if(this.zoomifyImage_)return this.zoomifyImage_;const e=n.a.prototype.getImage.call(this);if(this.state==s.a.LOADED){const t=this.tileSize_;if(e.width==t[0]&&e.height==t[1])return this.zoomifyImage_=e,e;else{const o=Object(p.a)(t[0],t[1]);return o.drawImage(e,0,0),this.zoomifyImage_=o.canvas,o.canvas}}else return e};const h=function(e){const t=e||{},o=t.size,i=t.tierSizeCalculation===void 0?y.DEFAULT:t.tierSizeCalculation,n=o[0],s=o[1],p=t.extent||[0,-o[1],o[0],0],_=[],h=t.tileSize||r.b;let f=h;switch(i){case y.DEFAULT:for(;n>f||s>f;)_.push([a(n/f),a(s/f)]),f+=f;break;case y.TRUNCATED:for(let e=n,t=s;e>f||t>f;)_.push([a(e/f),a(t/f)]),e>>=1,t>>=1;break;default:Object(d.a)(!1,53);}_.push([1,1]),_.reverse();const x=[1],E=[0];for(let t=1,o=_.length;t<o;t++)x.push(1<<t),E.push(_[t-1][0]*_[t-1][1]+E[t-1]);x.reverse();const C=new u.a({tileSize:h,extent:p,origin:Object(g.C)(p),resolutions:x});let T=t.url;T&&-1==T.indexOf("{TileGroup}")&&-1==T.indexOf("{tileIndex}")&&(T+="{TileGroup}/{z}-{x}-{y}.jpg");const S=Object(l.c)(T),R=Object(l.b)(S.map(function(e){return function(t){if(!t)return;else{const o=t[0],a=t[1],r=-t[2]-1,i=a+r*_[o][0],n=C.getTileSize(o),s=0|(i+E[o])/n,l={z:o,x:a,y:r,tileIndex:i,TileGroup:"TileGroup"+s};return e.replace(/\{(\w+?)\}/g,function(e,t){return l[t]})}}})),I=m.bind(null,C);c.a.call(this,{attributions:t.attributions,cacheSize:t.cacheSize,crossOrigin:t.crossOrigin,projection:t.projection,reprojectionErrorThreshold:t.reprojectionErrorThreshold,tileClass:I,tileGrid:C,tileUrlFunction:R,transition:t.transition})};Object(i.g)(h,c.a),t.a=h},function(e,t,o){"use strict";var a=o(23);const r=function(e,t){this.space_=t,this.emptyBlocks_=[{x:0,y:0,width:e,height:e}],this.entries_={},this.context_=Object(a.a)(e,e),this.canvas_=this.context_.canvas};r.prototype.get=function(e){return this.entries_[e]||null},r.prototype.add=function(e,t,o,a,r){for(let n=0,i=this.emptyBlocks_.length;n<i;++n){const i=this.emptyBlocks_[n];if(i.width>=t+this.space_&&i.height>=o+this.space_){const s={offsetX:i.x+this.space_,offsetY:i.y+this.space_,image:this.canvas_};return this.entries_[e]=s,a.call(r,this.context_,i.x+this.space_,i.y+this.space_),this.split_(n,i,t+this.space_,o+this.space_),s}}return null},r.prototype.split_=function(e,t,o,a){const r=t.width-o,i=t.height-a;let n,s;r>i?(n={x:t.x+o,y:t.y,width:t.width-o,height:t.height},s={x:t.x,y:t.y+a,width:o,height:t.height-a},this.updateBlocks_(e,n,s)):(n={x:t.x+o,y:t.y,width:t.width-o,height:a},s={x:t.x,y:t.y+a,width:t.width,height:t.height-a},this.updateBlocks_(e,n,s))},r.prototype.updateBlocks_=function(e,t,o){const a=[e,1];0<t.width&&0<t.height&&a.push(t),0<o.width&&0<o.height&&a.push(o),this.emptyBlocks_.splice.apply(this.emptyBlocks_,a)},t.a=r},function(e,t,o){"use strict";var a=Math.min,r=o(0),i=o(18),n=o(256);const s=-1,l=function(e){const t=e||{};this.currentSize_=t.initialSize===void 0?256:t.initialSize,this.maxSize_=t.maxSize===void 0?r.e===void 0?2048:r.e:t.maxSize,this.space_=t.space===void 0?1:t.space,this.atlases_=[new n.a(this.currentSize_,this.space_)],this.currentHitSize_=this.currentSize_,this.hitAtlases_=[new n.a(this.currentHitSize_,this.space_)]};l.prototype.getInfo=function(e){const t=this.getInfo_(this.atlases_,e);if(!t)return null;const o=this.getInfo_(this.hitAtlases_,e);return this.mergeInfos_(t,o)},l.prototype.getInfo_=function(e,t){for(let o=0,a=e.length;o<a;++o){const a=e[o],r=a.get(t);if(r)return r}return null},l.prototype.mergeInfos_=function(e,t){return{offsetX:e.offsetX,offsetY:e.offsetY,image:e.image,hitImage:t.image}},l.prototype.add=function(e,t,o,a,r,n){if(t+this.space_>this.maxSize_||o+this.space_>this.maxSize_)return null;const s=this.add_(!1,e,t,o,a,n);if(!s)return null;const l=r===void 0?i.c:r,d=this.add_(!0,e,t,o,l,n);return this.mergeInfos_(s,d)},l.prototype.add_=function(e,t,o,r,s,l){const d=e?this.hitAtlases_:this.atlases_;let p,g,_,i;for(_=0,i=d.length;_<i;++_){if(p=d[_],g=p.add(t,o,r,s,l),g)return g;if(!g&&_===i-1){let t;e?(t=a(2*this.currentHitSize_,this.maxSize_),this.currentHitSize_=t):(t=a(2*this.currentSize_,this.maxSize_),this.currentSize_=t),p=new n.a(t,this.space_),d.push(p),++i}}return null},t.a=l},function(e,t,o){"use strict";var a=o(0),r=o(13),i=o(3),n=o(36),s=o(182),l=o(77),d=o(72),p=o(30),g=o(28),_=o(53),c=o(60),u=o(29),y=o(10),m=o(4),h=o(43);const f=s.a+" http://schemas.opengis.net/gml/3.1.1/profiles/gmlsfProfile/1.0.0/gmlsf.xsd",x=function(e){const t=e?e:{};s.b.call(this,t),this.surface_=t.surface!==void 0&&t.surface,this.curve_=t.curve!==void 0&&t.curve,this.multiCurve_=!(t.multiCurve!==void 0)||t.multiCurve,this.multiSurface_=!(t.multiSurface!==void 0)||t.multiSurface,this.schemaLocation=t.schemaLocation?t.schemaLocation:f,this.hasZ=t.hasZ!==void 0&&t.hasZ};Object(a.g)(x,s.b),x.prototype.readMultiCurve_=function(e,t){const o=Object(h.u)([],this.MULTICURVE_PARSERS_,e,t,this);if(o){const e=new _.a(null);return e.setLineStrings(o),e}},x.prototype.readMultiSurface_=function(e,t){const o=Object(h.u)([],this.MULTISURFACE_PARSERS_,e,t,this);if(o){const e=new c.a(null);return e.setPolygons(o),e}},x.prototype.curveMemberParser_=function(e,t){Object(h.t)(this.CURVEMEMBER_PARSERS_,e,t,this)},x.prototype.surfaceMemberParser_=function(e,t){Object(h.t)(this.SURFACEMEMBER_PARSERS_,e,t,this)},x.prototype.readPatch_=function(e,t){return Object(h.u)([null],this.PATCHES_PARSERS_,e,t,this)},x.prototype.readSegment_=function(e,t){return Object(h.u)([null],this.SEGMENTS_PARSERS_,e,t,this)},x.prototype.readPolygonPatch_=function(e,t){return Object(h.u)([null],this.FLAT_LINEAR_RINGS_PARSERS_,e,t,this)},x.prototype.readLineStringSegment_=function(e,t){return Object(h.u)([null],this.GEOMETRY_FLAT_COORDINATES_PARSERS_,e,t,this)},x.prototype.interiorParser_=function(e,t){const o=Object(h.u)(void 0,this.RING_PARSERS,e,t,this);if(o){const e=t[t.length-1];e.push(o)}},x.prototype.exteriorParser_=function(e,t){const o=Object(h.u)(void 0,this.RING_PARSERS,e,t,this);if(o){const e=t[t.length-1];e[0]=o}},x.prototype.readSurface_=function(e,t){const o=Object(h.u)([null],this.SURFACE_PARSERS_,e,t,this);if(o&&o[0]){const e=new u.b(null),t=o[0],a=[t.length];let n,i;for(n=1,i=o.length;n<i;++n)Object(r.c)(t,o[n]),a.push(t.length);return e.setFlatCoordinates(p.a.XYZ,t,a),e}},x.prototype.readCurve_=function(e,t){const o=Object(h.u)([null],this.CURVE_PARSERS_,e,t,this);if(o){const e=new g.a(null);return e.setFlatCoordinates(p.a.XYZ,o),e}},x.prototype.readEnvelope_=function(e,t){const o=Object(h.u)([null],this.ENVELOPE_PARSERS_,e,t,this);return Object(i.k)(o[1][0],o[1][1],o[2][0],o[2][1])},x.prototype.readFlatPos_=function(e,t){let o=Object(h.e)(e,!1);const a=/^\s*([+\-]?\d*\.?\d+(?:[eE][+\-]?\d+)?)\s*/,r=[];for(let i;i=a.exec(o);)r.push(parseFloat(i[1])),o=o.substr(i[0].length);if(""!==o)return;const i=t[0],n=i.srsName;let s="enu";if(n){const e=Object(m.h)(n);s=e.getAxisOrientation()}if("neu"===s){let e,t;for(e=0,t=r.length;e<t;e+=3){const t=r[e],o=r[e+1];r[e]=o,r[e+1]=t}}const l=r.length;return 2==l&&r.push(0),0===l?void 0:r},x.prototype.readFlatPosList_=function(e,t){const o=Object(h.e)(e,!1).replace(/^\s*|\s*$/g,""),a=t[0],r=a.srsName,i=a.srsDimension;let n="enu";if(r){const e=Object(m.h)(r);n=e.getAxisOrientation()}const s=o.split(/\s+/);let d=2;e.getAttribute("srsDimension")?d=Object(l.g)(e.getAttribute("srsDimension")):e.getAttribute("dimension")?d=Object(l.g)(e.getAttribute("dimension")):e.parentNode.getAttribute("srsDimension")?d=Object(l.g)(e.parentNode.getAttribute("srsDimension")):i&&(d=Object(l.g)(i));let p,g,_;const c=[];for(let o=0,a=s.length;o<a;o+=d)p=parseFloat(s[o]),g=parseFloat(s[o+1]),_=3===d?parseFloat(s[o+2]):0,"en"===n.substr(0,2)?c.push(p,g,_):c.push(g,p,_);return c},x.prototype.GEOMETRY_FLAT_COORDINATES_PARSERS_={"http://www.opengis.net/gml":{pos:Object(h.o)(x.prototype.readFlatPos_),posList:Object(h.o)(x.prototype.readFlatPosList_)}},x.prototype.FLAT_LINEAR_RINGS_PARSERS_={"http://www.opengis.net/gml":{interior:x.prototype.interiorParser_,exterior:x.prototype.exteriorParser_}},x.prototype.GEOMETRY_PARSERS_={"http://www.opengis.net/gml":{Point:Object(h.o)(s.b.prototype.readPoint),MultiPoint:Object(h.o)(s.b.prototype.readMultiPoint),LineString:Object(h.o)(s.b.prototype.readLineString),MultiLineString:Object(h.o)(s.b.prototype.readMultiLineString),LinearRing:Object(h.o)(s.b.prototype.readLinearRing),Polygon:Object(h.o)(s.b.prototype.readPolygon),MultiPolygon:Object(h.o)(s.b.prototype.readMultiPolygon),Surface:Object(h.o)(x.prototype.readSurface_),MultiSurface:Object(h.o)(x.prototype.readMultiSurface_),Curve:Object(h.o)(x.prototype.readCurve_),MultiCurve:Object(h.o)(x.prototype.readMultiCurve_),Envelope:Object(h.o)(x.prototype.readEnvelope_)}},x.prototype.MULTICURVE_PARSERS_={"http://www.opengis.net/gml":{curveMember:Object(h.j)(x.prototype.curveMemberParser_),curveMembers:Object(h.j)(x.prototype.curveMemberParser_)}},x.prototype.MULTISURFACE_PARSERS_={"http://www.opengis.net/gml":{surfaceMember:Object(h.j)(x.prototype.surfaceMemberParser_),surfaceMembers:Object(h.j)(x.prototype.surfaceMemberParser_)}},x.prototype.CURVEMEMBER_PARSERS_={"http://www.opengis.net/gml":{LineString:Object(h.j)(s.b.prototype.readLineString),Curve:Object(h.j)(x.prototype.readCurve_)}},x.prototype.SURFACEMEMBER_PARSERS_={"http://www.opengis.net/gml":{Polygon:Object(h.j)(s.b.prototype.readPolygon),Surface:Object(h.j)(x.prototype.readSurface_)}},x.prototype.SURFACE_PARSERS_={"http://www.opengis.net/gml":{patches:Object(h.o)(x.prototype.readPatch_)}},x.prototype.CURVE_PARSERS_={"http://www.opengis.net/gml":{segments:Object(h.o)(x.prototype.readSegment_)}},x.prototype.ENVELOPE_PARSERS_={"http://www.opengis.net/gml":{lowerCorner:Object(h.j)(x.prototype.readFlatPosList_),upperCorner:Object(h.j)(x.prototype.readFlatPosList_)}},x.prototype.PATCHES_PARSERS_={"http://www.opengis.net/gml":{PolygonPatch:Object(h.o)(x.prototype.readPolygonPatch_)}},x.prototype.SEGMENTS_PARSERS_={"http://www.opengis.net/gml":{LineStringSegment:Object(h.o)(x.prototype.readLineStringSegment_)}},x.prototype.writePos_=function(e,t,o){const a=o[o.length-1],r=a.hasZ,i=r?3:2;e.setAttribute("srsDimension",i);const n=a.srsName;let s="enu";n&&(s=Object(m.h)(n).getAxisOrientation());const d=t.getCoordinates();let p;if(p="en"===s.substr(0,2)?d[0]+" "+d[1]:d[1]+" "+d[0],r){const e=d[2]||0;p+=" "+e}Object(l.n)(e,p)},x.prototype.getCoords_=function(e,t,o){let a="enu";t&&(a=Object(m.h)(t).getAxisOrientation());let r="en"===a.substr(0,2)?e[0]+" "+e[1]:e[1]+" "+e[0];if(o){const t=e[2]||0;r+=" "+t}return r},x.prototype.writePosList_=function(e,t,o){const a=o[o.length-1],r=a.hasZ,i=r?3:2;e.setAttribute("srsDimension",i);const n=a.srsName,s=t.getCoordinates(),d=s.length,p=Array(d);let g;for(let a=0;a<d;++a)g=s[a],p[a]=this.getCoords_(g,n,r);Object(l.n)(e,p.join(" "))},x.prototype.writePoint_=function(e,t,o){const a=o[o.length-1],r=a.srsName;r&&e.setAttribute("srsName",r);const i=Object(h.d)(e.namespaceURI,"pos");e.appendChild(i),this.writePos_(i,t,o)},x.prototype.writeEnvelope=function(e,t,o){const a=o[o.length-1],r=a.srsName;r&&e.setAttribute("srsName",r);const i=[t[0]+" "+t[1],t[2]+" "+t[3]];Object(h.v)({node:e},this.ENVELOPE_SERIALIZERS_,h.b,i,o,["lowerCorner","upperCorner"],this)},x.prototype.writeLinearRing_=function(e,t,o){const a=o[o.length-1],r=a.srsName;r&&e.setAttribute("srsName",r);const i=Object(h.d)(e.namespaceURI,"posList");e.appendChild(i),this.writePosList_(i,t,o)},x.prototype.RING_NODE_FACTORY_=function(e,t){const o=t[t.length-1],a=o.node,r=o.exteriorWritten;return void 0===r&&(o.exteriorWritten=!0),Object(h.d)(a.namespaceURI,void 0===r?"exterior":"interior")},x.prototype.writeSurfaceOrPolygon_=function(e,t,o){const a=o[o.length-1],r=a.hasZ,i=a.srsName;if("PolygonPatch"!==e.nodeName&&i&&e.setAttribute("srsName",i),"Polygon"===e.nodeName||"PolygonPatch"===e.nodeName){const a=t.getLinearRings();Object(h.v)({node:e,hasZ:r,srsName:i},this.RING_SERIALIZERS_,this.RING_NODE_FACTORY_,a,o,void 0,this)}else if("Surface"===e.nodeName){const a=Object(h.d)(e.namespaceURI,"patches");e.appendChild(a),this.writeSurfacePatches_(a,t,o)}},x.prototype.writeCurveOrLineString_=function(e,t,o){const a=o[o.length-1],r=a.srsName;if("LineStringSegment"!==e.nodeName&&r&&e.setAttribute("srsName",r),"LineString"===e.nodeName||"LineStringSegment"===e.nodeName){const a=Object(h.d)(e.namespaceURI,"posList");e.appendChild(a),this.writePosList_(a,t,o)}else if("Curve"===e.nodeName){const a=Object(h.d)(e.namespaceURI,"segments");e.appendChild(a),this.writeCurveSegments_(a,t,o)}},x.prototype.writeMultiSurfaceOrPolygon_=function(e,t,o){const a=o[o.length-1],r=a.hasZ,i=a.srsName,n=a.surface;i&&e.setAttribute("srsName",i);const s=t.getPolygons();Object(h.v)({node:e,hasZ:r,srsName:i,surface:n},this.SURFACEORPOLYGONMEMBER_SERIALIZERS_,this.MULTIGEOMETRY_MEMBER_NODE_FACTORY_,s,o,void 0,this)},x.prototype.writeMultiPoint_=function(e,t,o){const a=o[o.length-1],r=a.srsName,i=a.hasZ;r&&e.setAttribute("srsName",r);const n=t.getPoints();Object(h.v)({node:e,hasZ:i,srsName:r},this.POINTMEMBER_SERIALIZERS_,Object(h.q)("pointMember"),n,o,void 0,this)},x.prototype.writeMultiCurveOrLineString_=function(e,t,o){const a=o[o.length-1],r=a.hasZ,i=a.srsName,n=a.curve;i&&e.setAttribute("srsName",i);const s=t.getLineStrings();Object(h.v)({node:e,hasZ:r,srsName:i,curve:n},this.LINESTRINGORCURVEMEMBER_SERIALIZERS_,this.MULTIGEOMETRY_MEMBER_NODE_FACTORY_,s,o,void 0,this)},x.prototype.writeRing_=function(e,t,o){const a=Object(h.d)(e.namespaceURI,"LinearRing");e.appendChild(a),this.writeLinearRing_(a,t,o)},x.prototype.writeSurfaceOrPolygonMember_=function(e,t,o){const a=this.GEOMETRY_NODE_FACTORY_(t,o);a&&(e.appendChild(a),this.writeSurfaceOrPolygon_(a,t,o))},x.prototype.writePointMember_=function(e,t,o){const a=Object(h.d)(e.namespaceURI,"Point");e.appendChild(a),this.writePoint_(a,t,o)},x.prototype.writeLineStringOrCurveMember_=function(e,t,o){const a=this.GEOMETRY_NODE_FACTORY_(t,o);a&&(e.appendChild(a),this.writeCurveOrLineString_(a,t,o))},x.prototype.writeSurfacePatches_=function(e,t,o){const a=Object(h.d)(e.namespaceURI,"PolygonPatch");e.appendChild(a),this.writeSurfaceOrPolygon_(a,t,o)},x.prototype.writeCurveSegments_=function(e,t,o){const a=Object(h.d)(e.namespaceURI,"LineStringSegment");e.appendChild(a),this.writeCurveOrLineString_(a,t,o)},x.prototype.writeGeometryElement=function(e,t,o){const a=o[o.length-1],r=Object(y.a)({},a);r.node=e;let i;i=Array.isArray(t)?a.dataProjection?Object(m.o)(t,a.featureProjection,a.dataProjection):t:Object(n.b)(t,!0,a),Object(h.v)(r,this.GEOMETRY_SERIALIZERS_,this.GEOMETRY_NODE_FACTORY_,[i],o,void 0,this)},x.prototype.writeFeatureElement=function(e,t,o){const a=t.getId();a&&e.setAttribute("fid",a);const r=o[o.length-1],i=r.featureNS,n=t.getGeometryName();r.serializers||(r.serializers={},r.serializers[i]={});const s=t.getProperties(),p=[],g=[];for(const a in s){const e=s[a];null!==e&&(p.push(a),g.push(e),a==n||e instanceof d.a?!(a in r.serializers[i])&&(r.serializers[i][a]=Object(h.l)(this.writeGeometryElement,this)):!(a in r.serializers[i])&&(r.serializers[i][a]=Object(h.l)(l.n)))}const _=Object(y.a)({},r);_.node=e,Object(h.v)(_,r.serializers,Object(h.q)(void 0,i),g,o,p)},x.prototype.writeFeatureMembers_=function(e,t,o){const a=o[o.length-1],r=a.featureType,i=a.featureNS,n={};n[i]={},n[i][r]=Object(h.l)(this.writeFeatureElement,this);const s=Object(y.a)({},a);s.node=e,Object(h.v)(s,n,Object(h.q)(r,i),t,o)};const E={MultiLineString:"lineStringMember",MultiCurve:"curveMember",MultiPolygon:"polygonMember",MultiSurface:"surfaceMember"};x.prototype.MULTIGEOMETRY_MEMBER_NODE_FACTORY_=function(e,t){const o=t[t.length-1].node;return Object(h.d)("http://www.opengis.net/gml",E[o.nodeName])},x.prototype.GEOMETRY_NODE_FACTORY_=function(e,t){const o=t[t.length-1],a=o.multiSurface,r=o.surface,i=o.curve,n=o.multiCurve;let s;return Array.isArray(e)?s="Envelope":(s=e.getType(),"MultiPolygon"===s&&!0===a?s="MultiSurface":"Polygon"===s&&!0===r?s="Surface":"LineString"===s&&!0===i?s="Curve":"MultiLineString"===s&&!0===n&&(s="MultiCurve")),Object(h.d)("http://www.opengis.net/gml",s)},x.prototype.writeGeometryNode=function(e,t){t=this.adaptOptions(t);const o=Object(h.d)("http://www.opengis.net/gml","geom"),a={node:o,hasZ:this.hasZ,srsName:this.srsName,curve:this.curve_,surface:this.surface_,multiSurface:this.multiSurface_,multiCurve:this.multiCurve_};return t&&Object(y.a)(a,t),this.writeGeometryElement(o,e,[a]),o},x.prototype.writeFeatures,x.prototype.writeFeaturesNode=function(e,t){t=this.adaptOptions(t);const o=Object(h.d)("http://www.opengis.net/gml","featureMembers");o.setAttributeNS(h.c,"xsi:schemaLocation",this.schemaLocation);const a={srsName:this.srsName,hasZ:this.hasZ,curve:this.curve_,surface:this.surface_,multiSurface:this.multiSurface_,multiCurve:this.multiCurve_,featureNS:this.featureNS,featureType:this.featureType};return t&&Object(y.a)(a,t),this.writeFeatureMembers_(o,e,[a]),o},x.prototype.RING_SERIALIZERS_={"http://www.opengis.net/gml":{exterior:Object(h.l)(x.prototype.writeRing_),interior:Object(h.l)(x.prototype.writeRing_)}},x.prototype.ENVELOPE_SERIALIZERS_={"http://www.opengis.net/gml":{lowerCorner:Object(h.l)(l.n),upperCorner:Object(h.l)(l.n)}},x.prototype.SURFACEORPOLYGONMEMBER_SERIALIZERS_={"http://www.opengis.net/gml":{surfaceMember:Object(h.l)(x.prototype.writeSurfaceOrPolygonMember_),polygonMember:Object(h.l)(x.prototype.writeSurfaceOrPolygonMember_)}},x.prototype.POINTMEMBER_SERIALIZERS_={"http://www.opengis.net/gml":{pointMember:Object(h.l)(x.prototype.writePointMember_)}},x.prototype.LINESTRINGORCURVEMEMBER_SERIALIZERS_={"http://www.opengis.net/gml":{lineStringMember:Object(h.l)(x.prototype.writeLineStringOrCurveMember_),curveMember:Object(h.l)(x.prototype.writeLineStringOrCurveMember_)}},x.prototype.GEOMETRY_SERIALIZERS_={"http://www.opengis.net/gml":{Curve:Object(h.l)(x.prototype.writeCurveOrLineString_),MultiCurve:Object(h.l)(x.prototype.writeMultiCurveOrLineString_),Point:Object(h.l)(x.prototype.writePoint_),MultiPoint:Object(h.l)(x.prototype.writeMultiPoint_),LineString:Object(h.l)(x.prototype.writeCurveOrLineString_),MultiLineString:Object(h.l)(x.prototype.writeMultiCurveOrLineString_),LinearRing:Object(h.l)(x.prototype.writeLinearRing_),Polygon:Object(h.l)(x.prototype.writeSurfaceOrPolygon_),MultiPolygon:Object(h.l)(x.prototype.writeMultiSurfaceOrPolygon_),Surface:Object(h.l)(x.prototype.writeSurfaceOrPolygon_),MultiSurface:Object(h.l)(x.prototype.writeMultiSurfaceOrPolygon_),Envelope:Object(h.l)(x.prototype.writeEnvelope)}},t.a=x},function(e,t,o){"use strict";function a(e,t){const o=e.getGeometry();if(o){const e=K[o.getType()];if(e){const o=t[t.length-1].node;return Object(R.d)(o.namespaceURI,e)}}}function r(e,t,o,a){return e.push(parseFloat(o.getAttribute("lon")),parseFloat(o.getAttribute("lat"))),"ele"in a?(e.push(a.ele),delete a.ele,t.hasZ=!0):e.push(0),"time"in a?(e.push(a.time),delete a.time,t.hasM=!0):e.push(0),e}function i(e,t,o){let a=x.a.XY,r=2;if(e.hasZ&&e.hasM?(a=x.a.XYZM,r=4):e.hasZ?(a=x.a.XYZ,r=3):e.hasM&&(a=x.a.XYM,r=3),4!=r){for(let o=0,a=t.length/4;o<a;o++)t[o*r]=t[4*o],t[o*r+1]=t[4*o+1],e.hasZ&&(t[o*r+2]=t[4*o+2]),e.hasM&&(t[o*r+2]=t[4*o+3]);if(t.length=t.length/4*r,o)for(let e=0,t=o.length;e<t;e++)o[e]=o[e]/4*r}return a}function n(e,t){const o=t[t.length-1],a=e.getAttribute("href");null!==a&&(o.link=a),Object(R.t)(P,e,t)}function s(e,t){const o=t[t.length-1];o.extensionsNode_=e}function l(e,t){const o=t[0],a=Object(R.u)({flatCoordinates:[],layoutOptions:{}},F,e,t);if(a){const e=a.flatCoordinates;delete a.flatCoordinates;const t=a.layoutOptions;delete a.layoutOptions;const r=i(t,e),n=new E.a(null);n.setFlatCoordinates(r,e),Object(m.b)(n,!1,o);const s=new u.a(n);return s.setProperties(a),s}}function d(e,t){const o=t[0],a=Object(R.u)({flatCoordinates:[],ends:[],layoutOptions:{}},w,e,t);if(a){const e=a.flatCoordinates;delete a.flatCoordinates;const t=a.ends;delete a.ends;const r=a.layoutOptions;delete a.layoutOptions;const n=i(r,e,t),s=new C.a(null);s.setFlatCoordinates(n,e,t),Object(m.b)(s,!1,o);const l=new u.a(s);return l.setProperties(a),l}}function p(e,t){const o=t[0],a=Object(R.u)({},M,e,t);if(a){const t={},n=r([],t,e,a),s=i(t,n),l=new T.a(n,s);Object(m.b)(l,!1,o);const d=new u.a(l);return d.setProperties(a),d}}function g(e,t,o){e.setAttribute("href",t);const a=o[o.length-1],r=a.properties,i=[r.linkText,r.linkType];Object(R.v)({node:e},D,R.b,i,o,G)}function _(e,t,o){const a=o[o.length-1],r=a.node,i=r.namespaceURI,n=a.properties;e.setAttributeNS(null,"lat",t[1]),e.setAttributeNS(null,"lon",t[0]);const s=a.geometryLayout;switch(s){case x.a.XYZM:0!==t[3]&&(n.time=t[3]);case x.a.XYZ:0!==t[2]&&(n.ele=t[2]);break;case x.a.XYM:0!==t[2]&&(n.time=t[2]);break;default:}const l="rtept"==e.nodeName?U[i]:X[i],d=Object(R.p)(n,l);Object(R.v)({node:e,properties:n},W,R.b,d,o,l)}var c=o(0),u=o(15),y=o(13),m=o(36),h=o(98),f=o(77),x=o(30),E=o(28),C=o(53),T=o(21),S=o(4),R=o(43);const I=function(e){const t=e?e:{};h.a.call(this),this.defaultDataProjection=Object(S.h)("EPSG:4326"),this.readExtensions_=t.readExtensions};Object(c.g)(I,h.a);const b=[null,"http://www.topografix.com/GPX/1/0","http://www.topografix.com/GPX/1/1"],v={rte:l,trk:d,wpt:p},L=Object(R.r)(b,{rte:Object(R.j)(l),trk:Object(R.j)(d),wpt:Object(R.j)(p)}),P=Object(R.r)(b,{text:Object(R.n)(f.h,"linkText"),type:Object(R.n)(f.h,"linkType")}),F=Object(R.r)(b,{name:Object(R.n)(f.h),cmt:Object(R.n)(f.h),desc:Object(R.n)(f.h),src:Object(R.n)(f.h),link:n,number:Object(R.n)(f.f),extensions:s,type:Object(R.n)(f.h),rtept:function(e,t){const o=Object(R.u)({},O,e,t);if(o){const a=t[t.length-1],i=a.flatCoordinates,n=a.layoutOptions;r(i,n,e,o)}}}),O=Object(R.r)(b,{ele:Object(R.n)(f.d),time:Object(R.n)(f.c)}),w=Object(R.r)(b,{name:Object(R.n)(f.h),cmt:Object(R.n)(f.h),desc:Object(R.n)(f.h),src:Object(R.n)(f.h),link:n,number:Object(R.n)(f.f),type:Object(R.n)(f.h),extensions:s,trkseg:function(e,t){const o=t[t.length-1];Object(R.t)(N,e,t);const a=o.flatCoordinates,r=o.ends;r.push(a.length)}}),N=Object(R.r)(b,{trkpt:function(e,t){const o=Object(R.u)({},A,e,t);if(o){const a=t[t.length-1],i=a.flatCoordinates,n=a.layoutOptions;r(i,n,e,o)}}}),A=Object(R.r)(b,{ele:Object(R.n)(f.d),time:Object(R.n)(f.c)}),M=Object(R.r)(b,{ele:Object(R.n)(f.d),time:Object(R.n)(f.c),magvar:Object(R.n)(f.d),geoidheight:Object(R.n)(f.d),name:Object(R.n)(f.h),cmt:Object(R.n)(f.h),desc:Object(R.n)(f.h),src:Object(R.n)(f.h),link:n,sym:Object(R.n)(f.h),type:Object(R.n)(f.h),fix:Object(R.n)(f.h),sat:Object(R.n)(f.f),hdop:Object(R.n)(f.d),vdop:Object(R.n)(f.d),pdop:Object(R.n)(f.d),ageofdgpsdata:Object(R.n)(f.d),dgpsid:Object(R.n)(f.f),extensions:s}),G=["text","type"],D=Object(R.r)(b,{text:Object(R.l)(f.n),type:Object(R.l)(f.n)}),k=Object(R.r)(b,["name","cmt","desc","src","link","number","type","rtept"]),j=Object(R.r)(b,{name:Object(R.l)(f.n),cmt:Object(R.l)(f.n),desc:Object(R.l)(f.n),src:Object(R.l)(f.n),link:Object(R.l)(g),number:Object(R.l)(f.m),type:Object(R.l)(f.n),rtept:Object(R.k)(Object(R.l)(_))}),U=Object(R.r)(b,["ele","time"]),B=Object(R.r)(b,["name","cmt","desc","src","link","number","type","trkseg"]),z=Object(R.r)(b,{name:Object(R.l)(f.n),cmt:Object(R.l)(f.n),desc:Object(R.l)(f.n),src:Object(R.l)(f.n),link:Object(R.l)(g),number:Object(R.l)(f.m),type:Object(R.l)(f.n),trkseg:Object(R.k)(Object(R.l)(function(e,t,o){const a={node:e,geometryLayout:t.getLayout(),properties:{}};Object(R.v)(a,V,Y,t.getCoordinates(),o)}))}),Y=Object(R.q)("trkpt"),V=Object(R.r)(b,{trkpt:Object(R.l)(_)}),X=Object(R.r)(b,["ele","time","magvar","geoidheight","name","cmt","desc","src","link","sym","type","fix","sat","hdop","vdop","pdop","ageofdgpsdata","dgpsid"]),W=Object(R.r)(b,{ele:Object(R.l)(f.l),time:Object(R.l)(f.k),magvar:Object(R.l)(f.l),geoidheight:Object(R.l)(f.l),name:Object(R.l)(f.n),cmt:Object(R.l)(f.n),desc:Object(R.l)(f.n),src:Object(R.l)(f.n),link:Object(R.l)(g),sym:Object(R.l)(f.n),type:Object(R.l)(f.n),fix:Object(R.l)(f.n),sat:Object(R.l)(f.m),hdop:Object(R.l)(f.l),vdop:Object(R.l)(f.l),pdop:Object(R.l)(f.l),ageofdgpsdata:Object(R.l)(f.l),dgpsid:Object(R.l)(f.m)}),K={Point:"wpt",LineString:"rte",MultiLineString:"trk"},H=Object(R.r)(b,{rte:Object(R.l)(function(e,t,o){const a=o[0],r=t.getProperties(),i={node:e,properties:r};let n=t.getGeometry();n&&(n=Object(m.b)(n,!0,a),i.geometryLayout=n.getLayout(),r.rtept=n.getCoordinates());const s=o[o.length-1].node,l=k[s.namespaceURI],d=Object(R.p)(r,l);Object(R.v)(i,j,R.b,d,o,l)}),trk:Object(R.l)(function(e,t,o){const a=o[0],r=t.getProperties();let i=t.getGeometry();i&&(i=Object(m.b)(i,!0,a),r.trkseg=i.getLineStrings());const n=o[o.length-1].node,s=B[n.namespaceURI],l=Object(R.p)(r,s);Object(R.v)({node:e,properties:r},z,R.b,l,o,s)}),wpt:Object(R.l)(function(e,t,o){const a=o[0],r=o[o.length-1];r.properties=t.getProperties();let i=t.getGeometry();i&&(i=Object(m.b)(i,!0,a),r.geometryLayout=i.getLayout(),_(e,i.getCoordinates(),o))})});I.prototype.handleReadExtensions_=function(e){e||(e=[]);for(let t=0,o=e.length;t<o;++t){const o=e[t];if(this.readExtensions_){const e=o.get("extensionsNode_")||null;this.readExtensions_(o,e)}o.set("extensionsNode_",void 0)}},I.prototype.readFeature,I.prototype.readFeatureFromNode=function(e,t){if(!Object(y.f)(b,e.namespaceURI))return null;const o=v[e.localName];if(!o)return null;const a=o(e,[this.getReadOptions(e,t)]);return a?(this.handleReadExtensions_([a]),a):null},I.prototype.readFeatures,I.prototype.readFeaturesFromNode=function(e,t){if(!Object(y.f)(b,e.namespaceURI))return[];if("gpx"==e.localName){const o=Object(R.u)([],L,e,[this.getReadOptions(e,t)]);return o?(this.handleReadExtensions_(o),o):[]}return[]},I.prototype.readProjection,I.prototype.writeFeatures,I.prototype.writeFeaturesNode=function(e,t){t=this.adaptOptions(t);const o=Object(R.d)("http://www.topografix.com/GPX/1/1","gpx");return o.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:xsi",R.c),o.setAttributeNS(R.c,"xsi:schemaLocation","http://www.topografix.com/GPX/1/1 http://www.topografix.com/GPX/1/1/gpx.xsd"),o.setAttribute("version","1.1"),o.setAttribute("creator","OpenLayers"),Object(R.v)({node:o},H,a,e,[t]),o},t.a=I},function(e,t,o){"use strict";var a=o(0),r=o(15),n=o(36),i=o(183),s=o(30),l=o(28),d=o(4);const p={BAROMETRIC:"barometric",GPS:"gps",NONE:"none"},g=function(e){const t=e?e:{};i.a.call(this),this.defaultDataProjection=Object(d.h)("EPSG:4326"),this.altitudeMode_=t.altitudeMode?t.altitudeMode:p.NONE};Object(a.g)(g,i.a);const _=/^B(\d{2})(\d{2})(\d{2})(\d{2})(\d{5})([NS])(\d{3})(\d{5})([EW])([AV])(\d{5})(\d{5})/,c=/^H.([A-Z]{3}).*?:(.*)/,u=/^HFDTE(\d{2})(\d{2})(\d{2})/,y=/\r\n|\r|\n/;g.prototype.readFeature,g.prototype.readFeatureFromText=function(e,t){const o=this.altitudeMode_,a=e.split(y),d={},g=[];let h=2e3,f=0,E=1,C=-1,x,i;for(x=0,i=a.length;x<i;++x){const e=a[x];let t;if("B"!=e.charAt(0))"H"==e.charAt(0)&&(t=u.exec(e),t?(E=parseInt(t[1],10),f=parseInt(t[2],10)-1,h=2e3+parseInt(t[3],10)):(t=c.exec(e),t&&(d[t[1]]=t[2].trim())));else if(t=_.exec(e),t){const e=parseInt(t[1],10),a=parseInt(t[2],10),r=parseInt(t[3],10);let i=parseInt(t[4],10)+parseInt(t[5],10)/6e4;"S"==t[6]&&(i=-i);let n=parseInt(t[7],10)+parseInt(t[8],10)/6e4;if("W"==t[9]&&(n=-n),g.push(n,i),o!=p.NONE){let e;e=o==p.GPS?parseInt(t[11],10):o==p.BAROMETRIC?parseInt(t[12],10):0,g.push(e)}let s=Date.UTC(h,f,E,e,a,r);s<C&&(s=Date.UTC(h,f,E+1,e,a,r)),g.push(s/1e3),C=s}}if(0===g.length)return null;const m=new l.a(null),T=o==p.NONE?s.a.XYM:s.a.XYZM;m.setFlatCoordinates(T,g);const S=new r.a(Object(n.b)(m,!1,t));return S.setProperties(d),S},g.prototype.readFeatures,g.prototype.readFeaturesFromText=function(e,t){const o=this.readFeatureFromText(e,t);return o?[o]:[]},g.prototype.readProjection,g.prototype.writeFeatureText=function(){},g.prototype.writeFeaturesText=function(){},g.prototype.writeGeometryText=function(){},g.prototype.readGeometryFromText=function(){},t.a=g},function(e,t,o){"use strict";var a=o(0),r=o(184),i=o(185),n=o(77),s=o(43);const l=function(){i.a.call(this)};Object(a.g)(l,i.a);const d=[null,"http://www.opengis.net/ows/1.1"],p=Object(s.r)(d,{ServiceIdentification:Object(s.n)(function(e,t){return Object(s.u)({},T,e,t)}),ServiceProvider:Object(s.n)(function(e,t){return Object(s.u)({},S,e,t)}),OperationsMetadata:Object(s.n)(function(e,t){return Object(s.u)({},f,e,t)})}),g=Object(s.r)(d,{DeliveryPoint:Object(s.n)(n.h),City:Object(s.n)(n.h),AdministrativeArea:Object(s.n)(n.h),PostalCode:Object(s.n)(n.h),Country:Object(s.n)(n.h),ElectronicMailAddress:Object(s.n)(n.h)}),_=Object(s.r)(d,{Value:Object(s.m)(function(e){return Object(n.h)(e)})}),c=Object(s.r)(d,{AllowedValues:Object(s.n)(function(e,t){return Object(s.u)({},_,e,t)})}),u=Object(s.r)(d,{Phone:Object(s.n)(function(e,t){return Object(s.u)({},x,e,t)}),Address:Object(s.n)(function(e,t){return Object(s.u)({},g,e,t)})}),y=Object(s.r)(d,{HTTP:Object(s.n)(function(e,t){return Object(s.u)({},m,e,t)})}),m=Object(s.r)(d,{Get:Object(s.m)(function(e,t){const o=Object(r.a)(e);return o?Object(s.u)({href:o},E,e,t):void 0}),Post:void 0}),h=Object(s.r)(d,{DCP:Object(s.n)(function(e,t){return Object(s.u)({},y,e,t)})}),f=Object(s.r)(d,{Operation:function(e,t){const o=e.getAttribute("name"),a=Object(s.u)({},h,e,t);if(a){const e=t[t.length-1];e[o]=a}}}),x=Object(s.r)(d,{Voice:Object(s.n)(n.h),Facsimile:Object(s.n)(n.h)}),E=Object(s.r)(d,{Constraint:Object(s.m)(function(e,t){const o=e.getAttribute("name");return o?Object(s.u)({name:o},c,e,t):void 0})}),C=Object(s.r)(d,{IndividualName:Object(s.n)(n.h),PositionName:Object(s.n)(n.h),ContactInfo:Object(s.n)(function(e,t){return Object(s.u)({},u,e,t)})}),T=Object(s.r)(d,{Abstract:Object(s.n)(n.h),AccessConstraints:Object(s.n)(n.h),Fees:Object(s.n)(n.h),Title:Object(s.n)(n.h),ServiceTypeVersion:Object(s.n)(n.h),ServiceType:Object(s.n)(n.h)}),S=Object(s.r)(d,{ProviderName:Object(s.n)(n.h),ProviderSite:Object(s.n)(r.a),ServiceContact:Object(s.n)(function(e,t){return Object(s.u)({},C,e,t)})});l.prototype.readFromDocument=function(e){for(let t=e.firstChild;t;t=t.nextSibling)if(t.nodeType==Node.ELEMENT_NODE)return this.readFromNode(t);return null},l.prototype.readFromNode=function(e){const t=Object(s.u)({},p,e,[]);return t?t:null},t.a=l},function(e,t,o){"use strict";function a(e,t,o){const a=o?o:1e5;let r;const n=Array(t);for(r=0;r<t;++r)n[r]=0;for(let a=0,i=e.length;a<i;)for(r=0;r<t;++r,++a){const t=e[a],o=t-n[r];n[r]=t,e[a]=o}return i(e,a)}function r(e,t,o){const a=o?o:1e5;let r;const s=Array(t);for(r=0;r<t;++r)s[r]=0;const l=n(e,a);for(let a=0,i=l.length;a<i;)for(r=0;r<t;++r,++a)s[r]+=l[a],l[a]=s[r];return l}function i(e,t){const o=t?t:1e5;for(let a=0,r=e.length;a<r;++a)e[a]=Math.round(e[a]*o);return s(e)}function n(e,t){const o=t?t:1e5,a=l(e);for(let r=0,i=a.length;r<i;++r)a[r]/=o;return a}function s(e){for(let t=0,o=e.length;t<o;++t){const o=e[t];e[t]=0>o?~(o<<1):o<<1}return d(e)}function l(e){const t=p(e);for(let o=0,a=t.length;o<a;++o){const e=t[o];t[o]=1&e?~(e>>1):e>>1}return t}function d(e){let t="";for(let o=0,a=e.length;o<a;++o)t+=g(e[o]);return t}function p(e){const t=[];let o=0,a=0;for(let r=0,i=e.length;r<i;++r){const i=e.charCodeAt(r)-63;o|=(31&i)<<a,32>i?(t.push(o),o=0,a=0):a+=5}return t}function g(e){let t="",o;for(;32<=e;)o=(32|31&e)+63,t+=_(o),e>>=5;return o=e+63,t+=_(o),t}var _=String.fromCharCode,c=o(0),u=o(19),y=o(15),m=o(36),h=o(183),f=o(30),x=o(28),E=o(44),C=o(364),T=o(73),S=o(4);const R=function(e){const t=e?e:{};h.a.call(this),this.defaultDataProjection=Object(S.h)("EPSG:4326"),this.factor_=t.factor?t.factor:1e5,this.geometryLayout_=t.geometryLayout?t.geometryLayout:f.a.XY};Object(c.g)(R,h.a),R.prototype.readFeature,R.prototype.readFeatureFromText=function(e,t){const o=this.readGeometryFromText(e,t);return new y.a(o)},R.prototype.readFeatures,R.prototype.readFeaturesFromText=function(e,t){const o=this.readFeatureFromText(e,t);return[o]},R.prototype.readGeometry,R.prototype.readGeometryFromText=function(e,t){const o=Object(E.b)(this.geometryLayout_),a=r(e,o,this.factor_);Object(C.a)(a,0,a.length,o,a);const i=Object(T.a)(a,0,a.length,o);return Object(m.b)(new x.a(i,this.geometryLayout_),!1,this.adaptOptions(t))},R.prototype.readProjection,R.prototype.writeFeatureText=function(e,t){const o=e.getGeometry();return o?this.writeGeometryText(o,t):(Object(u.a)(!1,40),"")},R.prototype.writeFeaturesText=function(e,t){return this.writeFeatureText(e[0],t)},R.prototype.writeGeometry,R.prototype.writeGeometryText=function(e,t){e=Object(m.b)(e,!0,this.adaptOptions(t));const o=e.getFlatCoordinates(),r=e.getStride();return Object(C.a)(o,0,o.length,r,o),a(o,r,this.factor_)},t.a=R},function(e,t,o){"use strict";var a=o(0),r=o(3),i=o(36),n=o(182),s=o(77),l=o(72),d=o(10),p=o(4),g=o(43);const _=n.a+" http://schemas.opengis.net/gml/2.1.2/feature.xsd",c=function(e){const t=e?e:{};n.b.call(this,t),this.FEATURE_COLLECTION_PARSERS[n.a].featureMember=Object(g.j)(n.b.prototype.readFeaturesInternal),this.schemaLocation=t.schemaLocation?t.schemaLocation:_};Object(a.g)(c,n.b),c.prototype.readFlatCoordinates_=function(e,t){const o=Object(g.e)(e,!1).replace(/^\s*|\s*$/g,""),a=t[0],r=a.srsName;let n="enu";if(r){const e=Object(p.h)(r);e&&(n=e.getAxisOrientation())}const s=o.trim().split(/\s+/),l=[];for(let o=0,a=s.length;o<a;o++){const e=s[o].split(/,+/),t=parseFloat(e[0]),a=parseFloat(e[1]),r=3===e.length?parseFloat(e[2]):0;"en"===n.substr(0,2)?l.push(t,a,r):l.push(a,t,r)}return l},c.prototype.readBox_=function(e,t){const o=Object(g.u)([null],this.BOX_PARSERS_,e,t,this);return Object(r.k)(o[1][0],o[1][1],o[1][3],o[1][4])},c.prototype.innerBoundaryIsParser_=function(e,t){const o=Object(g.u)(void 0,this.RING_PARSERS,e,t,this);if(o){const e=t[t.length-1];e.push(o)}},c.prototype.outerBoundaryIsParser_=function(e,t){const o=Object(g.u)(void 0,this.RING_PARSERS,e,t,this);if(o){const e=t[t.length-1];e[0]=o}},c.prototype.GEOMETRY_NODE_FACTORY_=function(e,t){const o=t[t.length-1],a=o.multiSurface,r=o.surface,i=o.multiCurve;let n;return Array.isArray(e)?n="Envelope":(n=e.getType(),"MultiPolygon"===n&&!0===a?n="MultiSurface":"Polygon"===n&&!0===r?n="Surface":"MultiLineString"===n&&!0===i&&(n="MultiCurve")),Object(g.d)("http://www.opengis.net/gml",n)},c.prototype.writeFeatureElement=function(e,t,o){const a=t.getId();a&&e.setAttribute("fid",a);const r=o[o.length-1],i=r.featureNS,n=t.getGeometryName();r.serializers||(r.serializers={},r.serializers[i]={});const p=t.getProperties(),_=[],c=[];for(const a in p){const e=p[a];null!==e&&(_.push(a),c.push(e),a==n||e instanceof l.a?!(a in r.serializers[i])&&(r.serializers[i][a]=Object(g.l)(this.writeGeometryElement,this)):!(a in r.serializers[i])&&(r.serializers[i][a]=Object(g.l)(s.n)))}const u=Object(d.a)({},r);u.node=e,Object(g.v)(u,r.serializers,Object(g.q)(void 0,i),c,o,_)},c.prototype.writeCurveOrLineString_=function(e,t,o){const a=o[o.length-1],r=a.srsName;if("LineStringSegment"!==e.nodeName&&r&&e.setAttribute("srsName",r),"LineString"===e.nodeName||"LineStringSegment"===e.nodeName){const a=this.createCoordinatesNode_(e.namespaceURI);e.appendChild(a),this.writeCoordinates_(a,t,o)}else if("Curve"===e.nodeName){const a=Object(g.d)(e.namespaceURI,"segments");e.appendChild(a),this.writeCurveSegments_(a,t,o)}},c.prototype.writeLineStringOrCurveMember_=function(e,t,o){const a=this.GEOMETRY_NODE_FACTORY_(t,o);a&&(e.appendChild(a),this.writeCurveOrLineString_(a,t,o))},c.prototype.writeMultiCurveOrLineString_=function(e,t,o){const a=o[o.length-1],r=a.hasZ,i=a.srsName,n=a.curve;i&&e.setAttribute("srsName",i);const s=t.getLineStrings();Object(g.v)({node:e,hasZ:r,srsName:i,curve:n},this.LINESTRINGORCURVEMEMBER_SERIALIZERS_,this.MULTIGEOMETRY_MEMBER_NODE_FACTORY_,s,o,void 0,this)},c.prototype.writeGeometryElement=function(e,t,o){const a=o[o.length-1],r=Object(d.a)({},a);r.node=e;let n;n=Array.isArray(t)?a.dataProjection?Object(p.o)(t,a.featureProjection,a.dataProjection):t:Object(i.b)(t,!0,a),Object(g.v)(r,this.GEOMETRY_SERIALIZERS_,this.GEOMETRY_NODE_FACTORY_,[n],o,void 0,this)},c.prototype.createCoordinatesNode_=function(e){const t=Object(g.d)(e,"coordinates");return t.setAttribute("decimal","."),t.setAttribute("cs",","),t.setAttribute("ts"," "),t},c.prototype.writeCoordinates_=function(e,t,o){const a=o[o.length-1],r=a.hasZ,n=a.srsName,l=t.getCoordinates(),d=l.length,p=Array(d);for(let a=0;a<d;++a){const e=l[a];p[a]=this.getCoords_(e,n,r)}Object(s.n)(e,p.join(" "))},c.prototype.writeCurveSegments_=function(e,t,o){const a=Object(g.d)(e.namespaceURI,"LineStringSegment");e.appendChild(a),this.writeCurveOrLineString_(a,t,o)},c.prototype.writeSurfaceOrPolygon_=function(e,t,o){const a=o[o.length-1],r=a.hasZ,i=a.srsName;if("PolygonPatch"!==e.nodeName&&i&&e.setAttribute("srsName",i),"Polygon"===e.nodeName||"PolygonPatch"===e.nodeName){const a=t.getLinearRings();Object(g.v)({node:e,hasZ:r,srsName:i},this.RING_SERIALIZERS_,this.RING_NODE_FACTORY_,a,o,void 0,this)}else if("Surface"===e.nodeName){const a=Object(g.d)(e.namespaceURI,"patches");e.appendChild(a),this.writeSurfacePatches_(a,t,o)}},c.prototype.RING_NODE_FACTORY_=function(e,t){const o=t[t.length-1],a=o.node,r=o.exteriorWritten;return void 0===r&&(o.exteriorWritten=!0),Object(g.d)(a.namespaceURI,void 0===r?"outerBoundaryIs":"innerBoundaryIs")},c.prototype.writeSurfacePatches_=function(e,t,o){const a=Object(g.d)(e.namespaceURI,"PolygonPatch");e.appendChild(a),this.writeSurfaceOrPolygon_(a,t,o)},c.prototype.writeRing_=function(e,t,o){const a=Object(g.d)(e.namespaceURI,"LinearRing");e.appendChild(a),this.writeLinearRing_(a,t,o)},c.prototype.getCoords_=function(e,t,o){let a="enu";t&&(a=Object(p.h)(t).getAxisOrientation());let r="en"===a.substr(0,2)?e[0]+","+e[1]:e[1]+","+e[0];if(o){const t=e[2]||0;r+=","+t}return r},c.prototype.writePoint_=function(e,t,o){const a=o[o.length-1],r=a.hasZ,i=a.srsName;i&&e.setAttribute("srsName",i);const n=this.createCoordinatesNode_(e.namespaceURI);e.appendChild(n);const l=t.getCoordinates(),d=this.getCoords_(l,i,r);Object(s.n)(n,d)},c.prototype.writeMultiPoint_=function(e,t,o){const a=o[o.length-1],r=a.hasZ,i=a.srsName;i&&e.setAttribute("srsName",i);const n=t.getPoints();Object(g.v)({node:e,hasZ:r,srsName:i},this.POINTMEMBER_SERIALIZERS_,Object(g.q)("pointMember"),n,o,void 0,this)},c.prototype.writePointMember_=function(e,t,o){const a=Object(g.d)(e.namespaceURI,"Point");e.appendChild(a),this.writePoint_(a,t,o)},c.prototype.writeLinearRing_=function(e,t,o){const a=o[o.length-1],r=a.srsName;r&&e.setAttribute("srsName",r);const i=this.createCoordinatesNode_(e.namespaceURI);e.appendChild(i),this.writeCoordinates_(i,t,o)},c.prototype.writeMultiSurfaceOrPolygon_=function(e,t,o){const a=o[o.length-1],r=a.hasZ,i=a.srsName,n=a.surface;i&&e.setAttribute("srsName",i);const s=t.getPolygons();Object(g.v)({node:e,hasZ:r,srsName:i,surface:n},this.SURFACEORPOLYGONMEMBER_SERIALIZERS_,this.MULTIGEOMETRY_MEMBER_NODE_FACTORY_,s,o,void 0,this)},c.prototype.writeSurfaceOrPolygonMember_=function(e,t,o){const a=this.GEOMETRY_NODE_FACTORY_(t,o);a&&(e.appendChild(a),this.writeSurfaceOrPolygon_(a,t,o))},c.prototype.writeEnvelope=function(e,t,o){const a=o[o.length-1],r=a.srsName;r&&e.setAttribute("srsName",r);const i=[t[0]+" "+t[1],t[2]+" "+t[3]];Object(g.v)({node:e},this.ENVELOPE_SERIALIZERS_,g.b,i,o,["lowerCorner","upperCorner"],this)};const u={MultiLineString:"lineStringMember",MultiCurve:"curveMember",MultiPolygon:"polygonMember",MultiSurface:"surfaceMember"};c.prototype.MULTIGEOMETRY_MEMBER_NODE_FACTORY_=function(e,t){const o=t[t.length-1].node;return Object(g.d)("http://www.opengis.net/gml",u[o.nodeName])},c.prototype.GEOMETRY_FLAT_COORDINATES_PARSERS_={"http://www.opengis.net/gml":{coordinates:Object(g.o)(c.prototype.readFlatCoordinates_)}},c.prototype.FLAT_LINEAR_RINGS_PARSERS_={"http://www.opengis.net/gml":{innerBoundaryIs:c.prototype.innerBoundaryIsParser_,outerBoundaryIs:c.prototype.outerBoundaryIsParser_}},c.prototype.BOX_PARSERS_={"http://www.opengis.net/gml":{coordinates:Object(g.j)(c.prototype.readFlatCoordinates_)}},c.prototype.GEOMETRY_PARSERS_={"http://www.opengis.net/gml":{Point:Object(g.o)(n.b.prototype.readPoint),MultiPoint:Object(g.o)(n.b.prototype.readMultiPoint),LineString:Object(g.o)(n.b.prototype.readLineString),MultiLineString:Object(g.o)(n.b.prototype.readMultiLineString),LinearRing:Object(g.o)(n.b.prototype.readLinearRing),Polygon:Object(g.o)(n.b.prototype.readPolygon),MultiPolygon:Object(g.o)(n.b.prototype.readMultiPolygon),Box:Object(g.o)(c.prototype.readBox_)}},c.prototype.GEOMETRY_SERIALIZERS_={"http://www.opengis.net/gml":{Curve:Object(g.l)(c.prototype.writeCurveOrLineString_),MultiCurve:Object(g.l)(c.prototype.writeMultiCurveOrLineString_),Point:Object(g.l)(c.prototype.writePoint_),MultiPoint:Object(g.l)(c.prototype.writeMultiPoint_),LineString:Object(g.l)(c.prototype.writeCurveOrLineString_),MultiLineString:Object(g.l)(c.prototype.writeMultiCurveOrLineString_),LinearRing:Object(g.l)(c.prototype.writeLinearRing_),Polygon:Object(g.l)(c.prototype.writeSurfaceOrPolygon_),MultiPolygon:Object(g.l)(c.prototype.writeMultiSurfaceOrPolygon_),Surface:Object(g.l)(c.prototype.writeSurfaceOrPolygon_),MultiSurface:Object(g.l)(c.prototype.writeMultiSurfaceOrPolygon_),Envelope:Object(g.l)(c.prototype.writeEnvelope)}},c.prototype.LINESTRINGORCURVEMEMBER_SERIALIZERS_={"http://www.opengis.net/gml":{lineStringMember:Object(g.l)(c.prototype.writeLineStringOrCurveMember_),curveMember:Object(g.l)(c.prototype.writeLineStringOrCurveMember_)}},c.prototype.RING_SERIALIZERS_={"http://www.opengis.net/gml":{outerBoundaryIs:Object(g.l)(c.prototype.writeRing_),innerBoundaryIs:Object(g.l)(c.prototype.writeRing_)}},c.prototype.POINTMEMBER_SERIALIZERS_={"http://www.opengis.net/gml":{pointMember:Object(g.l)(c.prototype.writePointMember_)}},c.prototype.SURFACEORPOLYGONMEMBER_SERIALIZERS_={"http://www.opengis.net/gml":{surfaceMember:Object(g.l)(c.prototype.writeSurfaceOrPolygonMember_),polygonMember:Object(g.l)(c.prototype.writeSurfaceOrPolygonMember_)}},c.prototype.ENVELOPE_SERIALIZERS_={"http://www.opengis.net/gml":{lowerCorner:Object(g.l)(s.n),upperCorner:Object(g.l)(s.n)}},t.a=c},function(e,t,o){"use strict";t.a=function(){const e=[null].concat(Array.prototype.slice.call(arguments));return new(Function.prototype.bind.apply(a.a,e))},t.b=function(e,t,o){return new r.a(e,t,o)},t.c=function(e,t,o){return new s.a(e,t,o)},t.d=function(e,t,o,a,r,i){return new _.a(e,t,o,a,r,i)};var a=o(366),r=o(367),i=o(368),n=o(369),s=o(370),l=o(371),d=o(372),p=o(373),g=o(374),_=o(375),c=o(376),u=o(377),y=o(378),m=o(379),h=o(380),f=o(381),x=o(382)},function(e,t,o){"use strict";var a=o(0),r=o(19),i=o(121);const n=function(e){i.a.call(this,e),this.conditions=Array.prototype.slice.call(arguments,1),Object(r.a)(2<=this.conditions.length,57)};Object(a.g)(n,i.a),t.a=n},function(e,t,o){"use strict";function a(e,t){return Object(g.u)({},P,e,t)}function r(e,t){return Object(g.u)({},I,e,t)}function i(e,t){const o=a(e,t);if(o){const t=[Object(p.g)(e.getAttribute("width")),Object(p.g)(e.getAttribute("height"))];return o.size=t,o}}function n(e,t){return Object(g.u)([],F,e,t)}var s=o(0),l=o(184),d=o(185),p=o(77),g=o(43);const _=function(){d.a.call(this),this.version=void 0};Object(s.g)(_,d.a);const c=[null,"http://www.opengis.net/wms"],u=Object(g.r)(c,{Service:Object(g.n)(function(e,t){return Object(g.u)({},m,e,t)}),Capability:Object(g.n)(function(e,t){return Object(g.u)({},y,e,t)})}),y=Object(g.r)(c,{Request:Object(g.n)(function(e,t){return Object(g.u)({},R,e,t)}),Exception:Object(g.n)(function(e,t){return Object(g.u)([],E,e,t)}),Layer:Object(g.n)(function(e,t){return Object(g.u)({},C,e,t)})}),m=Object(g.r)(c,{Name:Object(g.n)(p.h),Title:Object(g.n)(p.h),Abstract:Object(g.n)(p.h),KeywordList:Object(g.n)(n),OnlineResource:Object(g.n)(l.a),ContactInformation:Object(g.n)(function(e,t){return Object(g.u)({},h,e,t)}),Fees:Object(g.n)(p.h),AccessConstraints:Object(g.n)(p.h),LayerLimit:Object(g.n)(p.f),MaxWidth:Object(g.n)(p.f),MaxHeight:Object(g.n)(p.f)}),h=Object(g.r)(c,{ContactPersonPrimary:Object(g.n)(function(e,t){return Object(g.u)({},f,e,t)}),ContactPosition:Object(g.n)(p.h),ContactAddress:Object(g.n)(function(e,t){return Object(g.u)({},x,e,t)}),ContactVoiceTelephone:Object(g.n)(p.h),ContactFacsimileTelephone:Object(g.n)(p.h),ContactElectronicMailAddress:Object(g.n)(p.h)}),f=Object(g.r)(c,{ContactPerson:Object(g.n)(p.h),ContactOrganization:Object(g.n)(p.h)}),x=Object(g.r)(c,{AddressType:Object(g.n)(p.h),Address:Object(g.n)(p.h),City:Object(g.n)(p.h),StateOrProvince:Object(g.n)(p.h),PostCode:Object(g.n)(p.h),Country:Object(g.n)(p.h)}),E=Object(g.r)(c,{Format:Object(g.j)(p.h)}),C=Object(g.r)(c,{Name:Object(g.n)(p.h),Title:Object(g.n)(p.h),Abstract:Object(g.n)(p.h),KeywordList:Object(g.n)(n),CRS:Object(g.m)(p.h),EX_GeographicBoundingBox:Object(g.n)(function(e,t){const o=Object(g.u)({},S,e,t);if(o){const e=o.westBoundLongitude,t=o.southBoundLatitude,a=o.eastBoundLongitude,r=o.northBoundLatitude;return void 0===e||void 0===t||void 0===a||void 0===r?void 0:[e,t,a,r]}}),BoundingBox:Object(g.m)(function(e){const t=[Object(p.e)(e.getAttribute("minx")),Object(p.e)(e.getAttribute("miny")),Object(p.e)(e.getAttribute("maxx")),Object(p.e)(e.getAttribute("maxy"))],o=[Object(p.e)(e.getAttribute("resx")),Object(p.e)(e.getAttribute("resy"))];return{crs:e.getAttribute("CRS"),extent:t,res:o}}),Dimension:Object(g.m)(function(e){const t={name:e.getAttribute("name"),units:e.getAttribute("units"),unitSymbol:e.getAttribute("unitSymbol"),default:e.getAttribute("default"),multipleValues:Object(p.b)(e.getAttribute("multipleValues")),nearestValue:Object(p.b)(e.getAttribute("nearestValue")),current:Object(p.b)(e.getAttribute("current")),values:Object(p.h)(e)};return t}),Attribution:Object(g.n)(function(e,t){return Object(g.u)({},T,e,t)}),AuthorityURL:Object(g.m)(function(e,t){const o=a(e,t);return o?(o.name=e.getAttribute("name"),o):void 0}),Identifier:Object(g.m)(p.h),MetadataURL:Object(g.m)(function(e,t){const o=a(e,t);return o?(o.type=e.getAttribute("type"),o):void 0}),DataURL:Object(g.m)(a),FeatureListURL:Object(g.m)(a),Style:Object(g.m)(function(e,t){return Object(g.u)({},L,e,t)}),MinScaleDenominator:Object(g.n)(p.d),MaxScaleDenominator:Object(g.n)(p.d),Layer:Object(g.m)(function(e,t){const o=t[t.length-1],a=Object(g.u)({},C,e,t);if(!a)return;let r=Object(p.b)(e.getAttribute("queryable"));void 0===r&&(r=o.queryable),a.queryable=void 0!==r&&r;let i=Object(p.g)(e.getAttribute("cascaded"));void 0===i&&(i=o.cascaded),a.cascaded=i;let n=Object(p.b)(e.getAttribute("opaque"));void 0===n&&(n=o.opaque),a.opaque=void 0!==n&&n;let s=Object(p.b)(e.getAttribute("noSubsets"));void 0===s&&(s=o.noSubsets),a.noSubsets=void 0!==s&&s;let l=Object(p.e)(e.getAttribute("fixedWidth"));l||(l=o.fixedWidth),a.fixedWidth=l;let d=Object(p.e)(e.getAttribute("fixedHeight"));d||(d=o.fixedHeight),a.fixedHeight=d;["Style","CRS","AuthorityURL"].forEach(function(e){if(e in o){const t=a[e]||[];a[e]=t.concat(o[e])}});return["EX_GeographicBoundingBox","BoundingBox","Dimension","Attribution","MinScaleDenominator","MaxScaleDenominator"].forEach(function(e){if(!(e in a)){const t=o[e];a[e]=t}}),a})}),T=Object(g.r)(c,{Title:Object(g.n)(p.h),OnlineResource:Object(g.n)(l.a),LogoURL:Object(g.n)(i)}),S=Object(g.r)(c,{westBoundLongitude:Object(g.n)(p.d),eastBoundLongitude:Object(g.n)(p.d),southBoundLatitude:Object(g.n)(p.d),northBoundLatitude:Object(g.n)(p.d)}),R=Object(g.r)(c,{GetCapabilities:Object(g.n)(r),GetMap:Object(g.n)(r),GetFeatureInfo:Object(g.n)(r)}),I=Object(g.r)(c,{Format:Object(g.m)(p.h),DCPType:Object(g.m)(function(e,t){return Object(g.u)({},b,e,t)})}),b=Object(g.r)(c,{HTTP:Object(g.n)(function(e,t){return Object(g.u)({},v,e,t)})}),v=Object(g.r)(c,{Get:Object(g.n)(a),Post:Object(g.n)(a)}),L=Object(g.r)(c,{Name:Object(g.n)(p.h),Title:Object(g.n)(p.h),Abstract:Object(g.n)(p.h),LegendURL:Object(g.m)(i),StyleSheetURL:Object(g.n)(a),StyleURL:Object(g.n)(a)}),P=Object(g.r)(c,{Format:Object(g.n)(p.h),OnlineResource:Object(g.n)(l.a)}),F=Object(g.r)(c,{Keyword:Object(g.j)(p.h)});_.prototype.read,_.prototype.readFromDocument=function(e){for(let t=e.firstChild;t;t=t.nextSibling)if(t.nodeType==Node.ELEMENT_NODE)return this.readFromNode(t);return null},_.prototype.readFromNode=function(e){this.version=e.getAttribute("version").trim();const t=Object(g.u)({version:this.version},u,e,[]);return t?t:null},t.a=_},function(e,t,o){"use strict";var a=o(0),r=o(13),i=o(263),n=o(98),s=o(10),l=o(43);const d=function(e){const t=e?e:{};this.featureNS_="http://mapserver.gis.umn.edu/mapserver",this.gmlFormat_=new i.a,this.layers_=t.layers?t.layers:null,n.a.call(this)};Object(a.g)(d,n.a);d.prototype.getLayers=function(){return this.layers_},d.prototype.setLayers=function(e){this.layers_=e},d.prototype.readFeatures_=function(e,t){e.setAttribute("namespaceURI",this.featureNS_);const o=e.localName;let a=[];if(0===e.childNodes.length)return a;if("msGMLOutput"==o)for(let o=0,i=e.childNodes.length;o<i;o++){const i=e.childNodes[o];if(i.nodeType!==Node.ELEMENT_NODE)continue;const n=t[0],s=i.localName.replace("_layer","");if(this.layers_&&!Object(r.f)(this.layers_,s))continue;const d=s+"_feature";n.featureType=d,n.featureNS=this.featureNS_;const p={};p[d]=Object(l.j)(this.gmlFormat_.readFeatureElement,this.gmlFormat_);const g=Object(l.r)([n.featureNS,null],p);i.setAttribute("namespaceURI",this.featureNS_);const _=Object(l.u)([],g,i,t,this.gmlFormat_);_&&Object(r.c)(a,_)}if("FeatureCollection"==o){const t=Object(l.u)([],this.gmlFormat_.FEATURE_COLLECTION_PARSERS,e,[{}],this.gmlFormat_);t&&(a=t)}return a},d.prototype.readFeatures,d.prototype.readFeaturesFromNode=function(e,t){const o={};return t&&Object(s.a)(o,this.getReadOptions(e,t)),this.readFeatures_(e,[o])},d.prototype.writeFeatureNode=function(){},d.prototype.writeFeaturesNode=function(){},d.prototype.writeGeometryNode=function(){},t.a=d},function(e,t,o){"use strict";t.a=function(e,t){const o=e.canvas,n=t?t:{},s=n.pixelRatio||a.b,l=n.size;l&&(o.width=l[0]*s,o.height=l[1]*s,o.style.width=l[0]+"px",o.style.height=l[1]+"px");const d=[0,0,o.width,o.height],p=Object(r.h)(Object(r.c)(),s,s);return new i.a(e,s,d,p,0)};var a=o(37),r=o(27),i=o(169)},function(e,t,o){"use strict";var a=Math.abs,r=Math.floor,i=Math.min,n=Math.pow,s=Math.max,l=o(41),d=o(8),p=o(3),g=o(30),_=o(28),c=o(21),u=o(415),y=o(17),m=o(4),h=o(75),f=o(113),x=o(89),E=o(177);const C=new x.a({color:"rgba(0,0,0,0.2)"}),T=[90,45,30,20,10,5,2,1,.5,.2,.1,.05,.01,.005,.002,.001],S=function(e){const t=e||{};if(this.map_=null,this.postcomposeListenerKey_=null,this.projection_=null,this.maxLat_=Infinity,this.maxLon_=Infinity,this.minLat_=-Infinity,this.minLon_=-Infinity,this.maxLatP_=Infinity,this.maxLonP_=Infinity,this.minLatP_=-Infinity,this.minLonP_=-Infinity,this.targetSize_=void 0===t.targetSize?100:t.targetSize,this.maxLines_=void 0===t.maxLines?100:t.maxLines,this.meridians_=[],this.parallels_=[],this.strokeStyle_=void 0===t.strokeStyle?C:t.strokeStyle,this.fromLonLatTransform_=void 0,this.toLonLatTransform_=void 0,this.projectionCenterLonLat_=null,this.meridiansLabels_=null,this.parallelsLabels_=null,!0==t.showLabels){const e=l.e;this.lonLabelFormatter_=void 0==t.lonLabelFormatter?e.bind(this,"EW"):t.lonLabelFormatter,this.latLabelFormatter_=void 0==t.latLabelFormatter?e.bind(this,"NS"):t.latLabelFormatter,this.lonLabelPosition_=void 0==t.lonLabelPosition?0:t.lonLabelPosition,this.latLabelPosition_=void 0==t.latLabelPosition?1:t.latLabelPosition,this.lonLabelStyle_=void 0===t.lonLabelStyle?new E.a({font:"12px Calibri,sans-serif",textBaseline:"bottom",fill:new f.a({color:"rgba(0,0,0,1)"}),stroke:new x.a({color:"rgba(255,255,255,1)",width:3})}):t.lonLabelStyle,this.latLabelStyle_=void 0===t.latLabelStyle?new E.a({font:"12px Calibri,sans-serif",textAlign:"end",fill:new f.a({color:"rgba(0,0,0,1)"}),stroke:new x.a({color:"rgba(255,255,255,1)",width:3})}):t.latLabelStyle,this.meridiansLabels_=[],this.parallelsLabels_=[]}this.setMap(void 0===t.map?null:t.map)};S.prototype.addMeridian_=function(e,t,o,a,r,i){const n=this.getMeridian_(e,t,o,a,i);if(Object(p.F)(n.getExtent(),r)){if(this.meridiansLabels_){const t=this.getMeridianPoint_(n,r,i);this.meridiansLabels_[i]={geom:t,text:this.lonLabelFormatter_(e)}}this.meridians_[i++]=n}return i},S.prototype.getMeridianPoint_=function(e,t,o){const r=e.getFlatCoordinates(),n=s(t[1],r[1]),l=i(t[3],r[r.length-1]),d=Object(y.a)(t[1]+a(t[1]-t[3])*this.lonLabelPosition_,n,l),p=[r[0],d],g=void 0===this.meridiansLabels_[o]?new c.a(null):this.meridiansLabels_[o].geom;return g.setCoordinates(p),g},S.prototype.addParallel_=function(e,t,o,a,r,i){const n=this.getParallel_(e,t,o,a,i);if(Object(p.F)(n.getExtent(),r)){if(this.parallelsLabels_){const t=this.getParallelPoint_(n,r,i);this.parallelsLabels_[i]={geom:t,text:this.latLabelFormatter_(e)}}this.parallels_[i++]=n}return i},S.prototype.getParallelPoint_=function(e,t,o){const r=e.getFlatCoordinates(),n=s(t[0],r[0]),l=i(t[2],r[r.length-2]),d=Object(y.a)(t[0]+a(t[0]-t[2])*this.latLabelPosition_,n,l),p=[d,r[1]],g=void 0===this.parallelsLabels_[o]?new c.a(null):this.parallelsLabels_[o].geom;return g.setCoordinates(p),g},S.prototype.createGraticule_=function(e,t,o,a){const n=this.getInterval_(o);if(-1==n)return this.meridians_.length=this.parallels_.length=0,this.meridiansLabels_&&(this.meridiansLabels_.length=0),void(this.parallelsLabels_&&(this.parallelsLabels_.length=0));const l=this.toLonLatTransform_(t);let d=l[0],p=l[1];const g=this.maxLines_;let _=[s(e[0],this.minLonP_),s(e[1],this.minLatP_),i(e[2],this.maxLonP_),i(e[3],this.maxLatP_)],c,u,h,f;_=Object(m.o)(_,this.projection_,"EPSG:4326");const x=_[3],E=_[2],C=_[1],T=_[0];for(d=r(d/n)*n,f=Object(y.a)(d,this.minLon_,this.maxLon_),u=this.addMeridian_(f,C,x,a,e,0),c=0;f!=this.minLon_&&c++<g;)f=s(f-n,this.minLon_),u=this.addMeridian_(f,C,x,a,e,u);for(f=Object(y.a)(d,this.minLon_,this.maxLon_),c=0;f!=this.maxLon_&&c++<g;)f=i(f+n,this.maxLon_),u=this.addMeridian_(f,C,x,a,e,u);for(this.meridians_.length=u,this.meridiansLabels_&&(this.meridiansLabels_.length=u),p=r(p/n)*n,h=Object(y.a)(p,this.minLat_,this.maxLat_),u=this.addParallel_(h,T,E,a,e,0),c=0;h!=this.minLat_&&c++<g;)h=s(h-n,this.minLat_),u=this.addParallel_(h,T,E,a,e,u);for(h=Object(y.a)(p,this.minLat_,this.maxLat_),c=0;h!=this.maxLat_&&c++<g;)h=i(h+n,this.maxLat_),u=this.addParallel_(h,T,E,a,e,u);this.parallels_.length=u,this.parallelsLabels_&&(this.parallelsLabels_.length=u)},S.prototype.getInterval_=function(e){const t=this.projectionCenterLonLat_[0],o=this.projectionCenterLonLat_[1];let a=-1,r,i,s,l;const d=n(this.targetSize_*e,2),p=[],g=[];for(r=0,i=T.length;r<i&&(s=T[r]/2,p[0]=t-s,p[1]=o-s,g[0]=t+s,g[1]=o+s,this.fromLonLatTransform_(p,p),this.fromLonLatTransform_(g,g),l=n(g[0]-p[0],2)+n(g[1]-p[1],2),!(l<=d));++r)a=T[r];return a},S.prototype.getMap=function(){return this.map_},S.prototype.getMeridian_=function(e,t,o,a,r){const i=Object(u.a)(e,t,o,this.projection_,a),n=void 0===this.meridians_[r]?new _.a(null):this.meridians_[r];return n.setFlatCoordinates(g.a.XY,i),n},S.prototype.getMeridians=function(){return this.meridians_},S.prototype.getParallel_=function(e,t,o,a,r){const i=Object(u.b)(e,t,o,this.projection_,a),n=void 0===this.parallels_[r]?new _.a(null):this.parallels_[r];return n.setFlatCoordinates(g.a.XY,i),n},S.prototype.getParallels=function(){return this.parallels_},S.prototype.handlePostCompose_=function(t){const e=t.vectorContext,o=t.frameState,a=o.extent,r=o.viewState,n=r.center,s=r.projection,d=r.resolution,p=o.pixelRatio,g=!this.projection_||!Object(m.f)(this.projection_,s);g&&this.updateProjectionInfo_(s),this.createGraticule_(a,n,d,d*d/(4*p*p)),e.setFillStrokeStyle(null,this.strokeStyle_);let _,i,l;for(_=0,i=this.meridians_.length;_<i;++_)l=this.meridians_[_],e.drawGeometry(l);for(_=0,i=this.parallels_.length;_<i;++_)l=this.parallels_[_],e.drawGeometry(l);let c;if(this.meridiansLabels_)for(_=0,i=this.meridiansLabels_.length;_<i;++_)c=this.meridiansLabels_[_],this.lonLabelStyle_.setText(c.text),e.setTextStyle(this.lonLabelStyle_),e.drawGeometry(c.geom);if(this.parallelsLabels_)for(_=0,i=this.parallelsLabels_.length;_<i;++_)c=this.parallelsLabels_[_],this.latLabelStyle_.setText(c.text),e.setTextStyle(this.latLabelStyle_),e.drawGeometry(c.geom)},S.prototype.updateProjectionInfo_=function(e){const t=Object(m.h)("EPSG:4326"),o=e.getExtent(),a=e.getWorldExtent(),r=Object(m.o)(a,t,e),i=a[3],n=a[2],s=a[1],l=a[0],d=r[3],g=r[2],_=r[1],c=r[0];this.maxLat_=i,this.maxLon_=n,this.minLat_=s,this.minLon_=l,this.maxLatP_=d,this.maxLonP_=g,this.minLatP_=_,this.minLonP_=c,this.fromLonLatTransform_=Object(m.j)(t,e),this.toLonLatTransform_=Object(m.j)(e,t),this.projectionCenterLonLat_=this.toLonLatTransform_(Object(p.x)(o)),this.projection_=e},S.prototype.setMap=function(e){this.map_&&(Object(d.e)(this.postcomposeListenerKey_),this.postcomposeListenerKey_=null,this.map_.render()),e&&(this.postcomposeListenerKey_=Object(d.a)(e,h.a.POSTCOMPOSE,this.handlePostCompose_,this),e.render()),this.map_=e},t.a=S},function(e,t,o){"use strict";var a=o(0),r=o(3),i=o(22),n=o(116),s=o(137),l=o(271);const d=function(e,t,o,a,r,i,n){s.a.call(this),this.context_=e,this.center_=t,this.extent_=i,this.pixelRatio_=n,this.size_=r,this.rotation_=a,this.resolution_=o,this.imageStyle_=null,this.fillStyle_=null,this.strokeStyle_=null,this.textStyle_=null};Object(a.g)(d,s.a),d.prototype.drawText_=function(e,t){const o=this.context_,a=e.getReplay(0,n.a.TEXT);a.setTextStyle(this.textStyle_),a.drawText(t,null),a.finish(o);let r;a.replay(this.context_,this.center_,this.resolution_,this.rotation_,this.size_,this.pixelRatio_,1,{},r,!1),a.getDeleteResourcesFunction(o)()},d.prototype.setStyle=function(e){this.setFillStrokeStyle(e.getFill(),e.getStroke()),this.setImageStyle(e.getImage()),this.setTextStyle(e.getText())},d.prototype.drawGeometry=function(e){const t=e.getType();switch(t){case i.a.POINT:this.drawPoint(e,null);break;case i.a.LINE_STRING:this.drawLineString(e,null);break;case i.a.POLYGON:this.drawPolygon(e,null);break;case i.a.MULTI_POINT:this.drawMultiPoint(e,null);break;case i.a.MULTI_LINE_STRING:this.drawMultiLineString(e,null);break;case i.a.MULTI_POLYGON:this.drawMultiPolygon(e,null);break;case i.a.GEOMETRY_COLLECTION:this.drawGeometryCollection(e,null);break;case i.a.CIRCLE:this.drawCircle(e,null);break;default:}},d.prototype.drawFeature=function(e,t){const o=t.getGeometryFunction()(e);o&&Object(r.F)(this.extent_,o.getExtent())&&(this.setStyle(t),this.drawGeometry(o))},d.prototype.drawGeometryCollection=function(e){const t=e.getGeometriesArray();let o,a;for(o=0,a=t.length;o<a;++o)this.drawGeometry(t[o])},d.prototype.drawPoint=function(e,t){const o=this.context_,a=new l.a(1,this.extent_),r=a.getReplay(0,n.a.IMAGE);r.setImageStyle(this.imageStyle_),r.drawPoint(e,t),r.finish(o);let i;r.replay(this.context_,this.center_,this.resolution_,this.rotation_,this.size_,this.pixelRatio_,1,{},i,!1),r.getDeleteResourcesFunction(o)(),this.textStyle_&&this.drawText_(a,e)},d.prototype.drawMultiPoint=function(e,t){const o=this.context_,a=new l.a(1,this.extent_),r=a.getReplay(0,n.a.IMAGE);r.setImageStyle(this.imageStyle_),r.drawMultiPoint(e,t),r.finish(o);let i;r.replay(this.context_,this.center_,this.resolution_,this.rotation_,this.size_,this.pixelRatio_,1,{},i,!1),r.getDeleteResourcesFunction(o)(),this.textStyle_&&this.drawText_(a,e)},d.prototype.drawLineString=function(e,t){const o=this.context_,a=new l.a(1,this.extent_),r=a.getReplay(0,n.a.LINE_STRING);r.setFillStrokeStyle(null,this.strokeStyle_),r.drawLineString(e,t),r.finish(o);let i;r.replay(this.context_,this.center_,this.resolution_,this.rotation_,this.size_,this.pixelRatio_,1,{},i,!1),r.getDeleteResourcesFunction(o)(),this.textStyle_&&this.drawText_(a,e)},d.prototype.drawMultiLineString=function(e,t){const o=this.context_,a=new l.a(1,this.extent_),r=a.getReplay(0,n.a.LINE_STRING);r.setFillStrokeStyle(null,this.strokeStyle_),r.drawMultiLineString(e,t),r.finish(o);let i;r.replay(this.context_,this.center_,this.resolution_,this.rotation_,this.size_,this.pixelRatio_,1,{},i,!1),r.getDeleteResourcesFunction(o)(),this.textStyle_&&this.drawText_(a,e)},d.prototype.drawPolygon=function(e,t){const o=this.context_,a=new l.a(1,this.extent_),r=a.getReplay(0,n.a.POLYGON);r.setFillStrokeStyle(this.fillStyle_,this.strokeStyle_),r.drawPolygon(e,t),r.finish(o);let i;r.replay(this.context_,this.center_,this.resolution_,this.rotation_,this.size_,this.pixelRatio_,1,{},i,!1),r.getDeleteResourcesFunction(o)(),this.textStyle_&&this.drawText_(a,e)},d.prototype.drawMultiPolygon=function(e,t){const o=this.context_,a=new l.a(1,this.extent_),r=a.getReplay(0,n.a.POLYGON);r.setFillStrokeStyle(this.fillStyle_,this.strokeStyle_),r.drawMultiPolygon(e,t),r.finish(o);let i;r.replay(this.context_,this.center_,this.resolution_,this.rotation_,this.size_,this.pixelRatio_,1,{},i,!1),r.getDeleteResourcesFunction(o)(),this.textStyle_&&this.drawText_(a,e)},d.prototype.drawCircle=function(e,t){const o=this.context_,a=new l.a(1,this.extent_),r=a.getReplay(0,n.a.CIRCLE);r.setFillStrokeStyle(this.fillStyle_,this.strokeStyle_),r.drawCircle(e,t),r.finish(o);let i;r.replay(this.context_,this.center_,this.resolution_,this.rotation_,this.size_,this.pixelRatio_,1,{},i,!1),r.getDeleteResourcesFunction(o)(),this.textStyle_&&this.drawText_(a,e)},d.prototype.setImageStyle=function(e){this.imageStyle_=e},d.prototype.setFillStrokeStyle=function(e,t){this.fillStyle_=e,this.strokeStyle_=t},d.prototype.setTextStyle=function(e){this.textStyle_=e},t.a=d},function(e,t,o){"use strict";var a=o(0),r=o(13),i=o(3),n=o(10),s=o(91),l=o(240),d=o(423),p=o(426),g=o(276),_=o(432),c=o(436);const u=[1,1],y={Circle:d.a,Image:p.a,LineString:g.a,Polygon:_.a,Text:c.a},m=function(e,t,o){l.a.call(this),this.maxExtent_=t,this.tolerance_=e,this.renderBuffer_=o,this.replaysByZIndex_={}};Object(a.g)(m,l.a),m.prototype.addDeclutter=function(){},m.prototype.getDeleteResourcesFunction=function(e){const t=[];for(var o in this.replaysByZIndex_){const a=this.replaysByZIndex_[o];for(const o in a)t.push(a[o].getDeleteResourcesFunction(e))}return function(){const e=t.length;let o;for(let a=0;a<e;a++)o=t[a].apply(this,arguments);return o}},m.prototype.finish=function(e){for(var t in this.replaysByZIndex_){const o=this.replaysByZIndex_[t];for(const t in o)o[t].finish(e)}},m.prototype.getReplay=function(e,t){const o=e===void 0?"0":e.toString();let a=this.replaysByZIndex_[o];a===void 0&&(a={},this.replaysByZIndex_[o]=a);let r=a[t];if(r===void 0){const e=y[t];r=new e(this.tolerance_,this.maxExtent_),a[t]=r}return r},m.prototype.isEmpty=function(){return Object(n.d)(this.replaysByZIndex_)},m.prototype.replay=function(e,t,o,a,n,l,d,p){const g=Object.keys(this.replaysByZIndex_).map(Number);g.sort(r.i);let _,i,c,u,y,m;for(_=0,i=g.length;_<i;++_)for(y=this.replaysByZIndex_[g[_].toString()],c=0,u=s.a.length;c<u;++c)m=y[s.a[c]],void 0!==m&&m.replay(e,t,o,a,n,l,d,p,void 0,!1)},m.prototype.replayHitDetection_=function(e,t,o,a,r,n,l,d,p,g,_){const c=Object.keys(this.replaysByZIndex_).map(Number);c.sort(function(e,t){return t-e});let u,i,y,m,h,f;for(u=0,i=c.length;u<i;++u)for(m=this.replaysByZIndex_[c[u].toString()],y=s.a.length-1;0<=y;--y)if(h=m[s.a[y]],void 0!==h&&(f=h.replay(e,t,o,a,r,n,l,d,p,g,_),f))return f},m.prototype.forEachFeatureAtCoordinate=function(e,t,o,a,r,n,s,l,d,p){const g=t.getGL();g.bindFramebuffer(g.FRAMEBUFFER,t.getHitDetectionFramebuffer());let _;return void 0!==this.renderBuffer_&&(_=Object(i.c)(Object(i.m)(e),a*this.renderBuffer_)),this.replayHitDetection_(t,e,a,r,u,s,l,d,function(e){const t=new Uint8Array(4);if(g.readPixels(0,0,1,1,g.RGBA,g.UNSIGNED_BYTE,t),0<t[3]){const t=p(e);if(t)return t}},!0,_)},m.prototype.hasFeatureAtCoordinate=function(e,t,o,a,r,i,n,s,l){const d=t.getGL();d.bindFramebuffer(d.FRAMEBUFFER,t.getHitDetectionFramebuffer());const p=this.replayHitDetection_(t,e,a,r,u,n,s,l,function(){const e=new Uint8Array(4);return d.readPixels(0,0,1,1,d.RGBA,d.UNSIGNED_BYTE,e),0<e[3]},!1);return p!==void 0},t.a=m},function(e,t,o){"use strict";var a=o(18);const r=function(e){this.source_=e};r.prototype.getType=function(){},r.prototype.getSource=function(){return this.source_},r.prototype.isAnimated=a.a,t.a=r},function(e,t){"use strict";t.a=function(){return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]},t.b=function(e,t){return e[0]=t[0],e[1]=t[1],e[4]=t[2],e[5]=t[3],e[12]=t[4],e[13]=t[5],e}},function(e,t,o){"use strict";var a=o(0),r=o(3),i=o(10),n=o(427),s=o(428),l=o(143),d=o(39),p=o(145);const g=function(e,t){l.a.call(this,e,t),this.anchorX=void 0,this.anchorY=void 0,this.groupIndices=[],this.hitDetectionGroupIndices=[],this.height=void 0,this.imageHeight=void 0,this.imageWidth=void 0,this.defaultLocations=null,this.opacity=void 0,this.originX=void 0,this.originY=void 0,this.rotateWithView=void 0,this.rotation=void 0,this.scale=void 0,this.width=void 0};Object(a.g)(g,l.a),g.prototype.getDeleteResourcesFunction=function(e){const t=this.verticesBuffer,o=this.indicesBuffer,a=this.getTextures(!0),r=e.getGL();return function(){if(!r.isContextLost()){let e,t;for(e=0,t=a.length;e<t;++e)r.deleteTexture(a[e])}e.deleteBuffer(t),e.deleteBuffer(o)}},g.prototype.drawCoordinates=function(e,t,o,a){const r=this.anchorX,s=this.anchorY,l=this.height,d=this.imageHeight,p=this.imageWidth,g=this.opacity,_=this.originX,c=this.originY,u=this.rotateWithView?1:0,m=-this.rotation,h=this.scale,f=this.width,E=Math.cos(m),C=Math.sin(m);let T=this.indices.length,S=this.vertices.length,R,i,n,I,b,x;for(R=t;R<o;R+=a)b=e[R]-this.origin[0],x=e[R+1]-this.origin[1],i=S/8,n=-h*r,I=-h*(l-s),this.vertices[S++]=b,this.vertices[S++]=x,this.vertices[S++]=n*E-I*C,this.vertices[S++]=n*C+I*E,this.vertices[S++]=_/p,this.vertices[S++]=(c+l)/d,this.vertices[S++]=g,this.vertices[S++]=u,n=h*(f-r),I=-h*(l-s),this.vertices[S++]=b,this.vertices[S++]=x,this.vertices[S++]=n*E-I*C,this.vertices[S++]=n*C+I*E,this.vertices[S++]=(_+f)/p,this.vertices[S++]=(c+l)/d,this.vertices[S++]=g,this.vertices[S++]=u,n=h*(f-r),I=h*s,this.vertices[S++]=b,this.vertices[S++]=x,this.vertices[S++]=n*E-I*C,this.vertices[S++]=n*C+I*E,this.vertices[S++]=(_+f)/p,this.vertices[S++]=c/d,this.vertices[S++]=g,this.vertices[S++]=u,n=-h*r,I=h*s,this.vertices[S++]=b,this.vertices[S++]=x,this.vertices[S++]=n*E-I*C,this.vertices[S++]=n*C+I*E,this.vertices[S++]=_/p,this.vertices[S++]=c/d,this.vertices[S++]=g,this.vertices[S++]=u,this.indices[T++]=i,this.indices[T++]=i+1,this.indices[T++]=i+2,this.indices[T++]=i,this.indices[T++]=i+2,this.indices[T++]=i+3;return S},g.prototype.createTextures=function(e,t,o,r){let n,s,l,g;const i=t.length;for(g=0;g<i;++g)s=t[g],l=Object(a.f)(s).toString(),l in o?n=o[l]:(n=Object(p.b)(r,s,d.c,d.c),o[l]=n),e[g]=n},g.prototype.setUpProgram=function(e,t){const o=t.getProgram(n.a,n.b);let a;return this.defaultLocations?a=this.defaultLocations:(a=new s.a(e,o),this.defaultLocations=a),t.useProgram(o),e.enableVertexAttribArray(a.a_position),e.vertexAttribPointer(a.a_position,2,d.j,!1,32,0),e.enableVertexAttribArray(a.a_offsets),e.vertexAttribPointer(a.a_offsets,2,d.j,!1,32,8),e.enableVertexAttribArray(a.a_texCoord),e.vertexAttribPointer(a.a_texCoord,2,d.j,!1,32,16),e.enableVertexAttribArray(a.a_opacity),e.vertexAttribPointer(a.a_opacity,1,d.j,!1,32,24),e.enableVertexAttribArray(a.a_rotateWithView),e.vertexAttribPointer(a.a_rotateWithView,1,d.j,!1,32,28),a},g.prototype.shutDownProgram=function(e,t){e.disableVertexAttribArray(t.a_position),e.disableVertexAttribArray(t.a_offsets),e.disableVertexAttribArray(t.a_texCoord),e.disableVertexAttribArray(t.a_opacity),e.disableVertexAttribArray(t.a_rotateWithView)},g.prototype.drawReplay=function(e,t,o,a){const r=a?this.getHitDetectionTextures():this.getTextures(),n=a?this.hitDetectionGroupIndices:this.groupIndices;if(!Object(i.d)(o))this.drawReplaySkipping(e,t,o,r,n);else{let o,a,i;for(o=0,a=r.length,i=0;o<a;++o){e.bindTexture(d.w,r[o]);const a=n[o];this.drawElements(e,t,i,a),i=a}}},g.prototype.drawReplaySkipping=function(e,t,o,r,n){let s=0,l,i;for(l=0,i=r.length;l<i;++l){e.bindTexture(d.w,r[l]);const i=0<l?n[l-1]:0,p=n[l];let g=i,_=i;for(;s<this.startIndices.length&&this.startIndices[s]<=p;){const r=this.startIndicesFeature[s],i=Object(a.f)(r).toString();o[i]===void 0?_=s==this.startIndices.length-1?p:this.startIndices[s+1]:(g!==_&&this.drawElements(e,t,g,_),g=s==this.startIndices.length-1?p:this.startIndices[s+1],_=g),s++}g!==_&&this.drawElements(e,t,g,_)}},g.prototype.drawHitDetectionReplayOneByOne=function(e,t,o,n,s){let l=this.startIndices.length-1,p,i,g,_,c,u;const y=this.getHitDetectionTextures();for(p=y.length-1;0<=p;--p)for(e.bindTexture(d.w,y[p]),i=0<p?this.hitDetectionGroupIndices[p-1]:0,_=this.hitDetectionGroupIndices[p];0<=l&&this.startIndices[l]>=i;){if(g=this.startIndices[l],c=this.startIndicesFeature[l],u=Object(a.f)(c).toString(),void 0===o[u]&&c.getGeometry()&&(void 0===s||Object(r.F)(s,c.getGeometry().getExtent()))){e.clear(e.COLOR_BUFFER_BIT|e.DEPTH_BUFFER_BIT),this.drawElements(e,t,g,_);const o=n(c);if(o)return o}_=g,l--}},g.prototype.finish=function(){this.anchorX=void 0,this.anchorY=void 0,this.height=void 0,this.imageHeight=void 0,this.imageWidth=void 0,this.indices=null,this.opacity=void 0,this.originX=void 0,this.originY=void 0,this.rotateWithView=void 0,this.rotation=void 0,this.scale=void 0,this.vertices=null,this.width=void 0},g.prototype.getTextures=function(){},g.prototype.getHitDetectionTextures=function(){},t.a=g},function(e,t){"use strict";t.a={LOST:"webglcontextlost",RESTORED:"webglcontextrestored"}},function(e,t,o){"use strict";var a=o(0),r=o(13),i=o(66),n=o(3),s=o(88),l=o(63),d=o(429),p=o(10),g=o(144),_=o(143),c=o(430),u=o(431),y=o(39),m=o(86);const h={ROUND:2,BEGIN_LINE:3,END_LINE:5,BEGIN_LINE_CAP:7,END_LINE_CAP:11,BEVEL_FIRST:13,BEVEL_SECOND:17,MITER_BOTTOM:19,MITER_TOP:23},f=function(e,t){_.a.call(this,e,t),this.defaultLocations_=null,this.styles_=[],this.styleIndices_=[],this.state_={strokeColor:null,lineCap:void 0,lineDash:null,lineDashOffset:void 0,lineJoin:void 0,lineWidth:void 0,miterLimit:void 0,changed:!1}};Object(a.g)(f,_.a),f.prototype.drawCoordinates_=function(e,t,o,a){let l=this.vertices.length,p=this.indices.length,_,i;const c="bevel"===this.state_.lineJoin?0:"miter"===this.state_.lineJoin?1:2,u="butt"===this.state_.lineCap?0:"square"===this.state_.lineCap?1:2,y=Object(d.a)(e,t,o,a);let m=p,f=1,x,E,C,n,T,S;for(_=t,i=o;_<i;_+=a){if(C=l/7,n=T,T=S||[e[_],e[_+1]],_===t){if(S=[e[_+a],e[_+a+1]],o-t==2*a&&Object(r.b)(T,S))break;if(y)n=[e[o-2*a],e[o-2*a+1]],x=S;else{u&&(l=this.addVertices_([0,0],T,S,f*h.BEGIN_LINE_CAP*u,l),l=this.addVertices_([0,0],T,S,-f*h.BEGIN_LINE_CAP*u,l),this.indices[p++]=C+2,this.indices[p++]=C,this.indices[p++]=C+1,this.indices[p++]=C+1,this.indices[p++]=C+3,this.indices[p++]=C+2),l=this.addVertices_([0,0],T,S,f*h.BEGIN_LINE*(u||1),l),l=this.addVertices_([0,0],T,S,-f*h.BEGIN_LINE*(u||1),l),m=l/7-1;continue}}else if(_!==o-a)S=[e[_+a],e[_+a+1]];else if(y){S=x;break}else{n=n||[0,0],l=this.addVertices_(n,T,[0,0],f*h.END_LINE*(u||1),l),l=this.addVertices_(n,T,[0,0],-f*h.END_LINE*(u||1),l),this.indices[p++]=C,this.indices[p++]=m-1,this.indices[p++]=m,this.indices[p++]=m,this.indices[p++]=C+1,this.indices[p++]=C,u&&(l=this.addVertices_(n,T,[0,0],f*h.END_LINE_CAP*u,l),l=this.addVertices_(n,T,[0,0],-f*h.END_LINE_CAP*u,l),this.indices[p++]=C+2,this.indices[p++]=C,this.indices[p++]=C+1,this.indices[p++]=C+1,this.indices[p++]=C+3,this.indices[p++]=C+2);break}E=Object(g.m)(n[0],n[1],T[0],T[1],S[0],S[1])?-1:1,l=this.addVertices_(n,T,S,E*h.BEVEL_FIRST*(c||1),l),l=this.addVertices_(n,T,S,E*h.BEVEL_SECOND*(c||1),l),l=this.addVertices_(n,T,S,-E*h.MITER_BOTTOM*(c||1),l),_>t&&(this.indices[p++]=C,this.indices[p++]=m-1,this.indices[p++]=m,this.indices[p++]=C+2,this.indices[p++]=C,this.indices[p++]=0<f*E?m:m-1),this.indices[p++]=C,this.indices[p++]=C+2,this.indices[p++]=C+1,m=C+2,f=E,c&&(l=this.addVertices_(n,T,S,E*h.MITER_TOP*c,l),this.indices[p++]=C+1,this.indices[p++]=C+3,this.indices[p++]=C)}y&&(C=C||l/7,E=Object(s.a)([n[0],n[1],T[0],T[1],S[0],S[1]],0,6,2)?1:-1,l=this.addVertices_(n,T,S,E*h.BEVEL_FIRST*(c||1),l),l=this.addVertices_(n,T,S,-E*h.MITER_BOTTOM*(c||1),l),this.indices[p++]=C,this.indices[p++]=m-1,this.indices[p++]=m,this.indices[p++]=C+1,this.indices[p++]=C,this.indices[p++]=0<f*E?m:m-1)},f.prototype.addVertices_=function(e,t,o,a,r){return this.vertices[r++]=e[0],this.vertices[r++]=e[1],this.vertices[r++]=t[0],this.vertices[r++]=t[1],this.vertices[r++]=o[0],this.vertices[r++]=o[1],this.vertices[r++]=a,r},f.prototype.isValid_=function(e,t,o,a){const i=o-t;if(i<2*a)return!1;if(i==2*a){const o=[e[t],e[t+1]],i=[e[t+a],e[t+a+1]];return!Object(r.b)(o,i)}return!0},f.prototype.drawLineString=function(e,t){let o=e.getFlatCoordinates();const a=e.getStride();this.isValid_(o,0,o.length,a)&&(o=Object(l.d)(o,0,o.length,a,-this.origin[0],-this.origin[1]),this.state_.changed&&(this.styleIndices_.push(this.indices.length),this.state_.changed=!1),this.startIndices.push(this.indices.length),this.startIndicesFeature.push(t),this.drawCoordinates_(o,0,o.length,a))},f.prototype.drawMultiLineString=function(e,t){const o=this.indices.length,a=e.getEnds();a.unshift(0);const r=e.getFlatCoordinates(),n=e.getStride();let s,i;if(1<a.length)for(s=1,i=a.length;s<i;++s)if(this.isValid_(r,a[s-1],a[s],n)){const e=Object(l.d)(r,a[s-1],a[s],n,-this.origin[0],-this.origin[1]);this.drawCoordinates_(e,0,e.length,n)}this.indices.length>o&&(this.startIndices.push(o),this.startIndicesFeature.push(t),this.state_.changed&&(this.styleIndices_.push(o),this.state_.changed=!1))},f.prototype.drawPolygonCoordinates=function(e,t,o){if(Object(d.a)(e,0,e.length,o)||(e.push(e[0]),e.push(e[1])),this.drawCoordinates_(e,0,e.length,o),t.length){let e,a;for(e=0,a=t.length;e<a;++e)Object(d.a)(t[e],0,t[e].length,o)||(t[e].push(t[e][0]),t[e].push(t[e][1])),this.drawCoordinates_(t[e],0,t[e].length,o)}},f.prototype.setPolygonStyle=function(e,t){const o=t===void 0?this.indices.length:t;this.startIndices.push(o),this.startIndicesFeature.push(e),this.state_.changed&&(this.styleIndices_.push(o),this.state_.changed=!1)},f.prototype.getCurrentIndex=function(){return this.indices.length},f.prototype.finish=function(){this.verticesBuffer=new m.a(this.vertices),this.indicesBuffer=new m.a(this.indices),this.startIndices.push(this.indices.length),0===this.styleIndices_.length&&0<this.styles_.length&&(this.styles_=[]),this.vertices=null,this.indices=null},f.prototype.getDeleteResourcesFunction=function(e){const t=this.verticesBuffer,o=this.indicesBuffer;return function(){e.deleteBuffer(t),e.deleteBuffer(o)}},f.prototype.setUpProgram=function(e,t,o,a){const r=t.getProgram(c.a,c.b);let i;return this.defaultLocations_?i=this.defaultLocations_:(i=new u.a(e,r),this.defaultLocations_=i),t.useProgram(r),e.enableVertexAttribArray(i.a_lastPos),e.vertexAttribPointer(i.a_lastPos,2,y.j,!1,28,0),e.enableVertexAttribArray(i.a_position),e.vertexAttribPointer(i.a_position,2,y.j,!1,28,8),e.enableVertexAttribArray(i.a_nextPos),e.vertexAttribPointer(i.a_nextPos,2,y.j,!1,28,16),e.enableVertexAttribArray(i.a_direction),e.vertexAttribPointer(i.a_direction,1,y.j,!1,28,24),e.uniform2fv(i.u_size,o),e.uniform1f(i.u_pixelRatio,a),i},f.prototype.shutDownProgram=function(e,t){e.disableVertexAttribArray(t.a_lastPos),e.disableVertexAttribArray(t.a_position),e.disableVertexAttribArray(t.a_nextPos),e.disableVertexAttribArray(t.a_direction)},f.prototype.drawReplay=function(e,t,o,a){const r=e.getParameter(e.DEPTH_FUNC),i=e.getParameter(e.DEPTH_WRITEMASK);if(a||(e.enable(e.DEPTH_TEST),e.depthMask(!0),e.depthFunc(e.NOTEQUAL)),!Object(p.d)(o))this.drawReplaySkipping_(e,t,o);else{let o,a,r,i;for(r=this.startIndices[this.startIndices.length-1],o=this.styleIndices_.length-1;0<=o;--o)a=this.styleIndices_[o],i=this.styles_[o],this.setStrokeStyle_(e,i[0],i[1],i[2]),this.drawElements(e,t,a,r),e.clear(e.DEPTH_BUFFER_BIT),r=a}a||(e.disable(e.DEPTH_TEST),e.clear(e.DEPTH_BUFFER_BIT),e.depthMask(i),e.depthFunc(r))},f.prototype.drawReplaySkipping_=function(e,t,o){let r,i,n,s,l,d,p,g,_;for(g=this.startIndices.length-2,n=i=this.startIndices[g+1],r=this.styleIndices_.length-1;0<=r;--r){for(s=this.styles_[r],this.setStrokeStyle_(e,s[0],s[1],s[2]),l=this.styleIndices_[r];0<=g&&this.startIndices[g]>=l;)_=this.startIndices[g],d=this.startIndicesFeature[g],p=Object(a.f)(d).toString(),o[p]&&(i!==n&&(this.drawElements(e,t,i,n),e.clear(e.DEPTH_BUFFER_BIT)),n=_),g--,i=_;i!==n&&(this.drawElements(e,t,i,n),e.clear(e.DEPTH_BUFFER_BIT)),i=n=l}},f.prototype.drawHitDetectionReplayOneByOne=function(e,t,o,r,s){let l,i,d,p,g,_,c,u;for(u=this.startIndices.length-2,d=this.startIndices[u+1],l=this.styleIndices_.length-1;0<=l;--l)for(p=this.styles_[l],this.setStrokeStyle_(e,p[0],p[1],p[2]),g=this.styleIndices_[l];0<=u&&this.startIndices[u]>=g;){if(i=this.startIndices[u],_=this.startIndicesFeature[u],c=Object(a.f)(_).toString(),void 0===o[c]&&_.getGeometry()&&(void 0===s||Object(n.F)(s,_.getGeometry().getExtent()))){e.clear(e.COLOR_BUFFER_BIT|e.DEPTH_BUFFER_BIT),this.drawElements(e,t,i,d);const o=r(_);if(o)return o}u--,d=i}},f.prototype.setStrokeStyle_=function(e,t,o,a){e.uniform4fv(this.defaultLocations_.u_color,t),e.uniform1f(this.defaultLocations_.u_lineWidth,o),e.uniform1f(this.defaultLocations_.u_miterLimit,a)},f.prototype.setFillStrokeStyle=function(e,t){const o=t.getLineCap();this.state_.lineCap=o===void 0?g.c:o;const a=t.getLineDash();this.state_.lineDash=a?a:g.d;const n=t.getLineDashOffset();this.state_.lineDashOffset=n?n:g.e;const s=t.getLineJoin();this.state_.lineJoin=s===void 0?g.f:s;let l=t.getColor();l=l instanceof CanvasGradient||l instanceof CanvasPattern?g.i:Object(i.a)(l).map(function(e,t){return 3==t?e:e/255})||g.i;let d=t.getWidth();d=d===void 0?g.g:d;let p=t.getMiterLimit();p=p===void 0?g.h:p,this.state_.strokeColor&&Object(r.b)(this.state_.strokeColor,l)&&this.state_.lineWidth===d&&this.state_.miterLimit===p||(this.state_.changed=!0,this.state_.strokeColor=l,this.state_.lineWidth=d,this.state_.miterLimit=p,this.styles_.push([l,d,p]))},t.a=f},function(e,t,o){"use strict";function a(e){const t=e.frameState;t?this.mapProjection_!=t.viewState.projection&&(this.mapProjection_=t.viewState.projection,this.transform_=null):this.mapProjection_=null,this.updateHTML_(this.lastMouseMovePixel_)}var r=o(0),i=o(8),n=o(11),s=o(32),l=o(58),d=o(4);const p="projection",g="coordinateFormat",_=function(e){const t=e?e:{},o=document.createElement("DIV");o.className=t.className===void 0?"ol-mouse-position":t.className,l.a.call(this,{element:o,render:t.render||a,target:t.target}),Object(i.a)(this,Object(s.b)(p),this.handleProjectionChanged_,this),t.coordinateFormat&&this.setCoordinateFormat(t.coordinateFormat),t.projection&&this.setProjection(t.projection),this.undefinedHTML_="undefinedHTML"in t?t.undefinedHTML:"&nbsp;",this.renderOnMouseOut_=!!this.undefinedHTML_,this.renderedHTML_=o.innerHTML,this.mapProjection_=null,this.transform_=null,this.lastMouseMovePixel_=null};Object(r.g)(_,l.a),_.prototype.handleProjectionChanged_=function(){this.transform_=null},_.prototype.getCoordinateFormat=function(){return this.get(g)},_.prototype.getProjection=function(){return this.get(p)},_.prototype.handleMouseMove=function(e){const t=this.getMap();this.lastMouseMovePixel_=t.getEventPixel(e),this.updateHTML_(this.lastMouseMovePixel_)},_.prototype.handleMouseOut=function(){this.updateHTML_(null),this.lastMouseMovePixel_=null},_.prototype.setMap=function(e){if(l.a.prototype.setMap.call(this,e),e){const t=e.getViewport();this.listenerKeys.push(Object(i.a)(t,n.a.MOUSEMOVE,this.handleMouseMove,this)),this.renderOnMouseOut_&&this.listenerKeys.push(Object(i.a)(t,n.a.MOUSEOUT,this.handleMouseOut,this))}},_.prototype.setCoordinateFormat=function(e){this.set(g,e)},_.prototype.setProjection=function(e){this.set(p,Object(d.h)(e))},_.prototype.updateHTML_=function(e){let t=this.undefinedHTML_;if(e&&this.mapProjection_){if(!this.transform_){const e=this.getProjection();this.transform_=e?Object(d.k)(this.mapProjection_,e):d.l}const o=this.getMap(),a=o.getCoordinateFromPixel(e);if(a){this.transform_(a,a);const e=this.getCoordinateFormat();t=e?e(a):a.toString()}}this.renderedHTML_&&t===this.renderedHTML_||(this.element.innerHTML=t,this.renderedHTML_=t)},t.a=_},function(e,t,o){"use strict";function a(e){var t=this;if(2===arguments.length){var o=arguments[1];a[e]="string"==typeof o?"+"===o.charAt(0)?Object(i.a)(arguments[1]):Object(n.a)(arguments[1]):o}else if(1===arguments.length){if(Array.isArray(e))return e.map(function(e){Array.isArray(e)?a.apply(t,e):a(e)});if("string"!=typeof e)"EPSG"in e?a["EPSG:"+e.EPSG]=e:"ESRI"in e?a["ESRI:"+e.ESRI]=e:"IAU2000"in e?a["IAU2000:"+e.IAU2000]=e:console.log(e);else if(e in a)return a[e]}}var r=o(493),i=o(279),n=o(280);Object(r.a)(a),t.a=a},function(e,t,o){"use strict";var a=o(20),r=o(494),i=o(495),n=o(192);t.a=function(e){var t={},o=e.split("+").map(function(e){return e.trim()}).filter(function(e){return e}).reduce(function(e,t){var o=t.split("=");return o.push(!0),e[o[0].toLowerCase()]=o[1],e},{}),s={proj:"projName",datum:"datumCode",rf:function(e){t.rf=parseFloat(e)},lat_0:function(e){t.lat0=e*a.a},lat_1:function(e){t.lat1=e*a.a},lat_2:function(e){t.lat2=e*a.a},lat_ts:function(e){t.lat_ts=e*a.a},lon_0:function(e){t.long0=e*a.a},lon_1:function(e){t.long1=e*a.a},lon_2:function(e){t.long2=e*a.a},alpha:function(e){t.alpha=parseFloat(e)*a.a},lonc:function(e){t.longc=e*a.a},x_0:function(e){t.x0=parseFloat(e)},y_0:function(e){t.y0=parseFloat(e)},k_0:function(e){t.k0=parseFloat(e)},k:function(e){t.k0=parseFloat(e)},a:function(e){t.a=parseFloat(e)},b:function(e){t.b=parseFloat(e)},r_a:function(){t.R_A=!0},zone:function(e){t.zone=parseInt(e,10)},south:function(){t.utmSouth=!0},towgs84:function(e){t.datum_params=e.split(",").map(function(e){return parseFloat(e)})},to_meter:function(e){t.to_meter=parseFloat(e)},units:function(e){t.units=e;var o=Object(n.a)(i.a,e);o&&(t.to_meter=o.to_meter)},from_greenwich:function(e){t.from_greenwich=e*a.a},pm:function(e){var o=Object(n.a)(r.a,e);t.from_greenwich=(o?o:parseFloat(e))*a.a},nadgrids:function(e){"@null"===e?t.datumCode="none":t.nadgrids=e},axis:function(e){var o="ewnsud";3===e.length&&-1!==o.indexOf(e.substr(0,1))&&-1!==o.indexOf(e.substr(1,1))&&-1!==o.indexOf(e.substr(2,1))&&(t.axis=e)}},l,d,p;for(l in o)d=o[l],l in s?(p=s[l],"function"==typeof p?p(d):t[p]=d):t[l]=d;return"string"==typeof t.datumCode&&"WGS84"!==t.datumCode&&(t.datumCode=t.datumCode.toLowerCase()),t}},function(e,t,o){"use strict";function r(e,t){var o=t[0],a=t[1];!(o in e)&&a in e&&(e[o]=e[a],3===t.length&&(e[o]=t[2](e[o])))}function a(e){return e*l}function i(e){function t(t){var o=e.to_meter||1;return t*o}"GEOGCS"===e.type?e.projName="longlat":"LOCAL_CS"===e.type?(e.projName="identity",e.local=!0):"object"==typeof e.PROJECTION?e.projName=Object.keys(e.PROJECTION)[0]:e.projName=e.PROJECTION,e.UNIT&&(e.units=e.UNIT.name.toLowerCase(),"metre"===e.units&&(e.units="meter"),e.UNIT.convert&&("GEOGCS"===e.type?e.DATUM&&e.DATUM.SPHEROID&&(e.to_meter=e.UNIT.convert*e.DATUM.SPHEROID.a):(e.to_meter=e.UNIT.convert,10)));var o=e.GEOGCS;"GEOGCS"===e.type&&(o=e),o&&(e.datumCode=o.DATUM?o.DATUM.name.toLowerCase():o.name.toLowerCase(),"d_"===e.datumCode.slice(0,2)&&(e.datumCode=e.datumCode.slice(2)),("new_zealand_geodetic_datum_1949"===e.datumCode||"new_zealand_1949"===e.datumCode)&&(e.datumCode="nzgd49"),"wgs_1984"===e.datumCode&&("Mercator_Auxiliary_Sphere"===e.PROJECTION&&(e.sphere=!0),e.datumCode="wgs84"),"_ferro"===e.datumCode.slice(-6)&&(e.datumCode=e.datumCode.slice(0,-6)),"_jakarta"===e.datumCode.slice(-8)&&(e.datumCode=e.datumCode.slice(0,-8)),~e.datumCode.indexOf("belge")&&(e.datumCode="rnb72"),o.DATUM&&o.DATUM.SPHEROID&&(e.ellps=o.DATUM.SPHEROID.name.replace("_19","").replace(/[Cc]larke\_18/,"clrk"),"international"===e.ellps.toLowerCase().slice(0,13)&&(e.ellps="intl"),e.a=o.DATUM.SPHEROID.a,e.rf=parseFloat(o.DATUM.SPHEROID.rf,10)),~e.datumCode.indexOf("osgb_1936")&&(e.datumCode="osgb36"),~e.datumCode.indexOf("osni_1952")&&(e.datumCode="osni52"),(~e.datumCode.indexOf("tm65")||~e.datumCode.indexOf("geodetic_datum_of_1965"))&&(e.datumCode="ire65"),"ch1903+"===e.datumCode&&(e.datumCode="ch1903")),e.b&&!isFinite(e.b)&&(e.b=e.a);[["standard_parallel_1","Standard_Parallel_1"],["standard_parallel_2","Standard_Parallel_2"],["false_easting","False_Easting"],["false_northing","False_Northing"],["central_meridian","Central_Meridian"],["latitude_of_origin","Latitude_Of_Origin"],["latitude_of_origin","Central_Parallel"],["scale_factor","Scale_Factor"],["k0","scale_factor"],["latitude_of_center","Latitude_Of_Center"],["latitude_of_center","Latitude_of_center"],["lat0","latitude_of_center",a],["longitude_of_center","Longitude_Of_Center"],["longitude_of_center","Longitude_of_center"],["longc","longitude_of_center",a],["x0","false_easting",t],["y0","false_northing",t],["long0","central_meridian",a],["lat0","latitude_of_origin",a],["lat0","standard_parallel_1",a],["lat1","standard_parallel_1",a],["lat2","standard_parallel_2",a],["azimuth","Azimuth"],["alpha","azimuth",a],["srsCode","name"]].forEach(function(t){return r(e,t)}),!e.long0&&e.longc&&("Albers_Conic_Equal_Area"===e.projName||"Lambert_Azimuthal_Equal_Area"===e.projName)&&(e.long0=e.longc),!e.lat_ts&&e.lat1&&("Stereographic_South_Pole"===e.projName||"Polar Stereographic (variant B)"===e.projName)&&(e.lat0=a(0<e.lat1?90:-90),e.lat_ts=e.lat1)}var n=o(496),s=o(497),l=.017453292519943295;t.a=function(e){var t=Object(n.a)(e),o=t.shift(),a=t.shift();t.unshift(["name",a]),t.unshift(["type",o]);var r={};return Object(s.a)(t,r),i(r),r}},function(e,t,o){"use strict";function a(e,t){return(e.datum.datum_type===i.e||e.datum.datum_type===i.f)&&"WGS84"!==t.datumCode||(t.datum.datum_type===i.e||t.datum.datum_type===i.f)&&"WGS84"!==e.datumCode}function r(e,t,o){var g;return Array.isArray(o)&&(o=Object(d.a)(o)),Object(p.a)(o),e.datum&&t.datum&&a(e,t)&&(g=new l.a("WGS84"),o=r(e,g,o),e=g),"enu"!==e.axis&&(o=Object(s.a)(e,!1,o)),"longlat"===e.projName?o={x:o.x*i.a,y:o.y*i.a}:(e.to_meter&&(o={x:o.x*e.to_meter,y:o.y*e.to_meter}),o=e.inverse(o)),e.from_greenwich&&(o.x+=e.from_greenwich),o=Object(n.a)(e.datum,t.datum,o),t.from_greenwich&&(o={x:o.x-t.from_greenwich,y:o.y}),"longlat"===t.projName?o={x:o.x*i.i,y:o.y*i.i}:(o=t.forward(o),t.to_meter&&(o={x:o.x/t.to_meter,y:o.y/t.to_meter})),"enu"===t.axis?o:Object(s.a)(t,!0,o)}t.a=r;var i=o(20),n=o(506),s=o(508),l=o(191),d=o(282),p=o(509)},function(e,t){"use strict";t.a=function(e){var t={x:e[0],y:e[1]};return 2<e.length&&(t.z=e[2]),3<e.length&&(t.m=e[3]),t}},function(e,t){"use strict";function o(e,t){return t=t||5,d(n({lat:e[1],lon:e[0]}),t)}function a(e){var t=s(c(e.toUpperCase()));return t.lat&&t.lon?[t.lon,t.lat]:[(t.left+t.right)/2,(t.top+t.bottom)/2]}function r(e){return e*(T/180)}function i(e){return 180*(e/T)}function n(e){var t=e.lat,o=e.lon,i=6378137,a=.00669438,n=.9996,s=r(t),d=r(o),p,g,_,c,u,y,m,f,C;C=S((o+180)/6)+1,180===o&&(C=60),56<=t&&64>t&&3<=o&&12>o&&(C=32),72<=t&&84>t&&(0<=o&&9>o?C=31:9<=o&&21>o?C=33:21<=o&&33>o?C=35:33<=o&&42>o&&(C=37)),p=6*(C-1)-180+3,f=r(p),g=a/(1-a),_=i/E(1-a*R(s)*R(s)),c=h(s)*h(s),u=g*b(s)*b(s),y=b(s)*(d-f),m=i*((1-a/4-3*a*a/64-5*a*a*a/256)*s-(3*a/8+3*a*a/32+45*a*a*a/1024)*R(2*s)+(15*a*a/256+45*a*a*a/1024)*R(4*s)-35*a*a*a/3072*R(6*s));var T=n*_*(y+(1-c+u)*y*y*y/6+(5-18*c+c*c+72*u-58*g)*y*y*y*y*y/120)+5e5,I=n*(m+_*h(s)*(y*y/2+(5-c+9*u+4*u*u)*y*y*y*y/24+(61-58*c+c*c+600*u-330*g)*y*y*y*y*y*y/720));return 0>t&&(I+=1e7),{northing:x(I),easting:x(T),zoneNumber:C,zoneLetter:l(t)}}function s(e){var t=e.northing,o=e.easting,r=e.zoneLetter,n=e.zoneNumber;if(0>n||60<n)return null;var l=.9996,d=6378137,a=.00669438,p=(1-0.9966471893303066)/(1+0.9966471893303066),g=t,_,c,u,y,m,f,x,T,S,I;"N">r&&(g-=1e7),T=6*(n-1)-180+3,_=a/(1-a),x=g/l,S=x/(d*(1-a/4-3*a*a/64-5*a*a*a/256)),I=S+(3*p/2-27*p*p*p/32)*R(2*S)+(21*p*p/16-55*p*p*p*p/32)*R(4*S)+151*p*p*p/96*R(6*S),c=d/E(1-a*R(I)*R(I)),u=h(I)*h(I),y=_*b(I)*b(I),m=d*(1-a)/C(1-a*R(I)*R(I),1.5),f=(o-5e5)/(c*l);var v=I-c*h(I)/m*(f*f/2-(5+3*u+10*y-4*y*y-9*_)*f*f*f*f/24+(61+90*u+298*y+45*u*u-252*_-3*y*y)*f*f*f*f*f*f/720);v=i(v);var L=(f-(1+2*u+y)*f*f*f/6+(5-2*y+28*u-3*y*y+8*_+24*u*u)*f*f*f*f*f/120)/b(I);L=T+i(L);var P;if(e.accuracy){var F=s({northing:e.northing+e.accuracy,easting:e.easting+e.accuracy,zoneLetter:e.zoneLetter,zoneNumber:e.zoneNumber});P={top:F.lat,right:F.lon,bottom:v,left:L}}else P={lat:v,lon:L};return P}function l(e){var t="Z";return 84>=e&&72<=e?t="X":72>e&&64<=e?t="W":64>e&&56<=e?t="V":56>e&&48<=e?t="U":48>e&&40<=e?t="T":40>e&&32<=e?t="S":32>e&&24<=e?t="R":24>e&&16<=e?t="Q":16>e&&8<=e?t="P":8>e&&0<=e?t="N":0>e&&-8<=e?t="M":-8>e&&-16<=e?t="L":-16>e&&-24<=e?t="K":-24>e&&-32<=e?t="J":-32>e&&-40<=e?t="H":-40>e&&-48<=e?t="G":-48>e&&-56<=e?t="F":-56>e&&-64<=e?t="E":-64>e&&-72<=e?t="D":-72>e&&-80<=e&&(t="C"),t}function d(e,t){var o="00000"+e.easting,a="00000"+e.northing;return e.zoneNumber+e.zoneLetter+p(e.easting,e.northing,e.zoneNumber)+o.substr(o.length-5,t)+a.substr(a.length-5,t)}function p(e,t,o){var a=g(o),r=S(e/1e5),i=S(t/1e5)%20;return _(r,i,a)}function g(e){var t=e%v;return 0===t&&(t=v),t}function _(e,t,o){var a=o-1,r=L.charCodeAt(a),i=P.charCodeAt(a),n=r+e-1,s=i+t,l=!1;n>N&&(n=n-N+F-1,l=!0),(n===w||r<w&&n>w||(n>w||r<w)&&l)&&n++,(n===I||r<I&&n>I||(n>I||r<I)&&l)&&(n++,n===w&&n++),n>N&&(n=n-N+F-1),s>O?(s=s-O+F-1,l=!0):l=!1,(s===w||i<w&&s>w||(s>w||i<w)&&l)&&s++,(s===I||i<I&&s>I||(s>I||i<I)&&l)&&(s++,s===w&&s++),s>O&&(s=s-O+F-1);var d=f(n)+f(s);return d}function c(e){if(e&&0===e.length)throw"MGRSPoint coverting from nothing";for(var t=e.length,o=null,a="",r=0,i;!/[A-Z]/.test(i=e.charAt(r));){if(2<=r)throw"MGRSPoint bad conversion from: "+e;a+=i,r++}var n=parseInt(a,10);if(0==r||r+3>t)throw"MGRSPoint bad conversion from: "+e;var s=e.charAt(r++);if("A">=s||"B"===s||"Y"===s||"Z"<=s||"I"===s||"O"===s)throw"MGRSPoint zone letter "+s+" not handled: "+e;o=e.substring(r,r+=2);for(var l=g(n),d=u(o.charAt(0),l),p=y(o.charAt(1),l);p<m(s);)p+=2e6;var _=t-r;if(0!=_%2)throw"MGRSPoint has to have an even number \nof digits after the zone letter and two 100km letters - front \nhalf for easting meters, second half for \nnorthing meters"+e;var c=_/2,h=0,f=0,x,E,T,S,R;return 0<c&&(x=1e5/C(10,c),E=e.substring(r,r+c),h=parseFloat(E)*x,T=e.substring(r+c),f=parseFloat(T)*x),S=h+d,R=f+p,{easting:S,northing:R,zoneLetter:s,zoneNumber:n,accuracy:x}}function u(t,e){for(var o=L.charCodeAt(e-1),a=1e5,r=!1;o!==t.charCodeAt(0);){if(o++,o===w&&o++,o===I&&o++,o>N){if(r)throw"Bad character: "+t;o=F,r=!0}a+=1e5}return a}function y(e,t){if("V"<e)throw"MGRSPoint given invalid Northing "+e;for(var o=P.charCodeAt(t-1),a=0,r=!1;o!==e.charCodeAt(0);){if(o++,o===w&&o++,o===I&&o++,o>O){if(r)throw"Bad character: "+e;o=F,r=!0}a+=1e5}return a}function m(e){var t;if(t="C"===e?11e5:"D"===e?2e6:"E"===e?28e5:"F"===e?37e5:"G"===e?46e5:"H"===e?55e5:"J"===e?64e5:"K"===e?73e5:"L"===e?82e5:"M"===e?91e5:"N"===e?0:"P"===e?8e5:"Q"===e?17e5:"R"===e?26e5:"S"===e?35e5:"T"===e?44e5:"U"===e?53e5:"V"===e?62e5:"W"===e?7e6:"X"===e?79e5:-1,0<=t)return t;throw"Invalid zone letter: "+e}var h=Math.tan,f=String.fromCharCode,x=Math.round,E=Math.sqrt,S=Math.floor,R=Math.sin,b=Math.cos,C=Math.pow,T=Math.PI;t.b=o,t.c=a;var v=6,L="AJSAJS",P="AFAFAF",F=65,w=73,I=79,O=86,N=90;t.a={forward:o,inverse:function(e){var t=s(c(e.toUpperCase()));return t.lat&&t.lon?[t.lon,t.lat,t.lon,t.lat]:[t.left,t.bottom,t.right,t.top]},toPoint:a}},function(e,t){"use strict";var o=.046875,a=.01953125,r=.01068115234375;t.a=function(e){var i=[];i[0]=1-e*(.25+e*(o+e*(a+e*r))),i[1]=e*(.75-e*(o+e*(a+e*r)));var n=e*e;return i[2]=n*(.46875-e*(.013020833333333334+e*.007120768229166667)),n*=e,i[3]=n*(.3645833333333333-e*.005696614583333333),i[4]=n*e*.3076171875,i}},function(e,t,o){"use strict";var a=o(193),r=o(20);t.a=function(e,o,n){for(var l=e,d=20;d;--d){var i=Math.sin(l),s=1-o*i*i;if(s=(Object(a.a)(l,i,Math.cos(l),n)-e)*(s*Math.sqrt(s))*(1/(1-o)),l-=s,Math.abs(s)<r.b)return l}return l}},function(e,t,o){"use strict";var a=Math.atan2,r=Math.abs,i=Math.sin,n=Math.cos,s=o(287),l=o(288),d=o(515),g=o(517),p=o(518),_=o(519),c=o(24);t.a={init:function(){if(this.es===void 0||0>=this.es)throw new Error("incorrect elliptical usage");this.x0=this.x0===void 0?0:this.x0,this.y0=this.y0===void 0?0:this.y0,this.long0=this.long0===void 0?0:this.long0,this.lat0=this.lat0===void 0?0:this.lat0,this.cgb=[],this.cbg=[],this.utg=[],this.gtu=[];var e=this.es/(1+Math.sqrt(1-this.es)),t=e/(2-e),o=t;this.cgb[0]=t*(2+t*(-2/3+t*(-2+t*(116/45+t*(26/45+t*(-2854/675)))))),this.cbg[0]=t*(-2+t*(2/3+t*(4/3+t*(-82/45+t*(32/45+t*(4642/4725)))))),o*=t,this.cgb[1]=o*(7/3+t*(-8/5+t*(-227/45+t*(2704/315+t*(2323/945))))),this.cbg[1]=o*(5/3+t*(-16/15+t*(-13/9+t*(904/315+t*(-1522/945))))),o*=t,this.cgb[2]=o*(56/15+t*(-136/35+t*(-1262/105+t*(73814/2835)))),this.cbg[2]=o*(-26/15+t*(34/21+t*(8/5+t*(-12686/2835)))),o*=t,this.cgb[3]=o*(4279/630+t*(-332/35+t*(-399572/14175))),this.cbg[3]=o*(1237/630+t*(-12/5+t*(-24832/14175))),o*=t,this.cgb[4]=o*(4174/315+t*(-144838/6237)),this.cbg[4]=o*(-734/315+t*(109598/31185)),o*=t,this.cgb[5]=o*(601676/22275),this.cbg[5]=o*(444337/155925),o=Math.pow(t,2),this.Qn=this.k0/(1+t)*(1+o*(1/4+o*(1/64+o/256))),this.utg[0]=t*(-.5+t*(2/3+t*(-37/96+t*(1/360+t*(81/512+t*(-96199/604800)))))),this.gtu[0]=t*(.5+t*(-2/3+t*(5/16+t*(41/180+t*(-127/288+t*(7891/37800)))))),this.utg[1]=o*(-1/48+t*(-1/15+t*(437/1440+t*(-46/105+t*(1118711/3870720))))),this.gtu[1]=o*(13/48+t*(-3/5+t*(557/1440+t*(281/630+t*(-1983433/1935360))))),o*=t,this.utg[2]=o*(-17/480+t*(37/840+t*(209/4480+t*(-5569/90720)))),this.gtu[2]=o*(61/240+t*(-103/140+t*(15061/26880+t*(167603/181440)))),o*=t,this.utg[3]=o*(-4397/161280+t*(11/504+t*(830251/7257600))),this.gtu[3]=o*(49561/161280+t*(-179/168+t*(6601661/7257600))),o*=t,this.utg[4]=o*(-4583/161280+t*(108847/3991680)),this.gtu[4]=o*(34729/80640+t*(-3418889/1995840)),o*=t,this.utg[5]=o*(-20648693/638668800),this.gtu[5]=o*(212378941/319334400);var a=Object(g.a)(this.cbg,this.lat0);this.Zb=-this.Qn*(a+Object(p.a)(this.gtu,2*a))},forward:function(e){var t=Object(c.a)(e.x-this.long0),o=e.y;o=Object(g.a)(this.cbg,o);var s=i(o),p=n(o),u=i(t),m=n(t);o=a(s,m*p),t=a(u*p,Object(l.a)(s,p*m)),t=Object(d.a)(Math.tan(t));var h=Object(_.a)(this.gtu,2*o,2*t);o+=h[0],t+=h[1];var f,x;return 2.623395162778>=r(t)?(f=this.a*(this.Qn*t)+this.x0,x=this.a*(this.Qn*o+this.Zb)+this.y0):(f=Infinity,x=Infinity),e.x=f,e.y=x,e},inverse:function(e){var t=(e.x-this.x0)*(1/this.a),o=(e.y-this.y0)*(1/this.a);o=(o-this.Zb)/this.Qn,t/=this.Qn;var d,p;if(2.623395162778>=r(t)){var u=Object(_.a)(this.utg,2*o,2*t);o+=u[0],t+=u[1],t=Math.atan(Object(s.a)(t));var y=i(o),m=n(o),h=i(t),f=n(t);o=a(y*f,Object(l.a)(h,f*m)),t=a(h,f*m),d=Object(c.a)(t+this.long0),p=Object(g.a)(this.cgb,o)}else d=Infinity,p=Infinity;return e.x=d,e.y=p,e},names:["Extended_Transverse_Mercator","Extended Transverse Mercator","etmerc"]}},function(e,t){"use strict";t.a=function(e){var t=Math.exp(e);return t=(t-1/t)/2,t}},function(e,t){"use strict";var o=Math.abs;t.a=function(e,t){e=o(e),t=o(t);var r=Math.max(e,t),a=Math.min(e,t)/(r?r:1);return r*Math.sqrt(1+Math.pow(a,2))}},,function(e,t,o){"use strict";var a=Math.abs,r=o(0),i=o(37),n=o(71),s=o(109),l=o(8),d=o(79),p=o(153),g=o(201);const _=function(e,t){d.a.call(this),this.map_=e,this.clickTimeoutId_=0,this.dragging_=!1,this.dragListenerKeys_=[],this.moveTolerance_=t?t*i.b:i.b,this.down_=null;const o=this.map_.getViewport();this.activePointers_=0,this.trackedTouches_={},this.pointerEventHandler_=new g.a(o),this.documentPointerEventHandler_=null,this.pointerdownListenerKey_=Object(l.a)(this.pointerEventHandler_,p.a.POINTERDOWN,this.handlePointerDown_,this),this.relayedListenerKey_=Object(l.a)(this.pointerEventHandler_,p.a.POINTERMOVE,this.relayEvent_,this)};Object(r.g)(_,d.a),_.prototype.emulateClick_=function(e){let t=new s.a(n.a.CLICK,this.map_,e);this.dispatchEvent(t),0===this.clickTimeoutId_?this.clickTimeoutId_=setTimeout(function(){this.clickTimeoutId_=0;const t=new s.a(n.a.SINGLECLICK,this.map_,e);this.dispatchEvent(t)}.bind(this),250):(clearTimeout(this.clickTimeoutId_),this.clickTimeoutId_=0,t=new s.a(n.a.DBLCLICK,this.map_,e),this.dispatchEvent(t))},_.prototype.updateActivePointers_=function(e){const t=e;t.type==n.a.POINTERUP||t.type==n.a.POINTERCANCEL?delete this.trackedTouches_[t.pointerId]:t.type==n.a.POINTERDOWN&&(this.trackedTouches_[t.pointerId]=!0),this.activePointers_=Object.keys(this.trackedTouches_).length},_.prototype.handlePointerUp_=function(e){this.updateActivePointers_(e);const t=new s.a(n.a.POINTERUP,this.map_,e);this.dispatchEvent(t),t.propagationStopped||this.dragging_||!this.isMouseActionButton_(e)||this.emulateClick_(this.down_),0===this.activePointers_&&(this.dragListenerKeys_.forEach(l.e),this.dragListenerKeys_.length=0,this.dragging_=!1,this.down_=null,this.documentPointerEventHandler_.dispose(),this.documentPointerEventHandler_=null)},_.prototype.isMouseActionButton_=function(e){return 0===e.button},_.prototype.handlePointerDown_=function(e){this.updateActivePointers_(e);const t=new s.a(n.a.POINTERDOWN,this.map_,e);this.dispatchEvent(t),this.down_=e,0===this.dragListenerKeys_.length&&(this.documentPointerEventHandler_=new g.a(document),this.dragListenerKeys_.push(Object(l.a)(this.documentPointerEventHandler_,n.a.POINTERMOVE,this.handlePointerMove_,this),Object(l.a)(this.documentPointerEventHandler_,n.a.POINTERUP,this.handlePointerUp_,this),Object(l.a)(this.pointerEventHandler_,n.a.POINTERCANCEL,this.handlePointerUp_,this)))},_.prototype.handlePointerMove_=function(e){if(this.isMoving_(e)){this.dragging_=!0;const t=new s.a(n.a.POINTERDRAG,this.map_,e,this.dragging_);this.dispatchEvent(t)}e.preventDefault()},_.prototype.relayEvent_=function(e){const t=!!(this.down_&&this.isMoving_(e));this.dispatchEvent(new s.a(e.type,this.map_,e,t))},_.prototype.isMoving_=function(e){return a(e.clientX-this.down_.clientX)>this.moveTolerance_||a(e.clientY-this.down_.clientY)>this.moveTolerance_},_.prototype.disposeInternal=function(){this.relayedListenerKey_&&(Object(l.e)(this.relayedListenerKey_),this.relayedListenerKey_=null),this.pointerdownListenerKey_&&(Object(l.e)(this.pointerdownListenerKey_),this.pointerdownListenerKey_=null),this.dragListenerKeys_.forEach(l.e),this.dragListenerKeys_.length=0,this.documentPointerEventHandler_&&(this.documentPointerEventHandler_.dispose(),this.documentPointerEventHandler_=null),this.pointerEventHandler_&&(this.pointerEventHandler_.dispose(),this.pointerEventHandler_=null),d.a.prototype.disposeInternal.call(this)},t.a=_},function(e,t,o){"use strict";var a=o(0),r=o(127);const i=function(e){const t={MSPointerDown:this.msPointerDown,MSPointerMove:this.msPointerMove,MSPointerUp:this.msPointerUp,MSPointerOut:this.msPointerOut,MSPointerOver:this.msPointerOver,MSPointerCancel:this.msPointerCancel,MSGotPointerCapture:this.msGotPointerCapture,MSLostPointerCapture:this.msLostPointerCapture};r.a.call(this,e,t),this.pointerMap=e.pointerMap};Object(a.g)(i,r.a);const n=["","unavailable","touch","pen","mouse"];i.prototype.prepareEvent_=function(t){let o=t;return"number"==typeof t.pointerType&&(o=this.dispatcher.cloneEvent(t,t),o.pointerType=n[t.pointerType]),o},i.prototype.cleanup=function(e){delete this.pointerMap[e.toString()]},i.prototype.msPointerDown=function(t){this.pointerMap[t.pointerId.toString()]=t;const o=this.prepareEvent_(t);this.dispatcher.down(o,t)},i.prototype.msPointerMove=function(t){const o=this.prepareEvent_(t);this.dispatcher.move(o,t)},i.prototype.msPointerUp=function(t){const o=this.prepareEvent_(t);this.dispatcher.up(o,t),this.cleanup(t.pointerId)},i.prototype.msPointerOut=function(t){const o=this.prepareEvent_(t);this.dispatcher.leaveOut(o,t)},i.prototype.msPointerOver=function(t){const o=this.prepareEvent_(t);this.dispatcher.enterOver(o,t)},i.prototype.msPointerCancel=function(t){const o=this.prepareEvent_(t);this.dispatcher.cancel(o,t),this.cleanup(t.pointerId)},i.prototype.msLostPointerCapture=function(t){const o=this.dispatcher.makeEvent("lostpointercapture",t,t);this.dispatcher.dispatchEvent(o)},i.prototype.msGotPointerCapture=function(t){const o=this.dispatcher.makeEvent("gotpointercapture",t,t);this.dispatcher.dispatchEvent(o)},t.a=i},function(e,t,o){"use strict";var a=o(0),r=o(127);const i=function(e){const t={pointerdown:this.pointerDown,pointermove:this.pointerMove,pointerup:this.pointerUp,pointerout:this.pointerOut,pointerover:this.pointerOver,pointercancel:this.pointerCancel,gotpointercapture:this.gotPointerCapture,lostpointercapture:this.lostPointerCapture};r.a.call(this,e,t)};Object(a.g)(i,r.a),i.prototype.pointerDown=function(e){this.dispatcher.fireNativeEvent(e)},i.prototype.pointerMove=function(e){this.dispatcher.fireNativeEvent(e)},i.prototype.pointerUp=function(e){this.dispatcher.fireNativeEvent(e)},i.prototype.pointerOut=function(e){this.dispatcher.fireNativeEvent(e)},i.prototype.pointerOver=function(e){this.dispatcher.fireNativeEvent(e)},i.prototype.pointerCancel=function(e){this.dispatcher.fireNativeEvent(e)},i.prototype.lostPointerCapture=function(e){this.dispatcher.fireNativeEvent(e)},i.prototype.gotPointerCapture=function(e){this.dispatcher.fireNativeEvent(e)},t.a=i},function(e,t,o){"use strict";var a=o(0),r=o(33);const i=function(e,t,o){r.a.call(this,e),this.originalEvent=t;const a=o?o:{};this.buttons=this.getButtons_(a),this.pressure=this.getPressure_(a,this.buttons),this.bubbles=!!("bubbles"in a)&&a.bubbles,this.cancelable=!!("cancelable"in a)&&a.cancelable,this.view="view"in a?a.view:null,this.detail="detail"in a?a.detail:null,this.screenX="screenX"in a?a.screenX:0,this.screenY="screenY"in a?a.screenY:0,this.clientX="clientX"in a?a.clientX:0,this.clientY="clientY"in a?a.clientY:0,this.ctrlKey=!!("ctrlKey"in a)&&a.ctrlKey,this.altKey=!!("altKey"in a)&&a.altKey,this.shiftKey=!!("shiftKey"in a)&&a.shiftKey,this.metaKey=!!("metaKey"in a)&&a.metaKey,this.button="button"in a?a.button:0,this.relatedTarget="relatedTarget"in a?a.relatedTarget:null,this.pointerId="pointerId"in a?a.pointerId:0,this.width="width"in a?a.width:0,this.height="height"in a?a.height:0,this.tiltX="tiltX"in a?a.tiltX:0,this.tiltY="tiltY"in a?a.tiltY:0,this.pointerType="pointerType"in a?a.pointerType:"",this.hwTimestamp="hwTimestamp"in a?a.hwTimestamp:0,this.isPrimary=!!("isPrimary"in a)&&a.isPrimary,t.preventDefault&&(this.preventDefault=function(){t.preventDefault()})};Object(a.g)(i,r.a);let n=!1;i.prototype.getButtons_=function(e){let t;if(e.buttons||n)t=e.buttons;else switch(e.which){case 1:t=1;break;case 2:t=4;break;case 3:t=2;break;default:t=0;}return t},i.prototype.getPressure_=function(e,t){let o=0;return o=e.pressure?e.pressure:t?.5:0,o},function(){try{const e=new MouseEvent("click",{buttons:1});n=1===e.buttons}catch(t){}}(),t.a=i},function(e,t,o){"use strict";var a=o(0),r=o(13),i=o(127),n=o(154);const s=function(e,t){const o={touchstart:this.touchstart,touchmove:this.touchmove,touchend:this.touchend,touchcancel:this.touchcancel};i.a.call(this,e,o),this.pointerMap=e.pointerMap,this.mouseSource=t,this.firstTouchId_=void 0,this.clickCount_=0,this.resetId_=void 0,this.dedupTimeout_=2500};Object(a.g)(s,i.a);s.prototype.isPrimaryTouch_=function(e){return this.firstTouchId_===e.identifier},s.prototype.setPrimaryTouch_=function(e){const t=Object.keys(this.pointerMap).length;(0===t||1===t&&n.a.toString()in this.pointerMap)&&(this.firstTouchId_=e.identifier,this.cancelResetClickCount_())},s.prototype.removePrimaryPointer_=function(e){e.isPrimary&&(this.firstTouchId_=void 0,this.resetClickCount_())},s.prototype.resetClickCount_=function(){this.resetId_=setTimeout(this.resetClickCountHandler_.bind(this),200)},s.prototype.resetClickCountHandler_=function(){this.clickCount_=0,this.resetId_=void 0},s.prototype.cancelResetClickCount_=function(){this.resetId_!==void 0&&clearTimeout(this.resetId_)},s.prototype.touchToPointer_=function(t,o){const a=this.dispatcher.cloneEvent(t,o);return a.pointerId=o.identifier+2,a.bubbles=!0,a.cancelable=!0,a.detail=this.clickCount_,a.button=0,a.buttons=1,a.width=o.webkitRadiusX||o.radiusX||0,a.height=o.webkitRadiusY||o.radiusY||0,a.pressure=o.webkitForce||o.force||.5,a.isPrimary=this.isPrimaryTouch_(o),a.pointerType="touch",a.clientX=o.clientX,a.clientY=o.clientY,a.screenX=o.screenX,a.screenY=o.screenY,a},s.prototype.processTouches_=function(e,t){function o(){e.preventDefault()}const a=Array.prototype.slice.call(e.changedTouches),r=a.length;let n,i;for(n=0;n<r;++n)i=this.touchToPointer_(e,a[n]),i.preventDefault=o,t.call(this,e,i)},s.prototype.findTouch_=function(e,t){const o=e.length;let a;for(let r=0;r<o;r++)if(a=e[r],a.identifier===t)return!0;return!1},s.prototype.vacuumTouches_=function(e){const t=e.touches,o=Object.keys(this.pointerMap),a=o.length;if(a>=t.length){const r=[];let s,i,l;for(s=0;s<a;++s)i=o[s],l=this.pointerMap[i],i==n.a||this.findTouch_(t,i-2)||r.push(l.out);for(s=0;s<r.length;++s)this.cancelOut_(e,r[s])}},s.prototype.touchstart=function(e){this.vacuumTouches_(e),this.setPrimaryTouch_(e.changedTouches[0]),this.dedupSynthMouse_(e),this.clickCount_++,this.processTouches_(e,this.overDown_)},s.prototype.overDown_=function(e,t){this.pointerMap[t.pointerId]={target:t.target,out:t,outTarget:t.target},this.dispatcher.over(t,e),this.dispatcher.enter(t,e),this.dispatcher.down(t,e)},s.prototype.touchmove=function(e){e.preventDefault(),this.processTouches_(e,this.moveOverOut_)},s.prototype.moveOverOut_=function(e,t){const o=t,a=this.pointerMap[o.pointerId];if(a){const t=a.out,r=a.outTarget;this.dispatcher.move(o,e),t&&r!==o.target&&(t.relatedTarget=o.target,o.relatedTarget=r,t.target=r,o.target?(this.dispatcher.leaveOut(t,e),this.dispatcher.enterOver(o,e)):(o.target=r,o.relatedTarget=null,this.cancelOut_(e,o))),a.out=o,a.outTarget=o.target}},s.prototype.touchend=function(e){this.dedupSynthMouse_(e),this.processTouches_(e,this.upOut_)},s.prototype.upOut_=function(e,t){this.dispatcher.up(t,e),this.dispatcher.out(t,e),this.dispatcher.leave(t,e),this.cleanUpPointer_(t)},s.prototype.touchcancel=function(e){this.processTouches_(e,this.cancelOut_)},s.prototype.cancelOut_=function(e,t){this.dispatcher.cancel(t,e),this.dispatcher.out(t,e),this.dispatcher.leave(t,e),this.cleanUpPointer_(t)},s.prototype.cleanUpPointer_=function(e){delete this.pointerMap[e.pointerId],this.removePrimaryPointer_(e)},s.prototype.dedupSynthMouse_=function(e){const o=this.mouseSource.lastTouches,a=e.changedTouches[0];if(this.isPrimaryTouch_(a)){const e=[a.clientX,a.clientY];o.push(e),setTimeout(function(){Object(r.j)(o,e)},this.dedupTimeout_)}},t.a=s},function(e,t,o){"use strict";t.a=function(e){return function(t){return t?[Object(a.a)(t[0],e[0],e[2]),Object(a.a)(t[1],e[1],e[3])]:void 0}},t.b=function(e){return e};var a=o(17)},function(e,t,o){"use strict";var a=Math.floor,r=Math.pow,i=Math.log;t.b=function(e){return function(t,o,i){if(t!==void 0){let l=Object(n.h)(e,t,i);l=Object(s.a)(l+o,0,e.length-1);const d=a(l);if(l!=d&&d<e.length-1){const t=e[d]/e[d+1];return e[d]/r(t,l-d)}return e[d]}}},t.a=function(e,t,o){return function(n,s,l){if(void 0!==n){const d=a(i(t/n)/i(e)+(-l/2+.5));let p=Math.max(d+s,0);return void 0!==o&&(p=Math.min(p,o)),t/r(e,p)}}};var n=o(13),s=o(17)},function(e,t,o){"use strict";function a(e){s.a.call(this,{code:e,units:l.b.METERS,extent:g,global:!0,worldExtent:_,getPointResolution:function(e,t){return e/Object(n.b)(t[1]/d)}})}var r=Math.PI;t.b=function(e,t,o){const a=e.length,n=1<o?o:2;let s=t;s===void 0&&(2<n?s=e.slice():s=Array(a));const l=p;for(let p=0;p<a;p+=n){s[p]=l*e[p]/180;let t=d*Math.log(Math.tan(r*(e[p+1]+90)/360));t>l?t=l:t<-l&&(t=-l),s[p+1]=t}return s},t.c=function(e,t,o){const a=e.length,n=1<o?o:2;let s=t;s===void 0&&(2<n?s=e.slice():s=Array(a));for(let l=0;l<a;l+=n)s[l]=180*e[l]/p,s[l+1]=360*Math.atan(Math.exp(e[l+1]/d))/r-90;return s};var i=o(0),n=o(17),s=o(52),l=o(56);const d=6378137,p=r*d,g=[-p,-p,p,p],_=[-180,-85,180,85];Object(i.g)(a,s.a);const c=[new a("EPSG:3857"),new a("EPSG:102100"),new a("EPSG:102113"),new a("EPSG:900913"),new a("urn:ogc:def:crs:EPSG:6.18:3:3857"),new a("urn:ogc:def:crs:EPSG::3857"),new a("http://www.opengis.net/gml/srs/epsg.xml#3857")];t.a=c},function(e,t,o){"use strict";function a(e,t){i.a.call(this,{code:e,units:n.b.DEGREES,extent:s,axisOrientation:t,global:!0,metersPerUnit:l,worldExtent:s})}var r=o(0),i=o(52),n=o(56);const s=[-180,-90,180,90],l=Math.PI*6378137/180;Object(r.g)(a,i.a);const d=[new a("CRS:84"),new a("EPSG:4326","neu"),new a("urn:ogc:def:crs:EPSG::4326","neu"),new a("urn:ogc:def:crs:EPSG:6.6:4326","neu"),new a("urn:ogc:def:crs:OGC:1.3:CRS84"),new a("urn:ogc:def:crs:OGC:2:84"),new a("http://www.opengis.net/gml/srs/epsg.xml#4326","neu"),new a("urn:x-ogc:def:crs:EPSG:4326","neu")];t.a=d},function(e,t){"use strict";function o(e){return r[e]||null}function a(e,t){r[e]=t}t.b=function(){r={}},t.c=o,t.a=a;let r={}},function(e,t){"use strict";t.a=function(e,t,o,a){for(;t<o-a;){for(let r=0;r<a;++r){const i=e[t+r];e[t+r]=e[o-a+r],e[o-a+r]=i}t+=a,o-=a}}},function(e,t){"use strict";const o=function(e,t,o){this.decay_=e,this.minVelocity_=t,this.delay_=o,this.points_=[],this.angle_=0,this.initialVelocity_=0};o.prototype.begin=function(){this.points_.length=0,this.angle_=0,this.initialVelocity_=0},o.prototype.update=function(e,t){this.points_.push(e,t,Date.now())},o.prototype.end=function(){if(6>this.points_.length)return!1;const e=Date.now()-this.delay_,t=this.points_.length-3;if(this.points_[t+2]<e)return!1;let o=t-3;for(;0<o&&this.points_[o+2]>e;)o-=3;const a=this.points_[t+2]-this.points_[o+2];if(a<1e3/60)return!1;const r=this.points_[t]-this.points_[o],i=this.points_[t+1]-this.points_[o+1];return this.angle_=Math.atan2(i,r),this.initialVelocity_=Math.sqrt(r*r+i*i)/a,this.initialVelocity_>this.minVelocity_},o.prototype.getDistance=function(){return(this.minVelocity_-this.initialVelocity_)/this.decay_},o.prototype.getAngle=function(){return this.angle_},t.a=o},function(e,t,o){"use strict";var a=Math.abs,r=Math.min,i=o(0),n=o(126),s=o(29);const l=function(e){this.geometry_=null,this.element_=document.createElement("div"),this.element_.style.position="absolute",this.element_.className="ol-box "+e,this.map_=null,this.startPixel_=null,this.endPixel_=null};Object(i.g)(l,n.a),l.prototype.disposeInternal=function(){this.setMap(null)},l.prototype.render_=function(){const e=this.startPixel_,t=this.endPixel_,o="px",i=this.element_.style;i.left=r(e[0],t[0])+o,i.top=r(e[1],t[1])+o,i.width=a(t[0]-e[0])+o,i.height=a(t[1]-e[1])+o},l.prototype.setMap=function(e){if(this.map_){this.map_.getOverlayContainer().removeChild(this.element_);const e=this.element_.style;e.left=e.top=e.width=e.height="inherit"}this.map_=e,this.map_&&this.map_.getOverlayContainer().appendChild(this.element_)},l.prototype.setPixels=function(e,t){this.startPixel_=e,this.endPixel_=t,this.createOrUpdateGeometry(),this.render_()},l.prototype.createOrUpdateGeometry=function(){const e=this.startPixel_,t=this.endPixel_,o=[e,[e[0],t[1]],t,[t[0],e[1]]],a=o.map(this.map_.getCoordinateFromPixel,this.map_);a[4]=a[0].slice(),this.geometry_?this.geometry_.setCoordinates([a]):this.geometry_=new s.b([a])},l.prototype.getGeometry=function(){return this.geometry_},t.a=l},function(e,t){"use strict";t.a={LEFT:37,UP:38,RIGHT:39,DOWN:40}},function(e,t,o){"use strict";function a(e){const t=e.dataTransfer.files;for(let o=0,a=t.length;o<a;++o){const e=t.item(o),a=new FileReader;a.addEventListener(d.a.LOAD,this.handleResult_.bind(this,e)),a.readAsText(e)}}function r(e){e.stopPropagation(),e.preventDefault(),e.dataTransfer.dropEffect="copy"}var i=o(0),n=o(18),s=o(8),l=o(33),d=o(11),p=o(47),g=o(4);const _={ADD_FEATURES:"addfeatures"},c=function(e,t,o,a){l.a.call(this,e),this.features=o,this.file=t,this.projection=a};Object(i.g)(c,l.a);const u=function(e){const t=e?e:{};p.a.call(this,{handleEvent:n.b}),this.formatConstructors_=t.formatConstructors?t.formatConstructors:[],this.projection_=t.projection?Object(g.h)(t.projection):null,this.dropListenKeys_=null,this.source_=t.source||null,this.target=t.target?t.target:null};Object(i.g)(u,p.a),u.prototype.handleResult_=function(e,t){const o=t.target.result,a=this.getMap();let r=this.projection_;if(!r){const e=a.getView();r=e.getProjection()}const n=this.formatConstructors_;let s=[];for(let a=0,i=n.length;a<i;++a){const e=n[a],t=new e;if(s=this.tryReadFeatures_(t,o,{featureProjection:r}),s&&0<s.length)break}this.source_&&(this.source_.clear(),this.source_.addFeatures(s)),this.dispatchEvent(new c(_.ADD_FEATURES,e,s,r))},u.prototype.registerListeners_=function(){const e=this.getMap();if(e){const t=this.target?this.target:e.getViewport();this.dropListenKeys_=[Object(s.a)(t,d.a.DROP,a,this),Object(s.a)(t,d.a.DRAGENTER,r,this),Object(s.a)(t,d.a.DRAGOVER,r,this),Object(s.a)(t,d.a.DROP,r,this)]}},u.prototype.setActive=function(e){p.a.prototype.setActive.call(this,e),e?this.registerListeners_():this.unregisterListeners_()},u.prototype.setMap=function(e){this.unregisterListeners_(),p.a.prototype.setMap.call(this,e),this.getActive()&&this.registerListeners_()},u.prototype.tryReadFeatures_=function(e,t,o){try{return e.readFeatures(t,o)}catch(t){return null}},u.prototype.unregisterListeners_=function(){this.dropListenKeys_&&(this.dropListenKeys_.forEach(s.e),this.dropListenKeys_=null)},t.a=u},function(e,t,o){"use strict";function a(e){if(Object(d.g)(e)){const t=e.map,o=t.getSize(),a=e.pixel,r=a[0]-o[0]/2,i=o[1]/2-a[1],n=Math.atan2(i,r),l=Math.sqrt(r*r+i*i),d=t.getView();if(d.getConstraints().rotation!==s.c&&void 0!==this.lastAngle_){const e=n-this.lastAngle_;Object(p.d)(d,d.getRotation()-e)}if(this.lastAngle_=n,void 0!==this.lastMagnitude_){const e=this.lastMagnitude_*(d.getResolution()/l);Object(p.g)(d,e)}void 0!==this.lastMagnitude_&&(this.lastScaleDelta_=this.lastMagnitude_/l),this.lastMagnitude_=l}}function r(e){if(!Object(d.g)(e))return!0;const t=e.map,o=t.getView();o.setHint(l.a.INTERACTING,-1);const a=this.lastScaleDelta_-1;return Object(p.c)(o,o.getRotation()),Object(p.e)(o,o.getResolution(),void 0,this.duration_,a),this.lastScaleDelta_=0,!1}function i(e){return!!Object(d.g)(e)&&!!this.condition_(e)&&(e.map.getView().setHint(l.a.INTERACTING,1),this.lastAngle_=void 0,this.lastMagnitude_=void 0,!0)}var n=o(0),s=o(130),l=o(40),d=o(38),p=o(47),g=o(48);const _=function(e){const t=e?e:{};g.b.call(this,{handleDownEvent:i,handleDragEvent:a,handleUpEvent:r}),this.condition_=t.condition?t.condition:d.m,this.lastAngle_=void 0,this.lastMagnitude_=void 0,this.lastScaleDelta_=0,this.duration_=t.duration===void 0?400:t.duration};Object(n.g)(_,g.b),t.a=_},function(e){var t=Math.floor;(function(t,o){e.exports=o()})(this,function(){"use strict";function e(a,r,l,d,p){for(;d>l;){if(600<d-l){var g=d-l+1,n=r-l+1,_=Math.log(g),c=.5*Math.exp(2*_/3),s=.5*Math.sqrt(_*c*(g-c)/g)*(0>n-g/2?-1:1),u=Math.max(l,t(r-n*c/g+s)),y=Math.min(d,t(r+(g-n)*c/g+s));e(a,r,u,y,p)}var m=a[r],h=l,i=d;for(o(a,l,r),0<p(a[d],m)&&o(a,l,d);h<i;){for(o(a,h,i),h++,i--;0>p(a[h],m);)h++;for(;0<p(a[i],m);)i--}0===p(a[l],m)?o(a,l,i):(i++,o(a,i,d)),i<=r&&(l=i+1),r<=i&&(d=i-1)}}function o(e,t,o){var a=e[t];e[t]=e[o],e[o]=a}function a(e,t){return e<t?-1:e>t?1:0}return function(t,o,r,i,n){e(t,o,r||0,i||t.length-1,n||a)}})},function(e,t,o){"use strict";function a(e,t){return e.index-t.index}function r(e){if(!this.condition_(e))return!1;this.handlePointerAtPixel_(e.pixel,e.map);const t=e.map.getCoordinateFromPixel(e.pixel);this.dragSegments_.length=0,this.modified_=!1;const o=this.vertexFeature_;if(o){const r=[],i=o.getGeometry(),n=i.getCoordinates(),s=Object(R.b)([n]),l=this.rBush_.getInExtent(s),p={};l.sort(a);for(let o=0,a=l.length;o<a;++o){const a=l[o],i=a.segment;let s=Object(_.f)(a.feature);const g=a.depth;if(g&&(s+="-"+g.join("-")),p[s]||(p[s]=[,,]),a.geometry.getType()===I.a.CIRCLE&&a.index===D){const e=d(t,a);Object(x.g)(e,n)&&!p[s][0]&&(this.dragSegments_.push([a,0]),p[s][0]=a)}else if(Object(x.g)(i[0],n)&&!p[s][0])this.dragSegments_.push([a,0]),p[s][0]=a;else if(Object(x.g)(i[1],n)&&!p[s][1]){if((a.geometry.getType()===I.a.LINE_STRING||a.geometry.getType()===I.a.MULTI_LINE_STRING)&&p[s][0]&&0===p[s][0].index)continue;this.dragSegments_.push([a,1]),p[s][1]=a}else this.insertVertexCondition_(e)&&Object(_.f)(i)in this.vertexSegments_&&!p[s][0]&&!p[s][1]&&r.push([a,n])}r.length&&this.willModifyFeatures_(e);for(let e=r.length-1;0<=e;--e)this.insertVertex_.apply(this,r[e])}return!!this.vertexFeature_}function i(e){this.ignoreNextSingleClick_=!1,this.willModifyFeatures_(e);const t=e.coordinate;for(let o=0,a=this.dragSegments_.length;o<a;++o){const e=this.dragSegments_[o],a=e[0],r=a.depth,i=a.geometry;let n;const s=a.segment,l=e[1];for(;t.length<i.getStride();)t.push(s[l][t.length]);switch(i.getType()){case I.a.POINT:n=t,s[0]=s[1]=t;break;case I.a.MULTI_POINT:n=i.getCoordinates(),n[a.index]=t,s[0]=s[1]=t;break;case I.a.LINE_STRING:n=i.getCoordinates(),n[a.index+l]=t,s[l]=t;break;case I.a.MULTI_LINE_STRING:n=i.getCoordinates(),n[r[0]][a.index+l]=t,s[l]=t;break;case I.a.POLYGON:n=i.getCoordinates(),n[r[0]][a.index+l]=t,s[l]=t;break;case I.a.MULTI_POLYGON:n=i.getCoordinates(),n[r[1]][r[0]][a.index+l]=t,s[l]=t;break;case I.a.CIRCLE:s[0]=s[1]=t,a.index===G?(this.changingFeature_=!0,i.setCenter(t),this.changingFeature_=!1):(this.changingFeature_=!0,i.setRadius(Object(x.f)(i.getCenter(),t)),this.changingFeature_=!1);break;default:}n&&this.setGeometryCoordinates_(i,n)}this.createOrUpdateVertexFeature_(t)}function n(e){for(let t=this.dragSegments_.length-1;0<=t;--t){const e=this.dragSegments_[t][0],o=e.geometry;if(o.getType()===I.a.CIRCLE){const t=o.getCenter(),a=e.featureSegments[0],r=e.featureSegments[1];a.segment[0]=a.segment[1]=t,r.segment[0]=r.segment[1]=t,this.rBush_.update(Object(R.m)(t),a),this.rBush_.update(o.getExtent(),r)}else this.rBush_.update(Object(R.b)(e.segment),e)}return this.modified_&&(this.dispatchEvent(new A(N.MODIFYEND,this.features_,e)),this.modified_=!1),!1}function s(e){if(!(e instanceof h.a))return!0;this.lastPointerEvent_=e;let t;return e.map.getView().getInteracting()||e.type!=m.a.POINTERMOVE||this.handlingDownUpSequence||this.handlePointerMove_(e),this.vertexFeature_&&this.deleteCondition_(e)&&(e.type==m.a.SINGLECLICK&&this.ignoreNextSingleClick_?t=!0:t=this.removePoint()),e.type==m.a.SINGLECLICK&&(this.ignoreNextSingleClick_=!1),v.c.call(this,e)&&!t}function l(e,t){const o=t.geometry;if(o.getType()===I.a.CIRCLE){const a=o;if(t.index===D){const t=Object(x.j)(a.getCenter(),e),o=g(t)-a.getRadius();return o*o}}return Object(x.k)(e,t.segment)}function d(e,t){const o=t.geometry;return o.getType()===I.a.CIRCLE&&t.index===D?o.getClosestPoint(e):Object(x.c)(e,t.segment)}function p(){const e=Object(w.b)();return function(){return e[I.a.POINT]}}var g=Math.sqrt,_=o(0),c=o(62),u=o(78),y=o(15),m=o(71),h=o(109),f=o(13),x=o(41),E=o(8),C=o(33),T=o(11),S=o(38),R=o(3),I=o(22),b=o(21),v=o(48),L=o(25),P=o(12),F=o(164),O=o(135),w=o(65);const N={MODIFYSTART:"modifystart",MODIFYEND:"modifyend"},A=function(e,t,o){C.a.call(this,e),this.features=t,this.mapBrowserEvent=o};Object(_.g)(A,C.a);const M=function(e){v.b.call(this,{handleDownEvent:r,handleDragEvent:i,handleEvent:s,handleUpEvent:n}),this.condition_=e.condition?e.condition:S.l,this.defaultDeleteCondition_=function(e){return Object(S.a)(e)&&Object(S.n)(e)},this.deleteCondition_=e.deleteCondition?e.deleteCondition:this.defaultDeleteCondition_,this.insertVertexCondition_=e.insertVertexCondition?e.insertVertexCondition:S.c,this.vertexFeature_=null,this.vertexSegments_=null,this.lastPixel_=[0,0],this.ignoreNextSingleClick_=!1,this.modified_=!1,this.rBush_=new O.a,this.pixelTolerance_=void 0===e.pixelTolerance?10:e.pixelTolerance,this.snappedToVertex_=!1,this.changingFeature_=!1,this.dragSegments_=[],this.overlay_=new L.a({source:new P.b({useSpatialIndex:!1,wrapX:!!e.wrapX}),style:e.style?e.style:p(),updateWhileAnimating:!0,updateWhileInteracting:!0}),this.SEGMENT_WRITERS_={Point:this.writePointGeometry_,LineString:this.writeLineStringGeometry_,LinearRing:this.writeLineStringGeometry_,Polygon:this.writePolygonGeometry_,MultiPoint:this.writeMultiPointGeometry_,MultiLineString:this.writeMultiLineStringGeometry_,MultiPolygon:this.writeMultiPolygonGeometry_,Circle:this.writeCircleGeometry_,GeometryCollection:this.writeGeometryCollectionGeometry_},this.source_=null;let t;if(e.source?(this.source_=e.source,t=new c.b(this.source_.getFeatures()),Object(E.a)(this.source_,F.a.ADDFEATURE,this.handleSourceAdd_,this),Object(E.a)(this.source_,F.a.REMOVEFEATURE,this.handleSourceRemove_,this)):t=e.features,!t)throw new Error("The modify interaction requires features or a source");this.features_=t,this.features_.forEach(this.addFeature_.bind(this)),Object(E.a)(this.features_,u.a.ADD,this.handleFeatureAdd_,this),Object(E.a)(this.features_,u.a.REMOVE,this.handleFeatureRemove_,this),this.lastPointerEvent_=null};Object(_.g)(M,v.b);const G=0,D=1;M.prototype.addFeature_=function(e){const t=e.getGeometry();t&&t.getType()in this.SEGMENT_WRITERS_&&this.SEGMENT_WRITERS_[t.getType()].call(this,e,t);const o=this.getMap();o&&o.isRendered()&&this.getActive()&&this.handlePointerAtPixel_(this.lastPixel_,o),Object(E.a)(e,T.a.CHANGE,this.handleFeatureChange_,this)},M.prototype.willModifyFeatures_=function(e){this.modified_||(this.modified_=!0,this.dispatchEvent(new A(N.MODIFYSTART,this.features_,e)))},M.prototype.removeFeature_=function(e){this.removeFeatureSegmentData_(e),this.vertexFeature_&&0===this.features_.getLength()&&(this.overlay_.getSource().removeFeature(this.vertexFeature_),this.vertexFeature_=null),Object(E.c)(e,T.a.CHANGE,this.handleFeatureChange_,this)},M.prototype.removeFeatureSegmentData_=function(e){const t=this.rBush_,o=[];t.forEach(function(t){e===t.feature&&o.push(t)});for(let a=o.length-1;0<=a;--a)t.remove(o[a])},M.prototype.setActive=function(e){this.vertexFeature_&&!e&&(this.overlay_.getSource().removeFeature(this.vertexFeature_),this.vertexFeature_=null),v.b.prototype.setActive.call(this,e)},M.prototype.setMap=function(e){this.overlay_.setMap(e),v.b.prototype.setMap.call(this,e)},M.prototype.handleSourceAdd_=function(e){e.feature&&this.features_.push(e.feature)},M.prototype.handleSourceRemove_=function(e){e.feature&&this.features_.remove(e.feature)},M.prototype.handleFeatureAdd_=function(e){this.addFeature_(e.element)},M.prototype.handleFeatureChange_=function(e){if(!this.changingFeature_){const t=e.target;this.removeFeature_(t),this.addFeature_(t)}},M.prototype.handleFeatureRemove_=function(e){const t=e.element;this.removeFeature_(t)},M.prototype.writePointGeometry_=function(e,t){const o=t.getCoordinates();this.rBush_.insert(t.getExtent(),{feature:e,geometry:t,segment:[o,o]})},M.prototype.writeMultiPointGeometry_=function(e,t){const o=t.getCoordinates();for(let a=0,r=o.length;a<r;++a){const r=o[a],n={feature:e,geometry:t,depth:[a],index:a,segment:[r,r]};this.rBush_.insert(t.getExtent(),n)}},M.prototype.writeLineStringGeometry_=function(e,t){const o=t.getCoordinates();for(let a=0,r=o.length-1;a<r;++a){const r=o.slice(a,a+2),n={feature:e,geometry:t,index:a,segment:r};this.rBush_.insert(Object(R.b)(r),n)}},M.prototype.writeMultiLineStringGeometry_=function(e,t){const o=t.getCoordinates();for(let a=0,r=o.length;a<r;++a){const r=o[a];for(let o=0,n=r.length-1;o<n;++o){const n=r.slice(o,o+2),s={feature:e,geometry:t,depth:[a],index:o,segment:n};this.rBush_.insert(Object(R.b)(n),s)}}},M.prototype.writePolygonGeometry_=function(e,t){const o=t.getCoordinates();for(let a=0,r=o.length;a<r;++a){const r=o[a];for(let o=0,n=r.length-1;o<n;++o){const n=r.slice(o,o+2),s={feature:e,geometry:t,depth:[a],index:o,segment:n};this.rBush_.insert(Object(R.b)(n),s)}}},M.prototype.writeMultiPolygonGeometry_=function(e,t){const o=t.getCoordinates();for(let a=0,r=o.length;a<r;++a){const r=o[a];for(let o=0,i=r.length;o<i;++o){const n=r[o];for(let r=0,s=n.length-1;r<s;++r){const s=n.slice(r,r+2),l={feature:e,geometry:t,depth:[o,a],index:r,segment:s};this.rBush_.insert(Object(R.b)(s),l)}}}},M.prototype.writeCircleGeometry_=function(e,t){const o=t.getCenter(),a={feature:e,geometry:t,index:G,segment:[o,o]},r={feature:e,geometry:t,index:D,segment:[o,o]};a.featureSegments=r.featureSegments=[a,r],this.rBush_.insert(Object(R.m)(o),a),this.rBush_.insert(t.getExtent(),r)},M.prototype.writeGeometryCollectionGeometry_=function(e,t){const o=t.getGeometriesArray();for(let a=0;a<o.length;++a)this.SEGMENT_WRITERS_[o[a].getType()].call(this,e,o[a])},M.prototype.createOrUpdateVertexFeature_=function(e){let t=this.vertexFeature_;if(!t)t=new y.a(new b.a(e)),this.vertexFeature_=t,this.overlay_.getSource().addFeature(t);else{const o=t.getGeometry();o.setCoordinates(e)}return t},M.prototype.handlePointerMove_=function(e){this.lastPixel_=e.pixel,this.handlePointerAtPixel_(e.pixel,e.map)},M.prototype.handlePointerAtPixel_=function(e,t){const o=t.getCoordinateFromPixel(e),a=function(e,t){return l(o,e)-l(o,t)},r=Object(R.c)(Object(R.m)(o),t.getView().getResolution()*this.pixelTolerance_),i=this.rBush_,n=i.getInExtent(r);if(0<n.length){n.sort(a);const r=n[0],s=r.segment;let i=d(o,r);const l=t.getPixelFromCoordinate(i);let p=Object(x.f)(e,l);if(p<=this.pixelTolerance_){const e={};if(r.geometry.getType()===I.a.CIRCLE&&r.index===D)this.snappedToVertex_=!0,this.createOrUpdateVertexFeature_(i);else{const o=t.getPixelFromCoordinate(s[0]),a=t.getPixelFromCoordinate(s[1]),r=Object(x.j)(l,o),d=Object(x.j)(l,a);p=g(Math.min(r,d)),this.snappedToVertex_=p<=this.pixelTolerance_,this.snappedToVertex_&&(i=r>d?s[1]:s[0]),this.createOrUpdateVertexFeature_(i);for(let t=1,o=n.length;t<o;++t){const o=n[t].segment;if(Object(x.g)(s[0],o[0])&&Object(x.g)(s[1],o[1])||Object(x.g)(s[0],o[1])&&Object(x.g)(s[1],o[0]))e[Object(_.f)(o)]=!0;else break}}return e[Object(_.f)(s)]=!0,void(this.vertexSegments_=e)}}this.vertexFeature_&&(this.overlay_.getSource().removeFeature(this.vertexFeature_),this.vertexFeature_=null)},M.prototype.insertVertex_=function(e,t){const o=e.segment,a=e.feature,r=e.geometry,i=e.depth,n=e.index;let s;for(;t.length<r.getStride();)t.push(0);switch(r.getType()){case I.a.MULTI_LINE_STRING:s=r.getCoordinates(),s[i[0]].splice(n+1,0,t);break;case I.a.POLYGON:s=r.getCoordinates(),s[i[0]].splice(n+1,0,t);break;case I.a.MULTI_POLYGON:s=r.getCoordinates(),s[i[1]][i[0]].splice(n+1,0,t);break;case I.a.LINE_STRING:s=r.getCoordinates(),s.splice(n+1,0,t);break;default:return;}this.setGeometryCoordinates_(r,s);const l=this.rBush_;l.remove(e),this.updateSegmentIndices_(r,n,i,1);const d={segment:[o[0],t],feature:a,geometry:r,depth:i,index:n};l.insert(Object(R.b)(d.segment),d),this.dragSegments_.push([d,1]);const p={segment:[t,o[1]],feature:a,geometry:r,depth:i,index:n+1};l.insert(Object(R.b)(p.segment),p),this.dragSegments_.push([p,0]),this.ignoreNextSingleClick_=!0},M.prototype.removePoint=function(){if(this.lastPointerEvent_&&this.lastPointerEvent_.type!=m.a.POINTERDRAG){const e=this.lastPointerEvent_;return this.willModifyFeatures_(e),this.removeVertex_(),this.dispatchEvent(new A(N.MODIFYEND,this.features_,e)),this.modified_=!1,!0}return!1},M.prototype.removeVertex_=function(){const e=this.dragSegments_,t={};let o=!1,a,r,n,s,l,i,d,p,g,c,u;for(l=e.length-1;0<=l;--l)n=e[l],c=n[0],u=Object(_.f)(c.feature),c.depth&&(u+="-"+c.depth.join("-")),u in t||(t[u]={}),0===n[1]?(t[u].right=c,t[u].index=c.index):1==n[1]&&(t[u].left=c,t[u].index=c.index+1);for(u in t){switch(g=t[u].right,d=t[u].left,i=t[u].index,p=i-1,c=void 0===d?g:d,0>p&&(p=0),s=c.geometry,r=s.getCoordinates(),a=r,o=!1,s.getType()){case I.a.MULTI_LINE_STRING:2<r[c.depth[0]].length&&(r[c.depth[0]].splice(i,1),o=!0);break;case I.a.LINE_STRING:2<r.length&&(r.splice(i,1),o=!0);break;case I.a.MULTI_POLYGON:a=a[c.depth[1]];case I.a.POLYGON:a=a[c.depth[0]],4<a.length&&(i==a.length-1&&(i=0),a.splice(i,1),o=!0,0===i&&(a.pop(),a.push(a[0]),p=a.length-1));break;default:}if(o){this.setGeometryCoordinates_(s,r);const t=[];if(void 0!==d&&(this.rBush_.remove(d),t.push(d.segment[0])),void 0!==g&&(this.rBush_.remove(g),t.push(g.segment[1])),void 0!==d&&void 0!==g){const e={depth:c.depth,feature:c.feature,geometry:c.geometry,index:p,segment:t};this.rBush_.insert(Object(R.b)(e.segment),e)}this.updateSegmentIndices_(s,i,c.depth,-1),this.vertexFeature_&&(this.overlay_.getSource().removeFeature(this.vertexFeature_),this.vertexFeature_=null),e.length=0}}return o},M.prototype.setGeometryCoordinates_=function(e,t){this.changingFeature_=!0,e.setCoordinates(t),this.changingFeature_=!1},M.prototype.updateSegmentIndices_=function(e,t,o,a){this.rBush_.forEachInExtent(e.getExtent(),function(r){r.geometry===e&&(o===void 0||r.depth===void 0||Object(f.b)(r.depth,o))&&r.index>t&&(r.index+=a)})},t.a=M},function(e,t,o){"use strict";function a(e){const t=this.snapTo(e.pixel,e.coordinate,e.map);return t.snapped&&(e.coordinate=t.vertex.slice(0,2),e.pixel=t.vertexPixel),x.c.call(this,e)}function r(){const e=Object(E.c)(this.pendingFeatures_);return e.length&&(e.forEach(this.updateFeature_.bind(this)),this.pendingFeatures_={}),!1}function i(e,t){const o=Object(_.k)(this.pixelCoordinate_,e.segment),a=Object(_.k)(this.pixelCoordinate_,t.segment);return o-a}var n=Math.round,s=Math.sqrt,l=Math.min,d=o(0),p=o(62),g=o(78),_=o(41),c=o(8),u=o(11),y=o(3),m=o(18),h=o(22),f=o(29),x=o(48),E=o(10),C=o(12),T=o(164),S=o(135);const R=function(e){x.b.call(this,{handleEvent:a,handleDownEvent:m.b,handleUpEvent:r});const t=e?e:{};this.source_=t.source?t.source:null,this.vertex_=!(t.vertex!==void 0)||t.vertex,this.edge_=!(t.edge!==void 0)||t.edge,this.features_=t.features?t.features:null,this.featuresListenerKeys_=[],this.featureChangeListenerKeys_={},this.indexedFeaturesExtents_={},this.pendingFeatures_={},this.pixelCoordinate_=null,this.pixelTolerance_=t.pixelTolerance===void 0?10:t.pixelTolerance,this.sortByDistance_=i.bind(this),this.rBush_=new S.a,this.SEGMENT_WRITERS_={Point:this.writePointGeometry_,LineString:this.writeLineStringGeometry_,LinearRing:this.writeLineStringGeometry_,Polygon:this.writePolygonGeometry_,MultiPoint:this.writeMultiPointGeometry_,MultiLineString:this.writeMultiLineStringGeometry_,MultiPolygon:this.writeMultiPolygonGeometry_,GeometryCollection:this.writeGeometryCollectionGeometry_,Circle:this.writeCircleGeometry_}};Object(d.g)(R,x.b),R.prototype.addFeature=function(e,t){const o=Object(d.f)(e),a=e.getGeometry();if(a){const t=this.SEGMENT_WRITERS_[a.getType()];t&&(this.indexedFeaturesExtents_[o]=a.getExtent(Object(y.j)()),t.call(this,e,a))}(!(t!==void 0)||t)&&(this.featureChangeListenerKeys_[o]=Object(c.a)(e,u.a.CHANGE,this.handleFeatureChange_,this))},R.prototype.forEachFeatureAdd_=function(e){this.addFeature(e)},R.prototype.forEachFeatureRemove_=function(e){this.removeFeature(e)},R.prototype.getFeatures_=function(){let e;return this.features_?e=this.features_:this.source_&&(e=this.source_.getFeatures()),e},R.prototype.handleFeatureAdd_=function(e){let t;e instanceof C.a?t=e.feature:e instanceof p.a&&(t=e.element),this.addFeature(t)},R.prototype.handleFeatureRemove_=function(e){let t;e instanceof C.a?t=e.feature:e instanceof p.a&&(t=e.element),this.removeFeature(t)},R.prototype.handleFeatureChange_=function(e){const t=e.target;if(this.handlingDownUpSequence){const e=Object(d.f)(t);e in this.pendingFeatures_||(this.pendingFeatures_[e]=t)}else this.updateFeature_(t)},R.prototype.removeFeature=function(e,t){const o=Object(d.f)(e),a=this.indexedFeaturesExtents_[o];if(a){const t=this.rBush_,o=[];t.forEachInExtent(a,function(t){e===t.feature&&o.push(t)});for(let e=o.length-1;0<=e;--e)t.remove(o[e])}(!(t!==void 0)||t)&&(Object(c.e)(this.featureChangeListenerKeys_[o]),delete this.featureChangeListenerKeys_[o])},R.prototype.setMap=function(e){const t=this.getMap(),o=this.featuresListenerKeys_,a=this.getFeatures_();t&&(o.forEach(c.e),o.length=0,a.forEach(this.forEachFeatureRemove_.bind(this))),x.b.prototype.setMap.call(this,e),e&&(this.features_?o.push(Object(c.a)(this.features_,g.a.ADD,this.handleFeatureAdd_,this),Object(c.a)(this.features_,g.a.REMOVE,this.handleFeatureRemove_,this)):this.source_&&o.push(Object(c.a)(this.source_,T.a.ADDFEATURE,this.handleFeatureAdd_,this),Object(c.a)(this.source_,T.a.REMOVEFEATURE,this.handleFeatureRemove_,this)),a.forEach(this.forEachFeatureAdd_.bind(this)))},R.prototype.shouldStopEvent=m.a,R.prototype.snapTo=function(e,t,o){const a=o.getCoordinateFromPixel([e[0]-this.pixelTolerance_,e[1]+this.pixelTolerance_]),r=o.getCoordinateFromPixel([e[0]+this.pixelTolerance_,e[1]-this.pixelTolerance_]),i=Object(y.b)([a,r]);let d=this.rBush_.getInExtent(i);this.vertex_&&!this.edge_&&(d=d.filter(function(e){return e.feature.getGeometry().getType()!==h.a.CIRCLE}));let p=!1,g=!1,c=null,u=null,m,f,x,E,C;if(0<d.length){this.pixelCoordinate_=t,d.sort(this.sortByDistance_);const a=d[0].segment,r=d[0].feature.getGeometry().getType()===h.a.CIRCLE;this.vertex_&&!this.edge_?(f=o.getPixelFromCoordinate(a[0]),x=o.getPixelFromCoordinate(a[1]),E=Object(_.j)(e,f),C=Object(_.j)(e,x),m=s(l(E,C)),p=m<=this.pixelTolerance_,p&&(g=!0,c=E>C?a[1]:a[0],u=o.getPixelFromCoordinate(c))):this.edge_&&(c=r?Object(_.b)(t,d[0].feature.getGeometry()):Object(_.c)(t,a),u=o.getPixelFromCoordinate(c),Object(_.f)(e,u)<=this.pixelTolerance_&&(g=!0,this.vertex_&&!r&&(f=o.getPixelFromCoordinate(a[0]),x=o.getPixelFromCoordinate(a[1]),E=Object(_.j)(u,f),C=Object(_.j)(u,x),m=s(l(E,C)),p=m<=this.pixelTolerance_,p&&(c=E>C?a[1]:a[0],u=o.getPixelFromCoordinate(c))))),g&&(u=[n(u[0]),n(u[1])])}return{snapped:g,vertex:c,vertexPixel:u}},R.prototype.updateFeature_=function(e){this.removeFeature(e,!1),this.addFeature(e,!1)},R.prototype.writeCircleGeometry_=function(e,t){const o=Object(f.c)(t),a=o.getCoordinates()[0];for(let o=0,r=a.length-1;o<r;++o){const t=a.slice(o,o+2);this.rBush_.insert(Object(y.b)(t),{feature:e,segment:t})}},R.prototype.writeGeometryCollectionGeometry_=function(e,t){const o=t.getGeometriesArray();for(let a=0;a<o.length;++a){const t=this.SEGMENT_WRITERS_[o[a].getType()];t&&t.call(this,e,o[a])}},R.prototype.writeLineStringGeometry_=function(e,t){const o=t.getCoordinates();for(let a=0,r=o.length-1;a<r;++a){const t=o.slice(a,a+2);this.rBush_.insert(Object(y.b)(t),{feature:e,segment:t})}},R.prototype.writeMultiLineStringGeometry_=function(e,t){const o=t.getCoordinates();for(let a=0,r=o.length;a<r;++a){const t=o[a];for(let o=0,a=t.length-1;o<a;++o){const a=t.slice(o,o+2);this.rBush_.insert(Object(y.b)(a),{feature:e,segment:a})}}},R.prototype.writeMultiPointGeometry_=function(e,t){const o=t.getCoordinates();for(let a=0,r=o.length;a<r;++a){const r=o[a];this.rBush_.insert(t.getExtent(),{feature:e,segment:[r,r]})}},R.prototype.writeMultiPolygonGeometry_=function(e,t){const o=t.getCoordinates();for(let a=0,r=o.length;a<r;++a){const t=o[a];for(let o=0,a=t.length;o<a;++o){const a=t[o];for(let t=0,o=a.length-1;t<o;++t){const o=a.slice(t,t+2);this.rBush_.insert(Object(y.b)(o),{feature:e,segment:o})}}}},R.prototype.writePointGeometry_=function(e,t){const o=t.getCoordinates();this.rBush_.insert(t.getExtent(),{feature:e,segment:[o,o]})},R.prototype.writePolygonGeometry_=function(e,t){const o=t.getCoordinates();for(let a=0,r=o.length;a<r;++a){const t=o[a];for(let o=0,a=t.length-1;o<a;++o){const a=t.slice(o,o+2);this.rBush_.insert(Object(y.b)(a),{feature:e,segment:a})}}},t.a=R},function(e,t,o){"use strict";function a(e){if(this.lastFeature_=this.featuresAtPixel_(e.pixel,e.map),!this.lastCoordinate_&&this.lastFeature_){this.lastCoordinate_=e.coordinate,n.call(this,e);const t=this.features_||new l.b([this.lastFeature_]);return this.dispatchEvent(new h(m.TRANSLATESTART,t,e.coordinate)),!0}return!1}function r(e){if(this.lastCoordinate_){this.lastCoordinate_=null,n.call(this,e);const t=this.features_||new l.b([this.lastFeature_]);return this.dispatchEvent(new h(m.TRANSLATEEND,t,e.coordinate)),!0}return!1}function i(e){if(this.lastCoordinate_){const t=e.coordinate,o=t[0]-this.lastCoordinate_[0],a=t[1]-this.lastCoordinate_[1],r=this.features_||new l.b([this.lastFeature_]);r.forEach(function(e){const t=e.getGeometry();t.translate(o,a),e.setGeometry(t)}),this.lastCoordinate_=t,this.dispatchEvent(new h(m.TRANSLATING,r,t))}}function n(e){const t=e.map.getViewport();this.featuresAtPixel_(e.pixel,e.map)?(t.classList.remove(this.lastCoordinate_?"ol-grab":"ol-grabbing"),t.classList.add(this.lastCoordinate_?"ol-grabbing":"ol-grab")):t.classList.remove("ol-grab","ol-grabbing")}var s=o(0),l=o(62),d=o(32),p=o(8),g=o(33),_=o(18),c=o(13),u=o(48),y=o(159);const m={TRANSLATESTART:"translatestart",TRANSLATING:"translating",TRANSLATEEND:"translateend"},h=function(e,t,o){g.a.call(this,e),this.features=t,this.coordinate=o};Object(s.g)(h,g.a);const f=function(e){u.b.call(this,{handleDownEvent:a,handleDragEvent:i,handleMoveEvent:n,handleUpEvent:r});const t=e?e:{};this.lastCoordinate_=null,this.features_=t.features===void 0?null:t.features;let o;if(!t.layers)o=_.b;else if("function"==typeof t.layers)o=t.layers;else{const e=t.layers;o=function(t){return Object(c.f)(e,t)}}this.layerFilter_=o,this.hitTolerance_=t.hitTolerance?t.hitTolerance:0,this.lastFeature_=null,Object(p.a)(this,Object(d.b)(y.a.ACTIVE),this.handleActiveChanged_,this)};Object(s.g)(f,u.b),f.prototype.featuresAtPixel_=function(e,t){return t.forEachFeatureAtPixel(e,function(e){if(!this.features_||Object(c.f)(this.features_.getArray(),e))return e}.bind(this),{layerFilter:this.layerFilter_,hitTolerance:this.hitTolerance_})},f.prototype.getHitTolerance=function(){return this.hitTolerance_},f.prototype.setHitTolerance=function(e){this.hitTolerance_=e},f.prototype.setMap=function(e){const t=this.getMap();u.b.prototype.setMap.call(this,e),this.updateState_(t)},f.prototype.handleActiveChanged_=function(){this.updateState_(null)},f.prototype.updateState_=function(e){let t=this.getMap();const o=this.getActive();if((!t||!o)&&(t=t||e,t)){const e=t.getViewport();e.classList.remove("ol-grab","ol-grabbing")}},t.a=f},function(e,t,o){"use strict";var a=Math.round,r=o(27),i=o(0),n=o(13),s=o(46),l=o(23),d=o(74),p=o(136),g=o(75),_=o(67),c=o(169),u=o(237),y=o(45);const m=function(e){u.a.call(this,e);const t=e.getViewport();this.context_=Object(l.a)(),this.canvas_=this.context_.canvas,this.canvas_.style.width="100%",this.canvas_.style.height="100%",this.canvas_.style.display="block",this.canvas_.className=s.e,t.insertBefore(this.canvas_,t.childNodes[0]||null),this.renderedVisible_=!0,this.transform_=Object(r.c)()};Object(i.g)(m,u.a),m.prototype.dispatchComposeEvent_=function(e,t){const o=this.getMap(),a=this.context_;if(o.hasListener(e)){const r=t.extent,i=t.pixelRatio,n=t.viewState,s=n.rotation,l=this.getTransform(t),d=new c.a(a,i,r,l,s),g=new p.a(e,d,t,a,null);o.dispatchEvent(g)}},m.prototype.getTransform=function(e){const t=e.viewState,o=this.canvas_.width/2,a=this.canvas_.height/2,i=e.pixelRatio/t.resolution,n=-t.rotation,s=-t.center[0],l=-t.center[1];return Object(r.b)(this.transform_,o,a,i,-i,n,s,l)},m.prototype.renderFrame=function(e){if(!e)return void(this.renderedVisible_&&(this.canvas_.style.display="none",this.renderedVisible_=!1));const t=this.context_,o=e.pixelRatio,r=a(e.size[0]*o),s=a(e.size[1]*o);this.canvas_.width!=r||this.canvas_.height!=s?(this.canvas_.width=r,this.canvas_.height=s):t.clearRect(0,0,r,s);const l=e.viewState.rotation;this.calculateMatrices2D(e),this.dispatchComposeEvent_(g.a.PRECOMPOSE,e);const p=e.layerStatesArray;Object(n.l)(p,u.b),l&&(t.save(),Object(_.s)(t,l,r/2,s/2));const c=e.viewState.resolution;let m,i,h,f,x;for(m=0,i=p.length;m<i;++m)(x=p[m],h=x.layer,f=this.getLayerRenderer(h),Object(d.b)(x,c)&&x.sourceState==y.a.READY)&&f.prepareFrame(e,x)&&f.composeFrame(e,x,t);l&&t.restore(),this.dispatchComposeEvent_(g.a.POSTCOMPOSE,e),this.renderedVisible_||(this.canvas_.style.display="",this.renderedVisible_=!0),this.scheduleRemoveUnusedLayerRenderers(e),this.scheduleExpireIconCache(e)},m.prototype.forEachLayerAtPixel=function(e,t,o,a,n,s){let l;const p=t.viewState,g=p.resolution,_=t.layerStatesArray,c=_.length,u=Object(r.a)(t.pixelToCoordinateTransform,e.slice());let y;for(y=c-1;0<=y;--y){const e=_[y],r=e.layer;if(Object(d.b)(e,g)&&n.call(s,r)){const e=this.getLayerRenderer(r);if(l=e.forEachLayerAtCoordinate(u,t,o,a),l)return l}}},t.a=m},function(e,t,o){"use strict";var a=o(0),r=o(55),i=o(40),n=o(23),s=o(8),l=o(11),d=o(165),p=o.n(d),g=o(3),_=o(75),c=o(67),u=o(239),y=o(235),m=o(172);const h=function(e){y.a.call(this,e),this.declutterTree_=e.getDeclutter()?p()(9,void 0):null,this.dirty_=!1,this.renderedRevision_=-1,this.renderedResolution_=NaN,this.renderedExtent_=Object(g.j)(),this.renderedRenderOrder_=null,this.replayGroup_=null,this.replayGroupChanged=!0,this.context=Object(n.a)(),Object(s.a)(c.o,l.a.CLEAR,this.handleFontsChanged_,this)};Object(a.g)(h,y.a),h.handles=function(e){return e.getType()===r.a.VECTOR},h.create=function(e,t){return new h(t)},h.prototype.disposeInternal=function(){Object(s.c)(c.o,l.a.CLEAR,this.handleFontsChanged_,this),y.a.prototype.disposeInternal.call(this)},h.prototype.composeFrame=function(e,t,o){const a=e.extent,r=e.pixelRatio,i=t.managed?e.skippedFeatureUids:{},n=e.viewState,s=n.projection,l=n.rotation,d=s.getExtent(),p=this.getLayer().getSource();let u=this.getTransform(e,0);this.preCompose(o,e,u);const y=t.extent,m=y!==void 0;m&&this.clip(o,e,y);const h=this.replayGroup_;if(h&&!h.isEmpty()){this.declutterTree_&&this.declutterTree_.clear();const n=this.getLayer();let y=0,m=0,f;const x=1!==t.opacity,E=n.hasListener(_.a.RENDER);if(x||E){let e=o.canvas.width,t=o.canvas.height;if(l){const o=Math.round(Math.sqrt(e*e+t*t));y=(o-e)/2,m=(o-t)/2,e=t=o}this.context.canvas.width=e,this.context.canvas.height=t,f=this.context}else f=o;const C=f.globalAlpha;x||(f.globalAlpha=t.opacity),f!=o&&f.translate(y,m);const T=e.size[0]*r,S=e.size[1]*r;if(Object(c.s)(f,-l,T/2,S/2),h.replay(f,u,l,i),p.getWrapX()&&s.canWrapX()&&!Object(g.g)(d,a)){let t=a[0];const o=Object(g.E)(d);let r=0,n;for(;t<d[0];)--r,n=o*r,u=this.getTransform(e,n),h.replay(f,u,l,i),t+=o;for(r=0,t=a[2];t>d[2];)++r,n=o*r,u=this.getTransform(e,n),h.replay(f,u,l,i),t-=o;u=this.getTransform(e,0)}if(Object(c.s)(f,l,T/2,S/2),f!=o){if(E&&this.dispatchRenderEvent(f,e,u),x){const e=o.globalAlpha;o.globalAlpha=t.opacity,o.drawImage(f.canvas,-y,-m),o.globalAlpha=e}else o.drawImage(f.canvas,-y,-m);f.translate(-y,-m)}x||(f.globalAlpha=C)}m&&o.restore(),this.postCompose(o,e,t,u)},h.prototype.forEachFeatureAtCoordinate=function(e,t,o,r,i){if(!this.replayGroup_)return;else{const n=t.viewState.resolution,s=t.viewState.rotation,l=this.getLayer(),d={},p=this.replayGroup_.forEachFeatureAtCoordinate(e,n,s,o,{},function(e){const t=Object(a.f)(e).toString();if(!(t in d))return d[t]=!0,r.call(i,e,l)},null);return p}},h.prototype.handleFontsChanged_=function(){const e=this.getLayer();e.getVisible()&&this.replayGroup_&&e.changed()},h.prototype.handleStyleImageChange_=function(){this.renderIfReadyAndVisible()},h.prototype.prepareFrame=function(e){const t=this.getLayer(),o=t.getSource(),a=e.viewHints[i.a.ANIMATING],r=e.viewHints[i.a.INTERACTING],n=t.getUpdateWhileAnimating(),s=t.getUpdateWhileInteracting();if(!this.dirty_&&!n&&a||!s&&r)return!0;const l=e.extent,d=e.viewState,p=d.projection,_=d.resolution,c=e.pixelRatio,y=t.getRevision(),h=t.getRenderBuffer();let f=t.getRenderOrder();void 0===f&&(f=m.a);const x=Object(g.c)(l,h*_),E=d.projection.getExtent();if(o.getWrapX()&&d.projection.canWrapX()&&!Object(g.g)(E,e.extent)){const e=Object(g.E)(E),t=Math.max(Object(g.E)(x)/2,e);x[0]=E[0]-t,x[2]=E[2]+t}if(!this.dirty_&&this.renderedResolution_==_&&this.renderedRevision_==y&&this.renderedRenderOrder_==f&&Object(g.g)(this.renderedExtent_,x))return this.replayGroupChanged=!1,!0;this.replayGroup_=null,this.dirty_=!1;const C=new u.a(Object(m.c)(_,c),x,_,c,o.getOverlaps(),this.declutterTree_,t.getRenderBuffer());o.loadFeatures(x,_,p);const T=function(e){let o;const a=e.getStyleFunction()||t.getStyleFunction();if(a&&(o=a(e,_)),o){const t=this.renderFeature(e,_,c,o,C);this.dirty_=this.dirty_||t}}.bind(this);if(f){const e=[];o.forEachFeatureInExtent(x,function(t){e.push(t)},this),e.sort(f);for(let t=0,o=e.length;t<o;++t)T(e[t])}else o.forEachFeatureInExtent(x,T,this);return C.finish(),this.renderedResolution_=_,this.renderedRevision_=y,this.renderedRenderOrder_=f,this.renderedExtent_=x,this.replayGroup_=C,this.replayGroupChanged=!0,!0},h.prototype.renderFeature=function(e,t,o,a,r){if(!a)return!1;let n=!1;if(Array.isArray(a))for(let s=0,i=a.length;s<i;++s)n=Object(m.d)(r,e,a[s],Object(m.b)(t,o),this.handleStyleImageChange_,this)||n;else n=Object(m.d)(r,e,a,Object(m.b)(t,o),this.handleStyleImageChange_,this);return n},t.a=h},function(e,t,o){"use strict";var a=Math.sqrt,r=Math.pow,n=Math.PI;t.a=function(e,t,o,i,l,d,p,g){const _=[],c=e[t]>e[o-i],u=l.length;let m=e[t],h=e[t+1];t+=i;let f=e[t],E=e[t+1],C=0,T=a(r(f-m,2)+r(E-h,2)),S="",R=0,I,b,v;for(let L=0;L<u;++L){b=c?u-L-1:L;const P=l.charAt(b);S=c?P+S:S+P;const F=d(S)-R;R+=F;const O=p+F/2;for(;t<o-i&&C+T<O;)m=f,h=E,t+=i,f=e[t],E=e[t+1],C+=T,T=a(r(f-m,2)+r(E-h,2));const w=O-C;let N=Math.atan2(E-h,f-m);if(c&&(N+=0<N?-n:n),void 0!==v){let e=N-v;if(e+=e>n?-2*n:e<-n?2*n:0,Math.abs(e)>g)return null}const A=w/T,M=Object(s.c)(m,f,A),x=Object(s.c)(h,E,A);v==N?(c&&(I[0]=M,I[1]=x,I[2]=F/2),I[4]=S):(S=P,R=F,I=[M,x,F/2,N,S],c?_.unshift(I):_.push(I),v=N),p+=F}return _};var s=o(17)},function(e,t,o){"use strict";var a=o(0),r=o(118),i=o(117);const n=function(e,t,o,a,r,n){i.a.call(this,e,t,o,a,r,n),this.declutterGroup_=null,this.hitDetectionImage_=null,this.image_=null,this.anchorX_=void 0,this.anchorY_=void 0,this.height_=void 0,this.opacity_=void 0,this.originX_=void 0,this.originY_=void 0,this.rotateWithView_=void 0,this.rotation_=void 0,this.scale_=void 0,this.snapToPixel_=void 0,this.width_=void 0};Object(a.g)(n,i.a),n.prototype.drawCoordinates_=function(e,t,o,a){return this.appendFlatCoordinates(e,t,o,a,!1,!1)},n.prototype.drawPoint=function(e,t){if(this.image_){this.beginGeometry(e,t);const o=e.getFlatCoordinates(),a=e.getStride(),i=this.coordinates.length,n=this.drawCoordinates_(o,0,o.length,a);this.instructions.push([r.c.DRAW_IMAGE,i,n,this.image_,this.anchorX_,this.anchorY_,this.declutterGroup_,this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_*this.pixelRatio,this.snapToPixel_,this.width_]),this.hitDetectionInstructions.push([r.c.DRAW_IMAGE,i,n,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.declutterGroup_,this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.snapToPixel_,this.width_]),this.endGeometry(e,t)}},n.prototype.drawMultiPoint=function(e,t){if(this.image_){this.beginGeometry(e,t);const o=e.getFlatCoordinates(),a=e.getStride(),i=this.coordinates.length,n=this.drawCoordinates_(o,0,o.length,a);this.instructions.push([r.c.DRAW_IMAGE,i,n,this.image_,this.anchorX_,this.anchorY_,this.declutterGroup_,this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_*this.pixelRatio,this.snapToPixel_,this.width_]),this.hitDetectionInstructions.push([r.c.DRAW_IMAGE,i,n,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.declutterGroup_,this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.snapToPixel_,this.width_]),this.endGeometry(e,t)}},n.prototype.finish=function(){this.reverseHitDetectionInstructions(),this.anchorX_=void 0,this.anchorY_=void 0,this.hitDetectionImage_=null,this.image_=null,this.height_=void 0,this.scale_=void 0,this.opacity_=void 0,this.originX_=void 0,this.originY_=void 0,this.rotateWithView_=void 0,this.rotation_=void 0,this.snapToPixel_=void 0,this.width_=void 0},n.prototype.setImageStyle=function(e,t){const o=e.getAnchor(),a=e.getSize(),r=e.getHitDetectionImage(1),i=e.getImage(1),n=e.getOrigin();this.anchorX_=o[0],this.anchorY_=o[1],this.declutterGroup_=t,this.hitDetectionImage_=r,this.image_=i,this.height_=a[1],this.opacity_=e.getOpacity(),this.originX_=n[0],this.originY_=n[1],this.rotateWithView_=e.getRotateWithView(),this.rotation_=e.getRotation(),this.scale_=e.getScale(),this.snapToPixel_=e.getSnapToPixel(),this.width_=a[0]},t.a=n},function(e,t,o){"use strict";var a=o(0),r=o(118),i=o(117);const n=function(e,t,o,a,r,n){i.a.call(this,e,t,o,a,r,n)};Object(a.g)(n,i.a),n.prototype.drawFlatCoordinates_=function(e,t,o,a){const i=this.coordinates.length,n=this.appendFlatCoordinates(e,t,o,a,!1,!1),s=[r.c.MOVE_TO_LINE_TO,i,n];return this.instructions.push(s),this.hitDetectionInstructions.push(s),o},n.prototype.drawLineString=function(e,t){const o=this.state,a=o.strokeStyle,i=o.lineWidth;if(void 0!==a&&void 0!==i){this.updateStrokeStyle(o,this.applyStroke),this.beginGeometry(e,t),this.hitDetectionInstructions.push([r.c.SET_STROKE_STYLE,o.strokeStyle,o.lineWidth,o.lineCap,o.lineJoin,o.miterLimit,o.lineDash,o.lineDashOffset],r.a);const a=e.getFlatCoordinates(),i=e.getStride();this.drawFlatCoordinates_(a,0,a.length,i),this.hitDetectionInstructions.push(r.e),this.endGeometry(e,t)}},n.prototype.drawMultiLineString=function(e,t){const o=this.state,a=o.strokeStyle,i=o.lineWidth;if(void 0===a||void 0===i)return;this.updateStrokeStyle(o,this.applyStroke),this.beginGeometry(e,t),this.hitDetectionInstructions.push([r.c.SET_STROKE_STYLE,o.strokeStyle,o.lineWidth,o.lineCap,o.lineJoin,o.miterLimit,o.lineDash,o.lineDashOffset],r.a);const n=e.getEnds(),s=e.getFlatCoordinates(),l=e.getStride();let d=0;for(let o=0,a=n.length;o<a;++o)d=this.drawFlatCoordinates_(s,d,n[o],l);this.hitDetectionInstructions.push(r.e),this.endGeometry(e,t)},n.prototype.finish=function(){const e=this.state;e.lastStroke!=void 0&&e.lastStroke!=this.coordinates.length&&this.instructions.push(r.e),this.reverseHitDetectionInstructions(),this.state=null},n.prototype.applyStroke=function(e){e.lastStroke!=void 0&&e.lastStroke!=this.coordinates.length&&(this.instructions.push(r.e),e.lastStroke=this.coordinates.length),e.lastStroke=0,i.a.prototype.applyStroke.call(this,e),this.instructions.push(r.a)},t.a=n},function(e,t,o){"use strict";var a=o(0),r=o(66),n=o(87),i=o(67),s=o(118),l=o(117);const d=function(e,t,o,a,r,i){l.a.call(this,e,t,o,a,r,i)};Object(a.g)(d,l.a),d.prototype.drawFlatCoordinatess_=function(e,t,o,a){const r=this.state,i=void 0!==r.fillStyle,n=void 0!=r.strokeStyle,l=o.length;this.instructions.push(s.a),this.hitDetectionInstructions.push(s.a);for(let r=0;r<l;++r){const i=o[r],l=this.coordinates.length,d=this.appendFlatCoordinates(e,t,i,a,!0,!n),p=[s.c.MOVE_TO_LINE_TO,l,d];this.instructions.push(p),this.hitDetectionInstructions.push(p),n&&(this.instructions.push(s.b),this.hitDetectionInstructions.push(s.b)),t=i}return this.hitDetectionInstructions.push(s.d),i&&this.instructions.push(s.d),n&&(this.instructions.push(s.e),this.hitDetectionInstructions.push(s.e)),t},d.prototype.drawCircle=function(e,t){const o=this.state,a=o.fillStyle,n=o.strokeStyle;if(void 0!==a||void 0!==n){this.setFillStrokeStyles_(e),this.beginGeometry(e,t),this.hitDetectionInstructions.push([s.c.SET_FILL_STYLE,Object(r.b)(i.b)]),void 0!==o.strokeStyle&&this.hitDetectionInstructions.push([s.c.SET_STROKE_STYLE,o.strokeStyle,o.lineWidth,o.lineCap,o.lineJoin,o.miterLimit,o.lineDash,o.lineDashOffset]);const a=e.getFlatCoordinates(),n=e.getStride(),l=this.coordinates.length;this.appendFlatCoordinates(a,0,a.length,n,!1,!1);const d=[s.c.CIRCLE,l];this.instructions.push(s.a,d),this.hitDetectionInstructions.push(s.a,d),this.hitDetectionInstructions.push(s.d),void 0!==o.fillStyle&&this.instructions.push(s.d),void 0!==o.strokeStyle&&(this.instructions.push(s.e),this.hitDetectionInstructions.push(s.e)),this.endGeometry(e,t)}},d.prototype.drawPolygon=function(e,t){const o=this.state;this.setFillStrokeStyles_(e),this.beginGeometry(e,t),this.hitDetectionInstructions.push([s.c.SET_FILL_STYLE,Object(r.b)(i.b)]),o.strokeStyle!==void 0&&this.hitDetectionInstructions.push([s.c.SET_STROKE_STYLE,o.strokeStyle,o.lineWidth,o.lineCap,o.lineJoin,o.miterLimit,o.lineDash,o.lineDashOffset]);const a=e.getEnds(),n=e.getOrientedFlatCoordinates(),l=e.getStride();this.drawFlatCoordinatess_(n,0,a,l),this.endGeometry(e,t)},d.prototype.drawMultiPolygon=function(e,t){const o=this.state,a=o.fillStyle,n=o.strokeStyle;if(void 0===a&&void 0===n)return;this.setFillStrokeStyles_(e),this.beginGeometry(e,t),this.hitDetectionInstructions.push([s.c.SET_FILL_STYLE,Object(r.b)(i.b)]),o.strokeStyle!==void 0&&this.hitDetectionInstructions.push([s.c.SET_STROKE_STYLE,o.strokeStyle,o.lineWidth,o.lineCap,o.lineJoin,o.miterLimit,o.lineDash,o.lineDashOffset]);const l=e.getEndss(),d=e.getOrientedFlatCoordinates(),p=e.getStride();let g=0;for(let o=0,a=l.length;o<a;++o)g=this.drawFlatCoordinatess_(d,g,l[o],p);this.endGeometry(e,t)},d.prototype.finish=function(){this.reverseHitDetectionInstructions(),this.state=null;const e=this.tolerance;if(0!==e){const t=this.coordinates;for(let o=0,a=t.length;o<a;++o)t[o]=Object(n.e)(t[o],e)}},d.prototype.setFillStrokeStyles_=function(e){const t=this.state,o=t.fillStyle;o!==void 0&&this.updateFillStyle(t,this.createFill,e),t.strokeStyle!==void 0&&this.updateStrokeStyle(t,this.applyStroke)},t.a=d},function(e,t,o){"use strict";function a(e,t,o){const a=t.length;let r=0;for(let n=0;n<a;++n){const a=Object(_.q)(e,t[n]);r=Math.max(r,a),o.push(a)}return r}var r=Math.ceil,i=o(0),n=o(112),s=o(23),l=o(3),d=o(317),p=o(22),g=o(37),_=o(67),c=o(118),u=o(117),y=o(91),m=o(241);const h=function(e,t,o,a,r,i){u.a.call(this,e,t,o,a,r,i),this.declutterGroup_,this.labels_=null,this.text_="",this.textOffsetX_=0,this.textOffsetY_=0,this.textRotateWithView_=void 0,this.textRotation_=0,this.textFillState_=null,this.fillStates={},this.textStrokeState_=null,this.strokeStates={},this.textState_={},this.textStates={},this.textKey_="",this.fillKey_="",this.strokeKey_="",this.widths_={},_.o.prune()};Object(i.g)(h,u.a),h.prototype.drawText=function(e,t){const o=this.textFillState_,a=this.textStrokeState_,r=this.textState_;if(""===this.text_||!r||!o&&!a)return;let n=this.coordinates.length;const s=e.getType();let g=null,_=2,c=2,u,i;if(r.placement===m.a.LINE){if(!Object(l.F)(this.getBufferedMaxExtent(),e.getExtent()))return;let a;if(g=e.getFlatCoordinates(),c=e.getStride(),s==p.a.LINE_STRING)a=[g.length];else if(s==p.a.MULTI_LINE_STRING)a=e.getEnds();else if(s==p.a.POLYGON)a=e.getEnds().slice(0,1);else if(s==p.a.MULTI_POLYGON){const t=e.getEndss();for(a=[],u=0,i=t.length;u<i;++u)a.push(t[u][0])}this.beginGeometry(e,t);const y=r.textAlign;let m=0,h;for(let e=0,t=a.length;e<t;++e){if(void 0==y){const t=Object(d.a)(r.maxAngle,g,m,a[e],c);m=t[0],h=t[1]}else h=a[e];for(u=m;u<h;u+=c)this.coordinates.push(g[u],g[u+1]);_=this.coordinates.length,m=a[e],this.drawChars_(n,_,this.declutterGroup_),n=_}this.endGeometry(e,t)}else{const o=this.getImage(this.text_,this.textKey_,this.fillKey_,this.strokeKey_),a=o.width/this.pixelRatio;switch(s){case p.a.POINT:case p.a.MULTI_POINT:g=e.getFlatCoordinates(),_=g.length;break;case p.a.LINE_STRING:g=e.getFlatMidpoint();break;case p.a.CIRCLE:g=e.getCenter();break;case p.a.MULTI_LINE_STRING:g=e.getFlatMidpoints(),_=g.length;break;case p.a.POLYGON:if(g=e.getFlatInteriorPoint(),!r.overflow&&g[2]/this.resolution<a)return;c=3;break;case p.a.MULTI_POLYGON:const t=e.getFlatInteriorPoints();for(g=[],u=0,i=t.length;u<i;u+=3)(r.overflow||t[u+2]/this.resolution>=a)&&g.push(t[u],t[u+1]);if(_=g.length,0==_)return;break;default:}_=this.appendFlatCoordinates(g,0,_,c,!1,!1),(r.backgroundFill||r.backgroundStroke)&&(this.setFillStrokeStyle(r.backgroundFill,r.backgroundStroke),r.backgroundFill&&(this.updateFillStyle(this.state,this.createFill,e),this.hitDetectionInstructions.push(this.createFill(this.state,e))),r.backgroundStroke&&(this.updateStrokeStyle(this.state,this.applyStroke),this.hitDetectionInstructions.push(this.createStroke(this.state)))),this.beginGeometry(e,t),this.drawTextImage_(o,n,_),this.endGeometry(e,t)}},h.prototype.getImage=function(e,t,o,n){let l;const d=n+t+e+o+this.pixelRatio;if(!_.o.containsKey(d)){const p=n?this.strokeStates[n]||this.textStrokeState_:null,c=o?this.fillStates[o]||this.textFillState_:null,u=this.textStates[t]||this.textState_,m=this.pixelRatio,h=u.scale*m,f=y.b[u.textAlign||_.l],E=n&&p.lineWidth?p.lineWidth:0,C=e.split("\n"),T=C.length,S=[],R=a(u.font,C,S),I=Object(_.p)(u.font),b=Object(s.a)(r((R+E)*h),r((I*T+E)*h));l=b.canvas,_.o.set(d,l),1!=h&&b.scale(h,h),b.font=u.font,n&&(b.strokeStyle=p.strokeStyle,b.lineWidth=E*(g.h?h:1),b.lineCap=p.lineCap,b.lineJoin=p.lineJoin,b.miterLimit=p.miterLimit,g.a&&p.lineDash.length&&(b.setLineDash(p.lineDash),b.lineDashOffset=p.lineDashOffset)),o&&(b.fillStyle=c.fillStyle),b.textBaseline="middle",b.textAlign="center";const v=.5-f,L=f*l.width/h+v*E;let x;if(n)for(x=0;x<T;++x)b.strokeText(C[x],L+v*S[x],.5*(E+I)+x*I);if(o)for(x=0;x<T;++x)b.fillText(C[x],L+v*S[x],.5*(E+I)+x*I)}return _.o.get(d)},h.prototype.drawTextImage_=function(e,t,o){const a=this.textState_,r=this.textStrokeState_,i=this.pixelRatio,n=y.b[a.textAlign||_.l],s=y.b[a.textBaseline],l=r&&r.lineWidth?r.lineWidth:0,d=n*e.width/i+2*(.5-n)*l,p=s*e.height/i+2*(.5-s)*l;this.instructions.push([c.c.DRAW_IMAGE,t,o,e,(d-this.textOffsetX_)*i,(p-this.textOffsetY_)*i,this.declutterGroup_,e.height,1,0,0,this.textRotateWithView_,this.textRotation_,1,!0,e.width,a.padding==_.j?_.j:a.padding.map(function(e){return e*i}),!!a.backgroundFill,!!a.backgroundStroke]),this.hitDetectionInstructions.push([c.c.DRAW_IMAGE,t,o,e,(d-this.textOffsetX_)*i,(p-this.textOffsetY_)*i,this.declutterGroup_,e.height,1,0,0,this.textRotateWithView_,this.textRotation_,1/i,!0,e.width,a.padding,!!a.backgroundFill,!!a.backgroundStroke])},h.prototype.drawChars_=function(e,t,o){const a=this.textStrokeState_,r=this.textState_,i=this.textFillState_,n=this.strokeKey_;a&&!(n in this.strokeStates)&&(this.strokeStates[n]={strokeStyle:a.strokeStyle,lineCap:a.lineCap,lineDashOffset:a.lineDashOffset,lineWidth:a.lineWidth,lineJoin:a.lineJoin,miterLimit:a.miterLimit,lineDash:a.lineDash});const s=this.textKey_;this.textKey_ in this.textStates||(this.textStates[this.textKey_]={font:r.font,textAlign:r.textAlign||_.l,scale:r.scale});const l=this.fillKey_;i&&!(l in this.fillStates)&&(this.fillStates[l]={fillStyle:i.fillStyle});const d=this.pixelRatio,p=y.b[r.textBaseline],g=this.textOffsetY_*d,u=this.text_,m=r.font,h=r.scale,f=a?a.lineWidth*h/2:0;let x=this.widths_[m];x||(this.widths_[m]=x={}),this.instructions.push([c.c.DRAW_CHARS,e,t,p,o,r.overflow,l,r.maxAngle,function(e){let t=x[e];return t||(t=x[e]=Object(_.q)(m,e)),t*h*d},g,n,f*d,u,s,1]),this.hitDetectionInstructions.push([c.c.DRAW_CHARS,e,t,p,o,r.overflow,l,r.maxAngle,function(e){let t=x[e];return t||(t=x[e]=Object(_.q)(m,e)),t*h},g,n,f,u,s,1/d])},h.prototype.setTextStyle=function(e,t){let o,a,r;if(!e)this.text_="";else{this.declutterGroup_=t;const s=e.getFill();s?(a=this.textFillState_,!a&&(a=this.textFillState_={}),a.fillStyle=Object(n.a)(s.getColor()||_.b)):a=this.textFillState_=null;const l=e.getStroke();if(!l)r=this.textStrokeState_=null;else{r=this.textStrokeState_,r||(r=this.textStrokeState_={});const e=l.getLineDash(),t=l.getLineDashOffset(),o=l.getWidth(),a=l.getMiterLimit();r.lineCap=l.getLineCap()||_.d,r.lineDash=e?e.slice():_.e,r.lineDashOffset=t===void 0?_.f:t,r.lineJoin=l.getLineJoin()||_.g,r.lineWidth=o===void 0?_.h:o,r.miterLimit=a===void 0?_.i:a,r.strokeStyle=Object(n.a)(l.getColor()||_.k)}o=this.textState_;const d=e.getFont()||_.c;Object(_.a)(d);const p=e.getScale();o.overflow=e.getOverflow(),o.font=d,o.maxAngle=e.getMaxAngle(),o.placement=e.getPlacement(),o.textAlign=e.getTextAlign(),o.textBaseline=e.getTextBaseline()||_.m,o.backgroundFill=e.getBackgroundFill(),o.backgroundStroke=e.getBackgroundStroke(),o.padding=e.getPadding()||_.j,o.scale=p===void 0?1:p;const g=e.getOffsetX(),c=e.getOffsetY(),u=e.getRotateWithView(),y=e.getRotation();this.text_=e.getText()||"",this.textOffsetX_=g===void 0?0:g,this.textOffsetY_=c===void 0?0:c,this.textRotateWithView_=u!==void 0&&u,this.textRotation_=y===void 0?0:y,this.strokeKey_=r?("string"==typeof r.strokeStyle?r.strokeStyle:Object(i.f)(r.strokeStyle))+r.lineCap+r.lineDashOffset+"|"+r.lineWidth+r.lineJoin+r.miterLimit+"["+r.lineDash.join()+"]":"",this.textKey_=o.font+o.scale+(o.textAlign||"?"),this.fillKey_=a?"string"==typeof a.fillStyle?a.fillStyle:"|"+Object(i.f)(a.fillStyle):""}},t.a=h},function(e,t){"use strict";t.a=function(e,t,o,a,r){let n=o,s=o,l=0,d=0,p=o,g,_,i,c,u,y,m,h,f,x;for(_=o;_<a;_+=r){const o=t[_],a=t[_+1];void 0!==u&&(f=o-u,x=a-y,c=Math.sqrt(f*f+x*x),void 0!=m&&(d+=i,g=Math.acos((m*f+h*x)/(i*c)),g>e&&(d>l&&(l=d,n=p,s=_),d=0,p=_-r)),i=c,m=f,h=x),u=o,y=a}return d+=c,d>l?[p,_]:[n,s]}},function(e,t,o){"use strict";var a=Math.round,r=o(0),i=o(55),n=o(35),s=o(23),l=o(8),d=o(11),p=o(165),g=o.n(p),_=o(3),c=o(242),u=o(4),y=o(56),m=o(116),h=o(67),f=o(239),x=o(91),E=o(170),C=o(172),T=o(27);const S={image:[m.a.POLYGON,m.a.CIRCLE,m.a.LINE_STRING,m.a.IMAGE,m.a.TEXT],hybrid:[m.a.POLYGON,m.a.LINE_STRING]},R={image:[m.a.DEFAULT],hybrid:[m.a.IMAGE,m.a.TEXT,m.a.DEFAULT],vector:x.a},I=function(e){this.context=null,E.a.call(this,e),this.declutterTree_=e.getDeclutter()?g()(9,void 0):null,this.dirty_=!1,this.renderedLayerRevision_,this.tmpTransform_=Object(T.c)(),this.zDirection=e.getRenderMode()==c.a.VECTOR?1:0,Object(l.a)(h.o,d.a.CLEAR,this.handleFontsChanged_,this)};Object(r.g)(I,E.a),I.handles=function(e){return e.getType()===i.a.VECTOR_TILE},I.create=function(e,t){return new I(t)},I.prototype.disposeInternal=function(){Object(l.c)(h.o,d.a.CLEAR,this.handleFontsChanged_,this),E.a.prototype.disposeInternal.call(this)},I.prototype.prepareFrame=function(){const e=this.getLayer(),t=e.getRevision();if(this.renderedLayerRevision_!=t){this.renderedTiles.length=0;const t=e.getRenderMode();this.context||t==c.a.VECTOR||(this.context=Object(s.a)()),this.context&&t==c.a.VECTOR&&(this.context=null)}return this.renderedLayerRevision_=t,E.a.prototype.prepareFrame.apply(this,arguments)},I.prototype.createReplayGroup_=function(e,t){const o=this.getLayer(),a=t.pixelRatio,r=t.viewState.projection,i=o.getRevision(),s=o.getRenderOrder()||null,l=e.getReplayState(o);if(!l.dirty&&l.renderedRevision==i&&l.renderedRenderOrder==s)return;const d=o.getSource(),p=d.getTileGrid(),g=d.getTileGridForProjection(r),c=g.getResolution(e.tileCoord[0]),m=g.getTileCoordExtent(e.wrappedTileCoord),h={};for(let i=0,g=e.tileKeys.length;i<g;++i){const t=e.getTile(e.tileKeys[i]);if(t.getState()!=n.a.LOADED)continue;const g=t.tileCoord,x=p.getTileCoordExtent(g),E=Object(_.B)(m,x),T=Object(_.p)(x,E)?null:Object(_.c)(E,o.getRenderBuffer()*c,this.tmpExtent),S=t.getProjection();let R=!1;Object(u.f)(r,S)||(R=!0,t.setProjection(r)),l.dirty=!1;const I=new f.a(0,E,c,a,d.getOverlaps(),this.declutterTree_,o.getRenderBuffer()),b=Object(C.b)(c,a),v=function(e){let t;const a=e.getStyleFunction()||o.getStyleFunction();if(a&&(t=a(e,c)),t){const o=this.renderFeature(e,b,t,I);this.dirty_=this.dirty_||o,l.dirty=l.dirty||o}},L=t.getFeatures();s&&s!==l.renderedRenderOrder&&L.sort(s);for(let e=0,o=L.length;e<o;++e){const o=L[e];R&&(S.getUnits()==y.b.TILE_PIXELS&&(S.setWorldExtent(x),S.setExtent(t.getExtent())),o.getGeometry().transform(S,r)),(!T||Object(_.F)(T,o.getGeometry().getExtent()))&&v.call(this,o)}for(const e in I.finish(),I.getReplays())h[e]=!0;t.setReplayGroup(o,e.tileCoord.toString(),I)}l.renderedRevision=i,l.renderedRenderOrder=s},I.prototype.drawTileImage=function(e,t,o){const a=e;this.createReplayGroup_(a,t),this.context&&(this.renderTileImage_(a,t,o),E.a.prototype.drawTileImage.apply(this,arguments))},I.prototype.forEachFeatureAtCoordinate=function(e,t,o,a,s){const l=t.viewState.resolution,d=t.viewState.rotation;o=o==void 0?0:o;const p=this.getLayer(),g={},c=this.renderedTiles,u=p.getSource(),y=u.getTileGridForProjection(t.viewState.projection);let m,h,f,i,x,E,C,T;for(f=0,i=c.length;f<i;++f)if(E=c[f],C=E.wrappedTileCoord,T=y.getTileCoordExtent(C,this.tmpExtent),m=Object(_.c)(T,o*l,m),!!Object(_.f)(m,e))for(let i=0,t=E.tileKeys.length;i<t;++i){const t=E.getTile(E.tileKeys[i]);t.getState()==n.a.LOADED&&(x=t.getReplayGroup(p,E.tileCoord.toString()),h=h||x.forEachFeatureAtCoordinate(e,l,d,o,{},function(e){const t=Object(r.f)(e).toString();if(!(t in g))return g[t]=!0,a.call(s,e,p)},null))}return h},I.prototype.getReplayTransform_=function(e,t){const o=this.getLayer(),r=o.getSource(),i=r.getTileGrid(),n=e.tileCoord,s=i.getResolution(n[0]),l=t.viewState,d=t.pixelRatio,p=l.resolution/d,g=i.getTileCoordExtent(n,this.tmpExtent),c=l.center,u=Object(_.C)(g),y=t.size,m=a(d*y[0]/2),h=a(d*y[1]/2);return Object(T.b)(this.tmpTransform_,m,h,s/p,s/p,l.rotation,(u[0]-c[0])/s,(c[1]-u[1])/s)},I.prototype.handleFontsChanged_=function(){const e=this.getLayer();e.getVisible()&&this.renderedLayerRevision_!==void 0&&e.changed()},I.prototype.handleStyleImageChange_=function(){this.renderIfReadyAndVisible()},I.prototype.postCompose=function(e,o,r){const i=this.getLayer(),s=i.getDeclutter()?{}:null,t=i.getSource(),l=i.getRenderMode(),d=R[l],p=o.pixelRatio,g=o.viewState.rotation,_=o.size;let u,y;g&&(u=a(p*_[0]/2),y=a(p*_[1]/2),Object(h.s)(e,-g,u,y)),s&&this.declutterTree_.clear();const m=this.renderedTiles,x=t.getTileGridForProjection(o.viewState.projection),C=[],T=[];for(let t=m.length-1;0<=t;--t){const a=m[t];if(a.getState()==n.a.ABORT)continue;const p=a.tileCoord,_=x.getTileCoordExtent(p,this.tmpExtent)[0]-x.getTileCoordExtent(a.wrappedTileCoord,this.tmpExtent)[0];let u;for(let y=0,t=a.tileKeys.length;y<t;++y){const t=a.getTile(a.tileKeys[y]);if(t.getState()!=n.a.LOADED)continue;const m=t.getReplayGroup(i,p.toString());if(l!=c.a.VECTOR&&!m.hasReplays(d))continue;u||(u=this.getTransform(o,_));const h=t.tileCoord[0],f=m.getClipCoords(u);e.save(),e.globalAlpha=r.opacity;for(let t=0,o=C.length;t<o;++t){const o=C[t];h<T[t]&&(e.beginPath(),e.moveTo(f[0],f[1]),e.lineTo(f[2],f[3]),e.lineTo(f[4],f[5]),e.lineTo(f[6],f[7]),e.moveTo(o[6],o[7]),e.lineTo(o[4],o[5]),e.lineTo(o[2],o[3]),e.lineTo(o[0],o[1]),e.clip())}m.replay(e,u,g,{},d,s),e.restore(),C.push(f),T.push(h)}}s&&Object(f.b)(s,e,g),g&&Object(h.s)(e,g,u,y),E.a.prototype.postCompose.apply(this,arguments)},I.prototype.renderFeature=function(e,t,o,a){if(!o)return!1;let r=!1;if(Array.isArray(o))for(let n=0,i=o.length;n<i;++n)r=Object(C.d)(a,e,o[n],t,this.handleStyleImageChange_,this)||r;else r=Object(C.d)(a,e,o,t,this.handleStyleImageChange_,this);return r},I.prototype.renderTileImage_=function(e,t){const o=this.getLayer(),a=e.getReplayState(o),r=o.getRevision(),s=S[o.getRenderMode()];if(s&&a.renderedTileRevision!==r){a.renderedTileRevision=r;const i=e.wrappedTileCoord,l=i[0],d=t.pixelRatio,p=o.getSource(),g=p.getTileGridForProjection(t.viewState.projection),_=g.getResolution(l),c=e.getContext(o),u=p.getTilePixelSize(l,d,t.viewState.projection);c.canvas.width=u[0],c.canvas.height=u[1];const y=g.getTileCoordExtent(i,this.tmpExtent);for(let t=0,a=e.tileKeys.length;t<a;++t){const a=e.getTile(e.tileKeys[t]);if(a.getState()!=n.a.LOADED)continue;const r=d/_,i=Object(T.f)(this.tmpTransform_);Object(T.h)(i,r,-r),Object(T.j)(i,-y[0],-y[3]);const l=a.getReplayGroup(o,e.tileCoord.toString());l.replay(c,i,0,{},s)}}},t.a=I},function(e,t,o){"use strict";function a(){const e=document.body;return!!(e.webkitRequestFullscreen||e.mozRequestFullScreen&&document.mozFullScreenEnabled||e.msRequestFullscreen&&document.msFullscreenEnabled||e.requestFullscreen&&document.fullscreenEnabled)}function r(){return!!(document.webkitIsFullScreen||document.mozFullScreen||document.msFullscreenElement||document.fullscreenElement)}function i(e){e.requestFullscreen?e.requestFullscreen():e.msRequestFullscreen?e.msRequestFullscreen():e.mozRequestFullScreen?e.mozRequestFullScreen():e.webkitRequestFullscreen&&e.webkitRequestFullscreen()}function n(e){e.mozRequestFullScreenWithKeys?e.mozRequestFullScreenWithKeys():e.webkitRequestFullscreen?e.webkitRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT):i(e)}function s(){document.exitFullscreen?document.exitFullscreen():document.msExitFullscreen?document.msExitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen&&document.webkitExitFullscreen()}var l=o(0),d=o(58),p=o(46),g=o(23),_=o(8),c=o(11);const u=function(){let e;return function(){if(!e){const t=document.body;t.webkitRequestFullscreen?e="webkitfullscreenchange":t.mozRequestFullScreen?e="mozfullscreenchange":t.msRequestFullscreen?e="MSFullscreenChange":t.requestFullscreen&&(e="fullscreenchange")}return e}}(),y=function(e){const t=e?e:{};this.cssClassName_=t.className===void 0?"ol-full-screen":t.className;const o=t.label===void 0?"\u2922":t.label;this.labelNode_="string"==typeof o?document.createTextNode(o):o;const i=t.labelActive===void 0?"\xD7":t.labelActive;this.labelActiveNode_="string"==typeof i?document.createTextNode(i):i;const n=t.tipLabel?t.tipLabel:"Toggle full-screen",s=document.createElement("button");s.className=this.cssClassName_+"-"+r(),s.setAttribute("type","button"),s.title=n,s.appendChild(this.labelNode_),Object(_.a)(s,c.a.CLICK,this.handleClick_,this);const l=this.cssClassName_+" "+p.e+" "+p.b+" "+(a()?"":p.f),g=document.createElement("div");g.className=l,g.appendChild(s),d.a.call(this,{element:g,target:t.target}),this.keys_=t.keys!==void 0&&t.keys,this.source_=t.source};Object(l.g)(y,d.a),y.prototype.handleClick_=function(e){e.preventDefault(),this.handleFullScreen_()},y.prototype.handleFullScreen_=function(){if(a()){const e=this.getMap();if(e)if(r())s();else{let t;t=this.source_?"string"==typeof this.source_?document.getElementById(this.source_):this.source_:e.getTargetElement(),this.keys_?n(t):i(t)}}},y.prototype.handleFullScreenChange_=function(){const e=this.element.firstElementChild,t=this.getMap();r()?(e.className=this.cssClassName_+"-true",Object(g.f)(this.labelActiveNode_,this.labelNode_)):(e.className=this.cssClassName_+"-false",Object(g.f)(this.labelNode_,this.labelActiveNode_)),t&&t.updateSize()},y.prototype.setMap=function(e){d.a.prototype.setMap.call(this,e),e&&this.listenerKeys.push(Object(_.a)(document,u(),this.handleFullScreenChange_,this))},t.a=y},function(e,t,o){"use strict";function a(){this.validateExtent_(),this.updateBox_()}var r=Math.abs,i=o(0),n=o(62),s=o(2),l=o(128),d=o(202),p=o(32),g=o(107),_=o(81),c=o(243),u=o(204),y=o(58),m=o(41),h=o(46),f=o(23),x=o(8),E=o(11),C=o(3);const T=.75,S=.1,R=function(e){const t=e?e:{};this.collapsed_=!(t.collapsed!==void 0)||t.collapsed,this.collapsible_=!(t.collapsible!==void 0)||t.collapsible,this.collapsible_||(this.collapsed_=!1);const o=t.className===void 0?"ol-overviewmap":t.className,r=t.tipLabel===void 0?"Overview map":t.tipLabel,i=t.collapseLabel===void 0?"\xAB":t.collapseLabel;"string"==typeof i?(this.collapseLabel_=document.createElement("span"),this.collapseLabel_.textContent=i):this.collapseLabel_=i;const l=t.label===void 0?"\xBB":t.label;"string"==typeof l?(this.label_=document.createElement("span"),this.label_.textContent=l):this.label_=l;const d=this.collapsible_&&!this.collapsed_?this.collapseLabel_:this.label_,p=document.createElement("button");p.setAttribute("type","button"),p.title=r,p.appendChild(d),Object(x.a)(p,E.a.CLICK,this.handleClick_,this),this.ovmapDiv_=document.createElement("DIV"),this.ovmapDiv_.className="ol-overviewmap-map",this.ovmap_=new s.a({controls:new n.b,interactions:new n.b,view:t.view});const g=this.ovmap_;t.layers&&t.layers.forEach(function(e){g.addLayer(e)}.bind(this));const u=document.createElement("DIV");u.className="ol-overviewmap-box",u.style.boxSizing="border-box",this.boxOverlay_=new _.a({position:[0,0],positioning:c.a.BOTTOM_LEFT,element:u}),this.ovmap_.addOverlay(this.boxOverlay_);const m=o+" "+h.e+" "+h.b+(this.collapsed_&&this.collapsible_?" "+h.a:"")+(this.collapsible_?"":" ol-uncollapsible"),f=document.createElement("div");f.className=m,f.appendChild(this.ovmapDiv_),f.appendChild(p),y.a.call(this,{element:f,render:t.render||a,target:t.target});const C=this,T=this.boxOverlay_,S=this.boxOverlay_.getElement(),R=function(e){return{clientX:e.clientX-S.offsetWidth/2,clientY:e.clientY+S.offsetHeight/2}},I=function(e){const t=g.getEventCoordinate(R(e));T.setPosition(t)},b=function(e){const t=g.getEventCoordinate(e);C.getMap().getView().setCenter(t),window.removeEventListener("mousemove",I),window.removeEventListener("mouseup",b)};S.addEventListener("mousedown",function(){window.addEventListener("mousemove",I),window.addEventListener("mouseup",b)})};Object(i.g)(R,y.a),R.prototype.setMap=function(e){const t=this.getMap();if(e!==t){if(t){const e=t.getView();e&&this.unbindView_(e),this.ovmap_.setTarget(null)}if(y.a.prototype.setMap.call(this,e),e){this.ovmap_.setTarget(this.ovmapDiv_),this.listenerKeys.push(Object(x.a)(e,g.a.PROPERTYCHANGE,this.handleMapPropertyChange_,this)),0===this.ovmap_.getLayers().getLength()&&this.ovmap_.setLayerGroup(e.getLayerGroup());const t=e.getView();t&&(this.bindView_(t),t.isDef()&&(this.ovmap_.updateSize(),this.resetExtent_()))}}},R.prototype.handleMapPropertyChange_=function(e){if(e.key===d.a.VIEW){const t=e.oldValue;t&&this.unbindView_(t);const o=this.getMap().getView();this.bindView_(o)}},R.prototype.bindView_=function(e){Object(x.a)(e,Object(p.b)(u.a.ROTATION),this.handleRotationChanged_,this)},R.prototype.unbindView_=function(e){Object(x.c)(e,Object(p.b)(u.a.ROTATION),this.handleRotationChanged_,this)},R.prototype.handleRotationChanged_=function(){this.ovmap_.getView().setRotation(this.getMap().getView().getRotation())},R.prototype.validateExtent_=function(){const e=this.getMap(),t=this.ovmap_;if(e.isRendered()&&t.isRendered()){const o=e.getSize(),a=e.getView(),i=a.calculateExtent(o),n=t.getSize(),s=t.getView(),l=s.calculateExtent(n),d=t.getPixelFromCoordinate(Object(C.C)(i)),p=t.getPixelFromCoordinate(Object(C.w)(i)),g=r(d[0]-p[0]),_=r(d[1]-p[1]),c=n[0],u=n[1];g<c*S||_<u*S||g>c*T||_>u*T?this.resetExtent_():!Object(C.g)(l,i)&&this.recenter_()}},R.prototype.resetExtent_=function(){const e=this.getMap(),t=this.ovmap_,o=e.getSize(),a=e.getView(),r=a.calculateExtent(o),i=t.getView(),n=2.0149030205422647/Math.LN2,s=1/(Math.pow(2,n/2)*S);Object(C.J)(r,s),i.fit(r)},R.prototype.recenter_=function(){const e=this.getMap(),t=this.ovmap_,o=e.getView(),a=t.getView();a.setCenter(o.getCenter())},R.prototype.updateBox_=function(){const e=this.getMap(),t=this.ovmap_;if(e.isRendered()&&t.isRendered()){const o=e.getSize(),a=e.getView(),i=t.getView(),n=a.getRotation(),s=this.boxOverlay_,l=this.boxOverlay_.getElement(),d=a.calculateExtent(o),p=i.getResolution(),g=Object(C.v)(d),_=Object(C.D)(d),c=this.calculateCoordinateRotate_(n,g);s.setPosition(c),l&&(l.style.width=r((g[0]-_[0])/p)+"px",l.style.height=r((_[1]-g[1])/p)+"px")}},R.prototype.calculateCoordinateRotate_=function(e,t){let o;const a=this.getMap(),r=a.getView(),i=r.getCenter();return i&&(o=[t[0]-i[0],t[1]-i[1]],Object(m.h)(o,e),Object(m.a)(o,i)),o},R.prototype.handleClick_=function(e){e.preventDefault(),this.handleToggle_()},R.prototype.handleToggle_=function(){this.element.classList.toggle(h.a),this.collapsed_?Object(f.f)(this.collapseLabel_,this.label_):Object(f.f)(this.label_,this.collapseLabel_),this.collapsed_=!this.collapsed_;const e=this.ovmap_;this.collapsed_||e.isRendered()||(e.updateSize(),this.resetExtent_(),Object(x.b)(e,l.a.POSTRENDER,function(){this.updateBox_()},this))},R.prototype.getCollapsible=function(){return this.collapsible_},R.prototype.setCollapsible=function(e){this.collapsible_===e||(this.collapsible_=e,this.element.classList.toggle("ol-uncollapsible"),!e&&this.collapsed_&&this.handleToggle_())},R.prototype.setCollapsed=function(e){this.collapsible_&&this.collapsed_!==e&&this.handleToggle_()},R.prototype.getCollapsed=function(){return this.collapsed_},R.prototype.getOverviewMap=function(){return this.ovmap_},t.a=R},function(e,t,o){"use strict";function a(e){const t=e.frameState;this.viewState_=t?t.viewState:null,this.updateElement_()}var r=Math.floor,i=o(0),n=o(32),s=o(19),l=o(58),d=o(46),p=o(8),g=o(4),_=o(56);const c="units",u={DEGREES:"degrees",IMPERIAL:"imperial",NAUTICAL:"nautical",METRIC:"metric",US:"us"},y=[1,2,5],m=function(e){const t=e?e:{},o=t.className===void 0?"ol-scale-line":t.className;this.innerElement_=document.createElement("DIV"),this.innerElement_.className=o+"-inner",this.element_=document.createElement("DIV"),this.element_.className=o+" "+d.e,this.element_.appendChild(this.innerElement_),this.viewState_=null,this.minWidth_=t.minWidth===void 0?64:t.minWidth,this.renderedVisible_=!1,this.renderedWidth_=void 0,this.renderedHTML_="",l.a.call(this,{element:this.element_,render:t.render||a,target:t.target}),Object(p.a)(this,Object(n.b)(c),this.handleUnitsChanged_,this),this.setUnits(t.units||u.METRIC)};Object(i.g)(m,l.a),m.prototype.getUnits=function(){return this.get(c)},m.prototype.handleUnitsChanged_=function(){this.updateElement_()},m.prototype.setUnits=function(e){this.set(c,e)},m.prototype.updateElement_=function(){const e=this.viewState_;if(!e)return void(this.renderedVisible_&&(this.element_.style.display="none",this.renderedVisible_=!1));const t=e.center,o=e.projection,a=this.getUnits(),n=a==u.DEGREES?_.b.DEGREES:_.b.METERS;let l=Object(g.i)(o,e.resolution,t,n);o.getUnits()!=_.b.DEGREES&&o.getMetersPerUnit()&&n==_.b.METERS&&(l*=o.getMetersPerUnit());let d=this.minWidth_*l,p="";if(a==u.DEGREES){const e=g.a[_.b.DEGREES];o.getUnits()==_.b.DEGREES?d*=e:l/=e,d<e/60?(p="\u2033",l*=3600):d<e?(p="\u2032",l*=60):p="\xB0"}else a==u.IMPERIAL?.9144>d?(p="in",l/=.0254):1609.344>d?(p="ft",l/=.3048):(p="mi",l/=1609.344):a==u.NAUTICAL?(l/=1852,p="nm"):a==u.METRIC?.001>d?(p="\u03BCm",l*=1e6):1>d?(p="mm",l*=1e3):1e3>d?p="m":(p="km",l/=1e3):a==u.US?.9144>d?(p="in",l*=39.37):1609.344>d?(p="ft",l/=.30480061):(p="mi",l/=1609.3472):Object(s.a)(!1,33);let c=3*r(Math.log(this.minWidth_*l)/2.302585092994046),i,m;for(;;){if(i=y[(c%3+3)%3]*Math.pow(10,r(c/3)),m=Math.round(i/l),isNaN(m))return this.element_.style.display="none",void(this.renderedVisible_=!1);if(m>=this.minWidth_)break;++c}const h=i+" "+p;this.renderedHTML_!=h&&(this.innerElement_.innerHTML=h,this.renderedHTML_=h),this.renderedWidth_!=m&&(this.innerElement_.style.width=m+"px",this.renderedWidth_=m),this.renderedVisible_||(this.element_.style.display="",this.renderedVisible_=!0)},t.a=m},function(e,t,o){"use strict";function a(e){if(e.frameState){this.sliderInitialized_||this.initSlider_();const t=e.frameState.viewState.resolution;t!==this.currentResolution_&&(this.currentResolution_=t,this.setThumbPosition_(t))}}var r=o(0),i=o(40),n=o(58),s=o(46),l=o(51),d=o(8),p=o(33),g=o(11),_=o(17),c=o(153),u=o(201);const m={VERTICAL:0,HORIZONTAL:1},y=function(e){const t=e?e:{};this.currentResolution_=void 0,this.direction_=m.VERTICAL,this.dragging_,this.heightLimit_=0,this.widthLimit_=0,this.previousX_,this.previousY_,this.thumbSize_=null,this.sliderInitialized_=!1,this.duration_=t.duration===void 0?200:t.duration;const o=t.className===void 0?"ol-zoomslider":t.className,r=document.createElement("button");r.setAttribute("type","button"),r.className=o+"-thumb "+s.e;const i=document.createElement("div");i.className=o+" "+s.e+" "+s.b,i.appendChild(r),this.dragger_=new u.a(i),Object(d.a)(this.dragger_,c.a.POINTERDOWN,this.handleDraggerStart_,this),Object(d.a)(this.dragger_,c.a.POINTERMOVE,this.handleDraggerDrag_,this),Object(d.a)(this.dragger_,c.a.POINTERUP,this.handleDraggerEnd_,this),Object(d.a)(i,g.a.CLICK,this.handleContainerClick_,this),Object(d.a)(r,g.a.CLICK,p.b),n.a.call(this,{element:i,render:t.render||a})};Object(r.g)(y,n.a),y.prototype.disposeInternal=function(){this.dragger_.dispose(),n.a.prototype.disposeInternal.call(this)},y.prototype.setMap=function(e){n.a.prototype.setMap.call(this,e),e&&e.render()},y.prototype.initSlider_=function(){const e=this.element,t={width:e.offsetWidth,height:e.offsetHeight},o=e.firstElementChild,a=getComputedStyle(o),r=o.offsetWidth+parseFloat(a.marginRight)+parseFloat(a.marginLeft),i=o.offsetHeight+parseFloat(a.marginTop)+parseFloat(a.marginBottom);this.thumbSize_=[r,i],t.width>t.height?(this.direction_=m.HORIZONTAL,this.widthLimit_=t.width-r):(this.direction_=m.VERTICAL,this.heightLimit_=t.height-i),this.sliderInitialized_=!0},y.prototype.handleContainerClick_=function(e){const t=this.getMap().getView(),o=this.getRelativePosition_(e.offsetX-this.thumbSize_[0]/2,e.offsetY-this.thumbSize_[1]/2),a=this.getResolutionForPosition_(o);t.animate({resolution:t.constrainResolution(a),duration:this.duration_,easing:l.b})},y.prototype.handleDraggerStart_=function(e){this.dragging_||e.originalEvent.target!==this.element.firstElementChild||(this.getMap().getView().setHint(i.a.INTERACTING,1),this.previousX_=e.clientX,this.previousY_=e.clientY,this.dragging_=!0)},y.prototype.handleDraggerDrag_=function(e){if(this.dragging_){const t=this.element.firstElementChild,o=e.clientX-this.previousX_+parseInt(t.style.left,10),a=e.clientY-this.previousY_+parseInt(t.style.top,10),r=this.getRelativePosition_(o,a);this.currentResolution_=this.getResolutionForPosition_(r),this.getMap().getView().setResolution(this.currentResolution_),this.setThumbPosition_(this.currentResolution_),this.previousX_=e.clientX,this.previousY_=e.clientY}},y.prototype.handleDraggerEnd_=function(){if(this.dragging_){const e=this.getMap().getView();e.setHint(i.a.INTERACTING,-1),e.animate({resolution:e.constrainResolution(this.currentResolution_),duration:this.duration_,easing:l.b}),this.dragging_=!1,this.previousX_=void 0,this.previousY_=void 0}},y.prototype.setThumbPosition_=function(e){const t=this.getPositionForResolution_(e),o=this.element.firstElementChild;this.direction_==m.HORIZONTAL?o.style.left=this.widthLimit_*t+"px":o.style.top=this.heightLimit_*t+"px"},y.prototype.getRelativePosition_=function(e,t){let o;return o=this.direction_===m.HORIZONTAL?e/this.widthLimit_:t/this.heightLimit_,Object(_.a)(o,0,1)},y.prototype.getResolutionForPosition_=function(e){const t=this.getMap().getView().getResolutionForValueFunction();return t(1-e)},y.prototype.getPositionForResolution_=function(e){const t=this.getMap().getView().getValueForResolutionFunction();return 1-t(e)},t.a=y},function(e,t,o){"use strict";var a=o(0),r=o(8),i=o(11),n=o(58),s=o(46);const l=function(e){const t=e?e:{};this.extent=t.extent?t.extent:null;const o=t.className===void 0?"ol-zoom-extent":t.className,a=t.label===void 0?"E":t.label,l=t.tipLabel===void 0?"Fit to extent":t.tipLabel,d=document.createElement("button");d.setAttribute("type","button"),d.title=l,d.appendChild("string"==typeof a?document.createTextNode(a):a),Object(r.a)(d,i.a.CLICK,this.handleClick_,this);const p=o+" "+s.e+" "+s.b,g=document.createElement("div");g.className=p,g.appendChild(d),n.a.call(this,{element:g,target:t.target})};Object(a.g)(l,n.a),l.prototype.handleClick_=function(e){e.preventDefault(),this.handleZoomToExtent()},l.prototype.handleZoomToExtent=function(){const e=this.getMap(),t=e.getView(),o=this.extent?this.extent:t.getProjection().getExtent();t.fit(o)},t.a=l},function(e,t,o){"use strict";var a=o(90),r=o(0),i=o(92),n=o(35),s=o(8),l=o(11),d=o(3),p=o(17),g=o(138),_=o(247);const c=function(e,t,o,r,s,l,c,u,y,m,h){i.a.call(this,s,n.a.IDLE),this.renderEdges_=void 0!==h&&h,this.pixelRatio_=c,this.gutter_=u,this.canvas_=null,this.sourceTileGrid_=t,this.targetTileGrid_=r,this.wrappedTileCoord_=l?l:s,this.sourceTiles_=[],this.sourcesListenerKeys_=null,this.sourceZ_=0;const f=r.getTileCoordExtent(this.wrappedTileCoord_),x=this.targetTileGrid_.getExtent();let E=this.sourceTileGrid_.getExtent();const C=x?Object(d.B)(f,x):f;if(0===Object(d.u)(C))return void(this.state=n.a.EMPTY);const T=e.getExtent();T&&(E?E=Object(d.B)(E,T):E=T);const S=r.getResolution(this.wrappedTileCoord_[0]),R=Object(d.x)(C),I=Object(g.a)(e,o,R,S);if(!isFinite(I)||0>=I)return void(this.state=n.a.EMPTY);const b=void 0===m?a.b:m;if(this.triangulation_=new _.a(e,o,C,E,I*b),0===this.triangulation_.getTriangles().length)return void(this.state=n.a.EMPTY);this.sourceZ_=t.getZForResolution(I);let v=this.triangulation_.calculateSourceExtent();if(E&&(e.canWrapX()?(v[1]=Object(p.a)(v[1],E[1],E[3]),v[3]=Object(p.a)(v[3],E[1],E[3])):v=Object(d.B)(v,E)),!Object(d.u)(v))this.state=n.a.EMPTY;else{const e=t.getTileRangeForExtentAndZ(v,this.sourceZ_);for(let t=e.minX;t<=e.maxX;t++)for(let o=e.minY;o<=e.maxY;o++){const e=y(this.sourceZ_,t,o,c);e&&this.sourceTiles_.push(e)}0===this.sourceTiles_.length&&(this.state=n.a.EMPTY)}};Object(r.g)(c,i.a),c.prototype.disposeInternal=function(){this.state==n.a.LOADING&&this.unlistenSources_(),i.a.prototype.disposeInternal.call(this)},c.prototype.getImage=function(){return this.canvas_},c.prototype.reproject_=function(){const e=[];if(this.sourceTiles_.forEach(function(t){t&&t.getState()==n.a.LOADED&&e.push({extent:this.sourceTileGrid_.getTileCoordExtent(t.tileCoord),image:t.getImage()})}.bind(this)),this.sourceTiles_.length=0,0===e.length)this.state=n.a.ERROR;else{const t=this.wrappedTileCoord_[0],o=this.targetTileGrid_.getTileSize(t),a="number"==typeof o?o:o[0],r="number"==typeof o?o:o[1],i=this.targetTileGrid_.getResolution(t),s=this.sourceTileGrid_.getResolution(this.sourceZ_),l=this.targetTileGrid_.getTileCoordExtent(this.wrappedTileCoord_);this.canvas_=Object(g.b)(a,r,this.pixelRatio_,s,this.sourceTileGrid_.getExtent(),i,l,this.triangulation_,e,this.gutter_,this.renderEdges_),this.state=n.a.LOADED}this.changed()},c.prototype.load=function(){if(this.state==n.a.IDLE){this.state=n.a.LOADING,this.changed();let e=0;this.sourcesListenerKeys_=[],this.sourceTiles_.forEach(function(t){const o=t.getState();if(o==n.a.IDLE||o==n.a.LOADING){e++;const o=Object(s.a)(t,l.a.CHANGE,function(){const a=t.getState();(a==n.a.LOADED||a==n.a.ERROR||a==n.a.EMPTY)&&(Object(s.e)(o),e--,0==e&&(this.unlistenSources_(),this.reproject_()))},this);this.sourcesListenerKeys_.push(o)}}.bind(this)),this.sourceTiles_.forEach(function(e){const t=e.getState();t==n.a.IDLE&&e.load()}),0==e&&setTimeout(this.reproject_.bind(this),0)}},c.prototype.unlistenSources_=function(){this.sourcesListenerKeys_.forEach(s.e),this.sourcesListenerKeys_=null},t.a=c},function(e,t){"use strict";t.a={TILELOADSTART:"tileloadstart",TILELOADEND:"tileloadend",TILELOADERROR:"tileloaderror"}},,,function(e,t,o){"use strict";var a=o(8),r=o(0),i=o(32),n=o(23),s=o(25),l=o(17),d=o(10),p=o(75),g=o(174),_=o(65);const c={BLUR:"blur",GRADIENT:"gradient",RADIUS:"radius"},u=["#00f","#0ff","#0f0","#ff0","#f00"],y=function(e){const t=e?e:{},o=Object(d.a)({},t);delete o.gradient,delete o.radius,delete o.blur,delete o.shadow,delete o.weight,s.a.call(this,o),this.gradient_=null,this.shadow_=t.shadow===void 0?250:t.shadow,this.circleImage_=void 0,this.styleCache_=null,Object(a.a)(this,Object(i.b)(c.GRADIENT),this.handleGradientChanged_,this),this.setGradient(t.gradient?t.gradient:u),this.setBlur(t.blur===void 0?15:t.blur),this.setRadius(t.radius===void 0?8:t.radius),Object(a.a)(this,Object(i.b)(c.BLUR),this.handleStyleChanged_,this),Object(a.a)(this,Object(i.b)(c.RADIUS),this.handleStyleChanged_,this),this.handleStyleChanged_();const r=t.weight?t.weight:"weight";let n;n="string"==typeof r?function(e){return e.get(r)}:r,this.setStyle(function(e){const t=n(e),o=void 0===t?1:Object(l.a)(t,0,1),a=0|255*o;let r=this.styleCache_[a];return r||(r=[new _.c({image:new g.a({opacity:o,src:this.circleImage_})})],this.styleCache_[a]=r),r}.bind(this)),this.setRenderOrder(null),Object(a.a)(this,p.a.RENDER,this.handleRender_,this)};Object(r.g)(y,s.a);const m=function(e){const t=1,o=256,a=Object(n.a)(t,o),r=a.createLinearGradient(0,0,t,o),s=1/(e.length-1);for(let t=0,o=e.length;t<o;++t)r.addColorStop(t*s,e[t]);return a.fillStyle=r,a.fillRect(0,0,t,o),a.getImageData(0,0,t,o).data};y.prototype.createCircle_=function(){const e=this.getRadius(),t=this.getBlur(),o=e+t+1,a=2*o,r=Object(n.a)(a,a);r.shadowOffsetX=r.shadowOffsetY=this.shadow_,r.shadowBlur=t,r.shadowColor="#000",r.beginPath();const i=o-this.shadow_;return r.arc(i,i,e,0,2*Math.PI,!0),r.fill(),r.canvas.toDataURL()},y.prototype.getBlur=function(){return this.get(c.BLUR)},y.prototype.getGradient=function(){return this.get(c.GRADIENT)},y.prototype.getRadius=function(){return this.get(c.RADIUS)},y.prototype.handleGradientChanged_=function(){this.gradient_=m(this.getGradient())},y.prototype.handleStyleChanged_=function(){this.circleImage_=this.createCircle_(),this.styleCache_=Array(256),this.changed()},y.prototype.handleRender_=function(e){const t=e.context,o=t.canvas,a=t.getImageData(0,0,o.width,o.height),r=a.data;for(let t=0,o=r.length;t<o;t+=4){const e=4*r[t+3];e&&(r[t]=this.gradient_[e],r[t+1]=this.gradient_[e+1],r[t+2]=this.gradient_[e+2])}t.putImageData(a,0,0)},y.prototype.setBlur=function(e){this.set(c.BLUR,e)},y.prototype.setGradient=function(e){this.set(c.GRADIENT,e)},y.prototype.setRadius=function(e){this.set(c.RADIUS,e)},t.a=y},function(e,t,o){"use strict";var a=o(0),r=o(10),i=o(45),n=o(42);const s=function(e){this.account_=e.account,this.mapId_=e.map||"",this.config_=e.config||{},this.templateCache_={},n.a.call(this,{attributions:e.attributions,cacheSize:e.cacheSize,crossOrigin:e.crossOrigin,maxZoom:e.maxZoom===void 0?18:e.maxZoom,minZoom:e.minZoom,projection:e.projection,state:i.a.LOADING,wrapX:e.wrapX}),this.initializeMap_()};Object(a.g)(s,n.a),s.prototype.getConfig=function(){return this.config_},s.prototype.updateConfig=function(e){Object(r.a)(this.config_,e),this.initializeMap_()},s.prototype.setConfig=function(e){this.config_=e||{},this.initializeMap_()},s.prototype.initializeMap_=function(){const e=JSON.stringify(this.config_);if(this.templateCache_[e])return void this.applyTemplate_(this.templateCache_[e]);let t="https://"+this.account_+".carto.com/api/v1/map";this.mapId_&&(t+="/named/"+this.mapId_);const o=new XMLHttpRequest;o.addEventListener("load",this.handleInitResponse_.bind(this,e)),o.addEventListener("error",this.handleInitError_.bind(this)),o.open("POST",t),o.setRequestHeader("Content-type","application/json"),o.send(JSON.stringify(this.config_))},s.prototype.handleInitResponse_=function(e,t){const o=t.target;if(!o.status||200<=o.status&&300>o.status){let t;try{t=JSON.parse(o.responseText)}catch(e){return void this.setState(i.a.ERROR)}this.applyTemplate_(t),this.templateCache_[e]=t,this.setState(i.a.READY)}else this.setState(i.a.ERROR)},s.prototype.handleInitError_=function(){this.setState(i.a.ERROR)},s.prototype.applyTemplate_=function(e){const t="https://"+e.cdn_url.https+"/"+this.account_+"/api/v1/map/"+e.layergroupid+"/{z}/{x}/{y}.png";this.setUrl(t)},t.a=s},function(e,t,o){"use strict";var a=o(0),r=o(19),i=o(15),n=o(41),s=o(8),l=o(11),d=o(3),p=o(21),g=o(12);const _=function(e){g.b.call(this,{attributions:e.attributions,extent:e.extent,projection:e.projection,wrapX:e.wrapX}),this.resolution=void 0,this.distance=e.distance===void 0?20:e.distance,this.features=[],this.geometryFunction=e.geometryFunction||function(e){const t=e.getGeometry();return Object(r.a)(t instanceof p.a,10),t},this.source=e.source,Object(s.a)(this.source,l.a.CHANGE,this.refresh,this)};Object(a.g)(_,g.b),_.prototype.getDistance=function(){return this.distance},_.prototype.getSource=function(){return this.source},_.prototype.loadFeatures=function(e,t,o){this.source.loadFeatures(e,t,o),t!==this.resolution&&(this.clear(),this.resolution=t,this.cluster(),this.addFeatures(this.features))},_.prototype.setDistance=function(e){this.distance=e,this.refresh()},_.prototype.refresh=function(){this.clear(),this.cluster(),this.addFeatures(this.features),g.b.prototype.refresh.call(this)},_.prototype.cluster=function(){if(void 0===this.resolution)return;this.features.length=0;const e=Object(d.j)(),t=this.distance*this.resolution,o=this.source.getFeatures(),r={};for(let n=0,i=o.length;n<i;n++){const i=o[n];if(!(Object(a.f)(i).toString()in r)){const o=this.geometryFunction(i);if(o){const i=o.getCoordinates();Object(d.m)(i,e),Object(d.c)(e,t,e);let n=this.source.getFeaturesInExtent(e);n=n.filter(function(e){const t=Object(a.f)(e).toString();return!(t in r)&&(r[t]=!0,!0)}),this.features.push(this.createCluster(n))}}}},_.prototype.createCluster=function(e){const t=[0,0];for(let o=e.length-1;0<=o;--o){const a=this.geometryFunction(e[o]);a?Object(n.a)(t,a.getCoordinates()):e.splice(o,1)}Object(n.i)(t,1/e.length);const o=new i.a(new p.a(t));return o.set("features",e),o},t.a=_},function(e,t,o){"use strict";var a=o(90),r=o(0),i=o(168),n=o(59),s=o(8),l=o(11),d=o(3),p=o(138),g=o(247);const _=function(e,t,o,r,s,l){this.targetProj_=t,this.maxSourceExtent_=e.getExtent();const _=t.getExtent(),c=_?Object(d.B)(o,_):o,u=Object(d.x)(c),y=Object(p.a)(e,t,u,r),m=a.b;this.triangulation_=new g.a(e,t,c,this.maxSourceExtent_,y*m),this.targetResolution_=r,this.targetExtent_=o;const h=this.triangulation_.calculateSourceExtent();this.sourceImage_=l(h,y,s),this.sourcePixelRatio_=this.sourceImage_?this.sourceImage_.getPixelRatio():1,this.canvas_=null,this.sourceListenerKey_=null;let f=n.a.LOADED;this.sourceImage_&&(f=n.a.IDLE),i.a.call(this,o,r,this.sourcePixelRatio_,f)};Object(r.g)(_,i.a),_.prototype.disposeInternal=function(){this.state==n.a.LOADING&&this.unlistenSource_(),i.a.prototype.disposeInternal.call(this)},_.prototype.getImage=function(){return this.canvas_},_.prototype.getProjection=function(){return this.targetProj_},_.prototype.reproject_=function(){const e=this.sourceImage_.getState();if(e==n.a.LOADED){const e=Object(d.E)(this.targetExtent_)/this.targetResolution_,t=Object(d.A)(this.targetExtent_)/this.targetResolution_;this.canvas_=Object(p.b)(e,t,this.sourcePixelRatio_,this.sourceImage_.getResolution(),this.maxSourceExtent_,this.targetResolution_,this.targetExtent_,this.triangulation_,[{extent:this.sourceImage_.getExtent(),image:this.sourceImage_.getImage()}],0)}this.state=e,this.changed()},_.prototype.load=function(){if(this.state==n.a.IDLE){this.state=n.a.LOADING,this.changed();const e=this.sourceImage_.getState();e==n.a.LOADED||e==n.a.ERROR?this.reproject_():(this.sourceListenerKey_=Object(s.a)(this.sourceImage_,l.a.CHANGE,function(){const e=this.sourceImage_.getState();(e==n.a.LOADED||e==n.a.ERROR)&&(this.unlistenSource_(),this.reproject_())},this),this.sourceImage_.load())}},_.prototype.unlistenSource_=function(){Object(s.e)(this.sourceListenerKey_),this.sourceListenerKey_=null},t.a=_},function(e,t,o){"use strict";var a=Math.ceil,r=o(0),i=o(139),n=o(19),s=o(8),l=o(11),d=o(3),p=o(10),g=o(82),_=o(96);const c=function(e){const t=e||{};g.a.call(this,{attributions:t.attributions,projection:t.projection,resolutions:t.resolutions}),this.crossOrigin_=t.crossOrigin===void 0?null:t.crossOrigin,this.hidpi_=!(t.hidpi!==void 0)||t.hidpi,this.url_=t.url,this.imageLoadFunction_=t.imageLoadFunction===void 0?g.b:t.imageLoadFunction,this.params_=t.params||{},this.image_=null,this.imageSize_=[0,0],this.renderedRevision_=0,this.ratio_=t.ratio===void 0?1.5:t.ratio};Object(r.g)(c,g.a),c.prototype.getParams=function(){return this.params_},c.prototype.getImageInternal=function(e,t,o,r){if(void 0===this.url_)return null;t=this.findNearestResolution(t),o=this.hidpi_?o:1;const n=this.image_;if(n&&this.renderedRevision_==this.getRevision()&&n.getResolution()==t&&n.getPixelRatio()==o&&Object(d.g)(n.getExtent(),e))return n;const g={F:"image",FORMAT:"PNG32",TRANSPARENT:!0};Object(p.a)(g,this.params_),e=e.slice();const _=(e[0]+e[2])/2,c=(e[1]+e[3])/2;if(1!=this.ratio_){const t=this.ratio_*Object(d.E)(e)/2,o=this.ratio_*Object(d.A)(e)/2;e[0]=_-t,e[1]=c-o,e[2]=_+t,e[3]=c+o}const u=t/o,y=a(Object(d.E)(e)/u),m=a(Object(d.A)(e)/u);e[0]=_-u*y/2,e[2]=_+u*y/2,e[1]=c-u*m/2,e[3]=c+u*m/2,this.imageSize_[0]=y,this.imageSize_[1]=m;const h=this.getRequestUrl_(e,this.imageSize_,o,r,g);return this.image_=new i.a(e,t,o,h,this.crossOrigin_,this.imageLoadFunction_),this.renderedRevision_=this.getRevision(),Object(s.a)(this.image_,l.a.CHANGE,this.handleImageChange,this),this.image_},c.prototype.getImageLoadFunction=function(){return this.imageLoadFunction_},c.prototype.getRequestUrl_=function(e,t,o,a,r){const i=a.getCode().split(":").pop();r.SIZE=t[0]+","+t[1],r.BBOX=e.join(","),r.BBOXSR=i,r.IMAGESR=i,r.DPI=Math.round(90*o);const s=this.url_,l=s.replace(/MapServer\/?$/,"MapServer/export").replace(/ImageServer\/?$/,"ImageServer/exportImage");return l==s&&Object(n.a)(!1,50),Object(_.a)(l,r)},c.prototype.getUrl=function(){return this.url_},c.prototype.setImageLoadFunction=function(e){this.image_=null,this.imageLoadFunction_=e,this.changed()},c.prototype.setUrl=function(e){e!=this.url_&&(this.url_=e,this.image_=null,this.changed())},c.prototype.updateParams=function(e){Object(p.a)(this.params_,e),this.image_=null,this.changed()},t.a=c},function(e,t,o){"use strict";var a=o(0),r=o(167),i=o(3),n=o(82);const s=function(e){n.a.call(this,{attributions:e.attributions,projection:e.projection,resolutions:e.resolutions,state:e.state}),this.canvasFunction_=e.canvasFunction,this.canvas_=null,this.renderedRevision_=0,this.ratio_=e.ratio===void 0?1.5:e.ratio};Object(a.g)(s,n.a),s.prototype.getImageInternal=function(e,t,o,a){t=this.findNearestResolution(t);let n=this.canvas_;if(n&&this.renderedRevision_==this.getRevision()&&n.getResolution()==t&&n.getPixelRatio()==o&&Object(i.g)(n.getExtent(),e))return n;e=e.slice(),Object(i.J)(e,this.ratio_);const s=Object(i.E)(e)/t,l=Object(i.A)(e)/t,d=this.canvasFunction_(e,t,o,[s*o,l*o],a);return d&&(n=new r.a(e,t,o,d)),this.canvas_=n,this.renderedRevision_=this.getRevision(),n},t.a=s},function(e,t,o){var a=o(335);t.Processor=a},function(e,t,o){function a(e){function t(e,t,a){return o?new ImageData(e,t,a):{data:e,width:t,height:a}}var o=!0;try{new ImageData(10,10)}catch(e){o=!1}return function(o){var a=o.buffers,r=o.meta,n=o.imageOps,s=o.width,l=o.height,d=a.length,p=a[0].byteLength,g,_;if(n){var c=Array(d);for(_=0;_<d;++_)c[_]=t(new Uint8ClampedArray(a[_]),s,l);g=e(c,r).data}else{g=new Uint8ClampedArray(p);var u=Array(d),y=Array(d);for(_=0;_<d;++_)u[_]=new Uint8ClampedArray(a[_]),y[_]=[0,0,0,0];for(var m=0;m<p;m+=4){for(var i=0,h;i<d;++i)h=u[i],y[i][0]=h[m],y[i][1]=h[m+1],y[i][2]=h[m+2],y[i][3]=h[m+3];var f=e(y,r);g[m]=f[0],g[m+1]=f[1],g[m+2]=f[2],g[m+3]=f[3]}}return g.buffer}}function r(e,t){var o=Object.keys(e.lib||{}).map(function(t){return"var "+t+" = "+e.lib[t].toString()+";"}),r=o.concat(["var __minion__ = ("+a.toString()+")(",e.operation.toString(),");","self.addEventListener(\"message\", function(event) {","  var buffer = __minion__(event.data);","  self.postMessage({buffer: buffer, meta: event.data.meta}, [buffer]);","});"]),i=new Blob(r,{type:"text/javascript"}),n=URL.createObjectURL(i),s=new Worker(n);return s.addEventListener("message",t),s}function n(e,t){var o=a(e.operation);return{postMessage:function(e){setTimeout(function(){t({data:{buffer:o(e),meta:e.meta}})},0)}}}function i(e){this._imageOps=!!e.imageOps;var t=0===e.threads?0:this._imageOps?1:e.threads||1;var o=[];if(t)for(var a=0;a<t;++a)o[a]=r(e,this._onWorkerMessage.bind(this,a));else o[0]=n(e,this._onWorkerMessage.bind(this,0));this._workers=o,this._queue=[],this._maxQueueLength=e.queue||Infinity,this._running=0,this._dataLookup={},this._job=null}var s=Math.ceil,l=o(336).newImageData;i.prototype.process=function(e,t,o){this._enqueue({inputs:e,meta:t,callback:o}),this._dispatch()},i.prototype.destroy=function(){for(var e in this)this[e]=null;this._destroyed=!0},i.prototype._enqueue=function(e){for(this._queue.push(e);this._queue.length>this._maxQueueLength;)this._queue.shift().callback(null,null)},i.prototype._dispatch=function(){if(0===this._running&&0<this._queue.length){var e=this._job=this._queue.shift(),t=e.inputs[0].width,o=e.inputs[0].height,a=e.inputs.map(function(e){return e.data.buffer}),r=this._workers.length;if(this._running=r,1===r)this._workers[0].postMessage({buffers:a,meta:e.meta,imageOps:this._imageOps,width:t,height:o},a);else for(var n=e.inputs[0].data.length,l=4*s(n/4/r),d=0;d<r;++d){for(var i=d*l,p=[],g=0,_=a.length;g<_;++g)p.push(a[d].slice(i,i+l));this._workers[d].postMessage({buffers:p,meta:e.meta,imageOps:this._imageOps,width:t,height:o},p)}}},i.prototype._onWorkerMessage=function(e,t){this._destroyed||(this._dataLookup[e]=t.data,--this._running,0===this._running&&this._resolveJob())},i.prototype._resolveJob=function(){var e=this._job,t=this._workers.length,o,a;if(1===t)o=new Uint8ClampedArray(this._dataLookup[0].buffer),a=this._dataLookup[0].meta;else{var r=e.inputs[0].data.length;o=new Uint8ClampedArray(r),a=Array(r);for(var n=4*s(r/4/t),d=0;d<t;++d){var i=this._dataLookup[d].buffer,p=d*n;o.set(new Uint8ClampedArray(i),p),a[d]=this._dataLookup[d].meta}}this._job=null,this._dataLookup={},e.callback(null,l(o,e.inputs[0].width,e.inputs[0].height),a),this._dispatch()},e.exports=i},function(e,t){function o(e,t,o){if(a)return new ImageData(e,t,o);var i=r.createImageData(t,o);return i.data.set(e),i}var a=!0;try{new ImageData(10,10)}catch(e){a=!1}var r=document.createElement("canvas").getContext("2d");t.newImageData=o},function(e,t,o){"use strict";var a=o(0),r=o(3),i=o(17),n=o(10),s=o(57),l=o(68),d=o(49),p=o(96);const g=function(e){const t=e||{};l.a.call(this,{attributions:t.attributions,cacheSize:t.cacheSize,crossOrigin:t.crossOrigin,projection:t.projection,reprojectionErrorThreshold:t.reprojectionErrorThreshold,tileGrid:t.tileGrid,tileLoadFunction:t.tileLoadFunction,url:t.url,urls:t.urls,wrapX:!(t.wrapX!==void 0)||t.wrapX,transition:t.transition}),this.params_=t.params||{},this.tmpExtent_=Object(r.j)(),this.setKey(this.getKeyForParams_())};Object(a.g)(g,l.a),g.prototype.getKeyForParams_=function(){let e=0;const t=[];for(const o in this.params_)t[e++]=o+"-"+this.params_[o];return t.join("/")},g.prototype.getParams=function(){return this.params_},g.prototype.getRequestUrl_=function(e,t,o,a,r,n){const s=this.urls;if(!s)return;const l=r.getCode().split(":").pop();n.SIZE=t[0]+","+t[1],n.BBOX=o.join(","),n.BBOXSR=l,n.IMAGESR=l,n.DPI=Math.round(n.DPI?n.DPI*a:90*a);let g;if(1==s.length)g=s[0];else{const t=Object(i.d)(Object(d.e)(e),s.length);g=s[t]}const _=g.replace(/MapServer\/?$/,"MapServer/export").replace(/ImageServer\/?$/,"ImageServer/exportImage");return Object(p.a)(_,n)},g.prototype.getTilePixelRatio=function(e){return e},g.prototype.fixedTileUrlFunction=function(e,t,o){let a=this.getTileGrid();if(a||(a=this.getTileGridForProjection(o)),a.getResolutions().length<=e[0])return;const r=a.getTileCoordExtent(e,this.tmpExtent_);let i=Object(s.d)(a.getTileSize(e[0]),this.tmpSize);1!=t&&(i=Object(s.c)(i,t,this.tmpSize));const l={F:"image",FORMAT:"PNG32",TRANSPARENT:!0};return Object(n.a)(l,this.params_),this.getRequestUrl_(e,i,r,t,o,l)},g.prototype.updateParams=function(e){Object(n.a)(this.params_,e),this.setKey(this.getKeyForParams_())},t.a=g},function(e,t,o){"use strict";var a=o(0),r=o(92),i=o(35),n=o(23),s=o(57),l=o(119),d=o(49);const p=function(e,t,o){r.a.call(this,e,i.a.LOADED),this.tileSize_=t,this.text_=o,this.canvas_=null};Object(a.g)(p,r.a),p.prototype.getImage=function(){if(this.canvas_)return this.canvas_;else{const e=this.tileSize_,t=Object(n.a)(e[0],e[1]);return t.strokeStyle="black",t.strokeRect(.5,.5,e[0]+.5,e[1]+.5),t.fillStyle="black",t.textAlign="center",t.textBaseline="middle",t.font="24px sans-serif",t.fillText(this.text_,e[0]/2,e[1]/2),this.canvas_=t.canvas,t.canvas}},p.prototype.load=function(){};const g=function(e){l.b.call(this,{opaque:!1,projection:e.projection,tileGrid:e.tileGrid,wrapX:!(e.wrapX!==void 0)||e.wrapX})};Object(a.g)(g,l.b),g.prototype.getTile=function(e,t,o){const a=Object(d.d)(e,t,o);if(this.tileCache.containsKey(a))return this.tileCache.get(a);else{const r=Object(s.d)(this.tileGrid.getTileSize(e)),i=[e,t,o],n=this.getTileCoordForTileUrlFunction(i),l=n?this.getTileCoordForTileUrlFunction(n).toString():"",d=new p(i,r,l);return this.tileCache.set(a,d),d}},t.a=g},function(e,t){"use strict";t.a={KVP:"KVP",REST:"REST"}},,,,,,,,,,,,,,,,,,,,,function(e,t,o){"use strict";var a=o(258);const r=a.a;r.prototype.writeFeatures,r.prototype.writeFeaturesNode},function(e,t,o){"use strict";function a(e){this.buf=ArrayBuffer.isView&&ArrayBuffer.isView(e)?e:new Uint8Array(e||0),this.pos=0,this.type=0,this.length=this.buf.length}function r(e,t,o){var a=o.buf,r,i;if(i=a[o.pos++],r=(112&i)>>4,128>i)return n(e,r,t);if(i=a[o.pos++],r|=(127&i)<<3,128>i)return n(e,r,t);if(i=a[o.pos++],r|=(127&i)<<10,128>i)return n(e,r,t);if(i=a[o.pos++],r|=(127&i)<<17,128>i)return n(e,r,t);if(i=a[o.pos++],r|=(127&i)<<24,128>i)return n(e,r,t);if(i=a[o.pos++],r|=(1&i)<<31,128>i)return n(e,r,t);throw new Error("Expected varint not more than 10 bytes")}function i(e){return e.type===a.Bytes?e.readVarint()+e.pos:e.pos+1}function n(e,t,o){return o?4294967296*t+(e>>>0):4294967296*(t>>>0)+(e>>>0)}function s(e,t){var o,a;if(0<=e?(o=0|e%4294967296,a=0|e/4294967296):(o=~(-e%4294967296),a=~(-e/4294967296),4294967295^o?o=0|o+1:(o=0,a=0|a+1)),0x10000000000000000<=e||-0x10000000000000000>e)throw new Error("Given varint doesn't fit into 10 bytes");t.realloc(10),l(o,a,t),d(a,t)}function l(e,t,o){o.buf[o.pos++]=128|127&e,e>>>=7,o.buf[o.pos++]=128|127&e,e>>>=7,o.buf[o.pos++]=128|127&e,e>>>=7,o.buf[o.pos++]=128|127&e,e>>>=7,o.buf[o.pos]=127&e}function d(e,t){var o=(7&e)<<4;(t.buf[t.pos++]|=o|((e>>>=3)?128:0),!!e)&&(t.buf[t.pos++]=127&e|((e>>>=7)?128:0),!!e)&&(t.buf[t.pos++]=127&e|((e>>>=7)?128:0),!!e)&&(t.buf[t.pos++]=127&e|((e>>>=7)?128:0),!!e)&&(t.buf[t.pos++]=127&e|((e>>>=7)?128:0),e&&(t.buf[t.pos++]=127&e))}function p(e,t,o){var a=16383>=t?1:2097151>=t?2:268435455>=t?3:Math.ceil(Math.log(t)/(7*Math.LN2));o.realloc(a);for(var r=o.pos-1;r>=e;r--)o.buf[r+a]=o.buf[r]}function g(e,t){for(var o=0;o<e.length;o++)t.writeVarint(e[o])}function _(e,t){for(var o=0;o<e.length;o++)t.writeSVarint(e[o])}function c(e,t){for(var o=0;o<e.length;o++)t.writeFloat(e[o])}function u(e,t){for(var o=0;o<e.length;o++)t.writeDouble(e[o])}function y(e,t){for(var o=0;o<e.length;o++)t.writeBoolean(e[o])}function m(e,t){for(var o=0;o<e.length;o++)t.writeFixed32(e[o])}function h(e,t){for(var o=0;o<e.length;o++)t.writeSFixed32(e[o])}function f(e,t){for(var o=0;o<e.length;o++)t.writeFixed64(e[o])}function x(e,t){for(var o=0;o<e.length;o++)t.writeSFixed64(e[o])}function E(e,t){return(e[t]|e[t+1]<<8|e[t+2]<<16)+16777216*e[t+3]}function C(e,t,o){e[o]=t,e[o+1]=t>>>8,e[o+2]=t>>>16,e[o+3]=t>>>24}function T(e,t){return(e[t]|e[t+1]<<8|e[t+2]<<16)+(e[t+3]<<24)}function S(e,t,o){for(var a="",r=t;r<o;){var i=e[r],n=null,s=239<i?4:223<i?3:191<i?2:1;if(r+s>o)break;var l,d,p;1==s?128>i&&(n=i):2==s?(l=e[r+1],128==(192&l)&&(n=(31&i)<<6|63&l,127>=n&&(n=null))):3==s?(l=e[r+1],d=e[r+2],128==(192&l)&&128==(192&d)&&(n=(15&i)<<12|(63&l)<<6|63&d,(2047>=n||55296<=n&&57343>=n)&&(n=null))):4==s&&(l=e[r+1],d=e[r+2],p=e[r+3],128==(192&l)&&128==(192&d)&&128==(192&p)&&(n=(15&i)<<18|(63&l)<<12|(63&d)<<6|63&p,(65535>=n||1114112<=n)&&(n=null))),null===n?(n=65533,s=1):65535<n&&(n-=65536,a+=I(55296|1023&n>>>10),n=56320|1023&n),a+=I(n),r+=s}return a}function R(e,t,o){for(var a=0,r,i;a<t.length;a++){if(r=t.charCodeAt(a),!(55295<r&&57344>r))i&&(e[o++]=239,e[o++]=191,e[o++]=189,i=null);else if(!i){56319<r||a+1===t.length?(e[o++]=239,e[o++]=191,e[o++]=189):i=r;continue}else if(56320>r){e[o++]=239,e[o++]=191,e[o++]=189,i=r;continue}else r=65536|(i-55296<<10|r-56320),i=null;128>r?e[o++]=r:(2048>r?e[o++]=192|r>>6:(65536>r?e[o++]=224|r>>12:(e[o++]=240|r>>18,e[o++]=128|63&r>>12),e[o++]=128|63&r>>6),e[o++]=128|63&r)}return o}var I=String.fromCharCode,b=Math.floor;e.exports=a;var v=o(362);a.Varint=0,a.Fixed64=1,a.Bytes=2,a.Fixed32=5;var L=4294967296,P=1/L;a.prototype={destroy:function(){this.buf=null},readFields:function(e,t,o){for(o=o||this.length;this.pos<o;){var a=this.readVarint(),r=this.pos;this.type=7&a,e(a>>3,t,this),this.pos===r&&this.skip(a)}return t},readMessage:function(e,t){return this.readFields(e,t,this.readVarint()+this.pos)},readFixed32:function(){var e=E(this.buf,this.pos);return this.pos+=4,e},readSFixed32:function(){var e=T(this.buf,this.pos);return this.pos+=4,e},readFixed64:function(){var e=E(this.buf,this.pos)+E(this.buf,this.pos+4)*L;return this.pos+=8,e},readSFixed64:function(){var e=E(this.buf,this.pos)+T(this.buf,this.pos+4)*L;return this.pos+=8,e},readFloat:function(){var e=v.read(this.buf,this.pos,!0,23,4);return this.pos+=4,e},readDouble:function(){var e=v.read(this.buf,this.pos,!0,52,8);return this.pos+=8,e},readVarint:function(e){var t=this.buf,o,a;return(a=t[this.pos++],o=127&a,128>a)?o:(a=t[this.pos++],o|=(127&a)<<7,128>a)?o:(a=t[this.pos++],o|=(127&a)<<14,128>a)?o:(a=t[this.pos++],o|=(127&a)<<21,128>a)?o:(a=t[this.pos],o|=(15&a)<<28,r(o,e,this))},readVarint64:function(){return this.readVarint(!0)},readSVarint:function(){var e=this.readVarint();return 1==e%2?(e+1)/-2:e/2},readBoolean:function(){return!!this.readVarint()},readString:function(){var e=this.readVarint()+this.pos,t=S(this.buf,this.pos,e);return this.pos=e,t},readBytes:function(){var e=this.readVarint()+this.pos,t=this.buf.subarray(this.pos,e);return this.pos=e,t},readPackedVarint:function(e,t){var o=i(this);for(e=e||[];this.pos<o;)e.push(this.readVarint(t));return e},readPackedSVarint:function(e){var t=i(this);for(e=e||[];this.pos<t;)e.push(this.readSVarint());return e},readPackedBoolean:function(e){var t=i(this);for(e=e||[];this.pos<t;)e.push(this.readBoolean());return e},readPackedFloat:function(e){var t=i(this);for(e=e||[];this.pos<t;)e.push(this.readFloat());return e},readPackedDouble:function(e){var t=i(this);for(e=e||[];this.pos<t;)e.push(this.readDouble());return e},readPackedFixed32:function(e){var t=i(this);for(e=e||[];this.pos<t;)e.push(this.readFixed32());return e},readPackedSFixed32:function(e){var t=i(this);for(e=e||[];this.pos<t;)e.push(this.readSFixed32());return e},readPackedFixed64:function(e){var t=i(this);for(e=e||[];this.pos<t;)e.push(this.readFixed64());return e},readPackedSFixed64:function(e){var t=i(this);for(e=e||[];this.pos<t;)e.push(this.readSFixed64());return e},skip:function(e){var t=7&e;if(t===a.Varint)for(;127<this.buf[this.pos++];);else if(t===a.Bytes)this.pos=this.readVarint()+this.pos;else if(t===a.Fixed32)this.pos+=4;else if(t===a.Fixed64)this.pos+=8;else throw new Error("Unimplemented type: "+t)},writeTag:function(e,t){this.writeVarint(e<<3|t)},realloc:function(e){for(var t=this.length||16;t<this.pos+e;)t*=2;if(t!==this.length){var o=new Uint8Array(t);o.set(this.buf),this.buf=o,this.length=t}},finish:function(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)},writeFixed32:function(e){this.realloc(4),C(this.buf,e,this.pos),this.pos+=4},writeSFixed32:function(e){this.realloc(4),C(this.buf,e,this.pos),this.pos+=4},writeFixed64:function(e){this.realloc(8),C(this.buf,-1&e,this.pos),C(this.buf,b(e*P),this.pos+4),this.pos+=8},writeSFixed64:function(e){this.realloc(8),C(this.buf,-1&e,this.pos),C(this.buf,b(e*P),this.pos+4),this.pos+=8},writeVarint:function(e){return(e=+e||0,268435455<e||0>e)?void s(e,this):void((this.realloc(4),this.buf[this.pos++]=127&e|(127<e?128:0),!(127>=e))&&(this.buf[this.pos++]=127&(e>>>=7)|(127<e?128:0),!(127>=e))&&(this.buf[this.pos++]=127&(e>>>=7)|(127<e?128:0),127>=e||(this.buf[this.pos++]=127&e>>>7)))},writeSVarint:function(e){this.writeVarint(0>e?2*-e-1:2*e)},writeBoolean:function(e){this.writeVarint(!!e)},writeString:function(e){e=e+"",this.realloc(4*e.length),this.pos++;var t=this.pos;this.pos=R(this.buf,e,this.pos);var o=this.pos-t;128<=o&&p(t,o,this),this.pos=t-1,this.writeVarint(o),this.pos+=o},writeFloat:function(e){this.realloc(4),v.write(this.buf,e,this.pos,!0,23,4),this.pos+=4},writeDouble:function(e){this.realloc(8),v.write(this.buf,e,this.pos,!0,52,8),this.pos+=8},writeBytes:function(e){var t=e.length;this.writeVarint(t),this.realloc(t);for(var o=0;o<t;o++)this.buf[this.pos++]=e[o]},writeRawMessage:function(e,t){this.pos++;var o=this.pos;e(t,this);var a=this.pos-o;128<=a&&p(o,a,this),this.pos=o-1,this.writeVarint(a),this.pos+=a},writeMessage:function(e,t,o){this.writeTag(e,a.Bytes),this.writeRawMessage(t,o)},writePackedVarint:function(e,t){this.writeMessage(e,g,t)},writePackedSVarint:function(e,t){this.writeMessage(e,_,t)},writePackedBoolean:function(e,t){this.writeMessage(e,y,t)},writePackedFloat:function(e,t){this.writeMessage(e,c,t)},writePackedDouble:function(e,t){this.writeMessage(e,u,t)},writePackedFixed32:function(e,t){this.writeMessage(e,m,t)},writePackedSFixed32:function(e,t){this.writeMessage(e,h,t)},writePackedFixed64:function(e,t){this.writeMessage(e,f,t)},writePackedSFixed64:function(e,t){this.writeMessage(e,x,t)},writeBytesField:function(e,t){this.writeTag(e,a.Bytes),this.writeBytes(t)},writeFixed32Field:function(e,t){this.writeTag(e,a.Fixed32),this.writeFixed32(t)},writeSFixed32Field:function(e,t){this.writeTag(e,a.Fixed32),this.writeSFixed32(t)},writeFixed64Field:function(e,t){this.writeTag(e,a.Fixed64),this.writeFixed64(t)},writeSFixed64Field:function(e,t){this.writeTag(e,a.Fixed64),this.writeSFixed64(t)},writeVarintField:function(e,t){this.writeTag(e,a.Varint),this.writeVarint(t)},writeSVarintField:function(e,t){this.writeTag(e,a.Varint),this.writeSVarint(t)},writeStringField:function(e,t){this.writeTag(e,a.Bytes),this.writeString(t)},writeFloatField:function(e,t){this.writeTag(e,a.Fixed32),this.writeFloat(t)},writeDoubleField:function(e,t){this.writeTag(e,a.Fixed64),this.writeDouble(t)},writeBooleanField:function(e,t){this.writeVarintField(e,!!t)}}},function(e,t){var o=Math.pow;t.read=function(t,a,r,n,l){var p=8*l-n-1,g=(1<<p)-1,_=g>>1,c=-7,u=r?l-1:0,i=r?-1:1,d=t[a+u],s,e;for(u+=i,s=d&(1<<-c)-1,d>>=-c,c+=p;0<c;s=256*s+t[a+u],u+=i,c-=8);for(e=s&(1<<-c)-1,s>>=-c,c+=n;0<c;e=256*e+t[a+u],u+=i,c-=8);if(0===s)s=1-_;else{if(s===g)return e?NaN:(d?-1:1)*Infinity;e+=o(2,n),s-=_}return(d?-1:1)*e*o(2,s-n)},t.write=function(t,a,r,n,l,p){var g=8*p-l-1,_=(1<<g)-1,u=_>>1,y=23===l?5.960464477539063e-8-6.617444900424222e-24:0,h=n?0:p-1,i=n?1:-1,d=0>a||0===a&&0>1/a?1:0,s,f,m;for(a=Math.abs(a),isNaN(a)||a===Infinity?(f=isNaN(a)?1:0,s=_):(s=Math.floor(Math.log(a)/Math.LN2),1>a*(m=o(2,-s))&&(s--,m*=2),a+=1<=s+u?y/m:y*o(2,1-u),2<=a*m&&(s++,m/=2),s+u>=_?(f=0,s=_):1<=s+u?(f=(a*m-1)*o(2,l),s+=u):(f=a*o(2,u-1)*o(2,l),s=0));8<=l;t[r+h]=255&f,h+=i,f/=256,l-=8);for(s=s<<l|f,g+=l;0<g;t[r+h]=255&s,h+=i,s/=256,g-=8);t[r+h-i]|=128*d}},function(e,t,o){"use strict";var a=o(18),r=o(13),i=o(3),n=o(22),s=o(229),l=o(158),d=o(163),p=o(63),g=o(27);const _=function(e,t,o,a,r){this.extent_,this.id_=r,this.type_=e,this.flatCoordinates_=t,this.flatInteriorPoints_=null,this.flatMidpoints_=null,this.ends_=o,this.properties_=a},c=Object(g.c)();_.prototype.get=function(e){return this.properties_[e]},_.prototype.getEnds=_.prototype.getEndss=function(){return this.ends_},_.prototype.getExtent=function(){return this.extent_||(this.extent_=this.type_===n.a.POINT?Object(i.m)(this.flatCoordinates_):Object(i.o)(this.flatCoordinates_,0,this.flatCoordinates_.length,2)),this.extent_},_.prototype.getFlatInteriorPoint=function(){if(!this.flatInteriorPoints_){const e=Object(i.x)(this.getExtent());this.flatInteriorPoints_=Object(l.a)(this.flatCoordinates_,0,this.ends_,2,e,0)}return this.flatInteriorPoints_},_.prototype.getFlatInteriorPoints=function(){if(!this.flatInteriorPoints_){const e=Object(s.a)(this.flatCoordinates_,0,this.ends_,2);this.flatInteriorPoints_=Object(l.b)(this.flatCoordinates_,0,this.ends_,2,e)}return this.flatInteriorPoints_},_.prototype.getFlatMidpoint=function(){return this.flatMidpoints_||(this.flatMidpoints_=Object(d.a)(this.flatCoordinates_,0,this.flatCoordinates_.length,2,.5)),this.flatMidpoints_},_.prototype.getFlatMidpoints=function(){if(!this.flatMidpoints_){this.flatMidpoints_=[];const e=this.flatCoordinates_;let t=0;const o=this.ends_;for(let a=0,i=o.length;a<i;++a){const i=o[a],n=Object(d.a)(e,t,i,2,.5);Object(r.c)(this.flatMidpoints_,n),t=i}}return this.flatMidpoints_},_.prototype.getId=function(){return this.id_},_.prototype.getOrientedFlatCoordinates=function(){return this.flatCoordinates_},_.prototype.getFlatCoordinates=_.prototype.getOrientedFlatCoordinates,_.prototype.getGeometry=function(){return this},_.prototype.getProperties=function(){return this.properties_},_.prototype.getSimplifiedGeometry=_.prototype.getGeometry,_.prototype.getStride=function(){return 2},_.prototype.getStyleFunction=a.c,_.prototype.getType=function(){return this.type_},_.prototype.transform=function(e){const t=e.getExtent(),o=e.getWorldExtent(),a=Object(i.A)(o)/Object(i.A)(t);Object(g.b)(c,o[0],o[3],a,-a,0,0,0),Object(p.c)(this.flatCoordinates_,0,this.flatCoordinates_.length,2,c,this.flatCoordinates_)},t.a=_},function(e,t){"use strict";t.a=function(e,t,o,a,r,i){let n,s;void 0===r?(n=[],s=0):(n=r,s=void 0===i?0:i);for(let l=t;l<o;){const t=e[l++];n[s++]=e[l++],n[s++]=t;for(let t=2;t<a;++t)n[s++]=e[l++]}return n.length=s,n}},function(e,t,o){"use strict";function a(e,t){const o=Object(R.d)(v,"Filter"),a=Object(R.d)(v,"FeatureId");o.appendChild(a),a.setAttribute("fid",t),e.appendChild(o)}function r(e,t){e=e?e:I;const o=e+":";return 0===t.indexOf(o)?t:o+t}function i(e,t,o){Object(R.v)({node:e},j,Object(R.q)(t.getTagName()),[t],o)}function n(e,t,o){const a={node:e},r=t.conditions;for(let n=0,i=r.length;n<i;++n){const e=r[n];Object(R.v)(a,j,Object(R.q)(e.getTagName()),[e],o)}}function s(e,t){t.matchCase!==void 0&&e.setAttribute("matchCase",t.matchCase.toString()),d(e,t.propertyName),p(e,""+t.expression)}function l(e,t,o){const a=Object(R.d)(v,e);Object(E.n)(a,o),t.appendChild(a)}function d(e,t){l("PropertyName",e,t)}function p(e,t){l("Literal",e,t)}function g(e,t){const o=Object(R.d)(h.a,"TimeInstant");e.appendChild(o);const a=Object(R.d)(h.a,"timePosition");o.appendChild(a),Object(E.n)(a,t)}function _(e,t,o){const a=o[o.length-1],r=Object(T.a)({},a);r.node=e,Object(R.v)(r,j,Object(R.q)("Query"),t,o)}var c=o(0),u=o(19),y=o(263),m=o(258),h=o(182),f=o(264),x=o(98),E=o(77),C=o(72),T=o(10),S=o(4),R=o(43);const I="feature",b="http://www.w3.org/2000/xmlns/",v="http://www.opengis.net/ogc",L="http://www.opengis.net/wfs",P={"1.1.0":"http://www.opengis.net/wfs http://schemas.opengis.net/wfs/1.1.0/wfs.xsd","1.0.0":"http://www.opengis.net/wfs http://schemas.opengis.net/wfs/1.0.0/wfs.xsd"},F="1.1.0",O=function(e){const t=e?e:{};this.featureType_=t.featureType,this.featureNS_=t.featureNS,this.gmlFormat_=t.gmlFormat?t.gmlFormat:new m.a,this.schemaLocation_=t.schemaLocation?t.schemaLocation:P[F],x.a.call(this)};Object(c.g)(O,x.a),O.prototype.getFeatureType=function(){return this.featureType_},O.prototype.setFeatureType=function(e){this.featureType_=e},O.prototype.readFeatures,O.prototype.readFeaturesFromNode=function(e,t){const o={featureType:this.featureType_,featureNS:this.featureNS_};Object(T.a)(o,this.getReadOptions(e,t?t:{}));this.gmlFormat_.FEATURE_COLLECTION_PARSERS[h.a].featureMember=Object(R.j)(h.b.prototype.readFeaturesInternal);let a=Object(R.u)([],this.gmlFormat_.FEATURE_COLLECTION_PARSERS,e,[o],this.gmlFormat_);return a||(a=[]),a},O.prototype.readTransactionResponse=function(e){if(Object(R.g)(e))return this.readTransactionResponseFromDocument(e);if(Object(R.h)(e))return this.readTransactionResponseFromNode(e);if("string"==typeof e){const t=Object(R.s)(e);return this.readTransactionResponseFromDocument(t)}},O.prototype.readFeatureCollectionMetadata=function(e){if(Object(R.g)(e))return this.readFeatureCollectionMetadataFromDocument(e);if(Object(R.h)(e))return this.readFeatureCollectionMetadataFromNode(e);if("string"==typeof e){const t=Object(R.s)(e);return this.readFeatureCollectionMetadataFromDocument(t)}},O.prototype.readFeatureCollectionMetadataFromDocument=function(e){for(let t=e.firstChild;t;t=t.nextSibling)if(t.nodeType==Node.ELEMENT_NODE)return this.readFeatureCollectionMetadataFromNode(t)};const w={"http://www.opengis.net/gml":{boundedBy:Object(R.n)(h.b.prototype.readGeometryElement,"bounds")}};O.prototype.readFeatureCollectionMetadataFromNode=function(e){const t={},o=Object(E.g)(e.getAttribute("numberOfFeatures"));return t.numberOfFeatures=o,Object(R.u)(t,w,e,[],this.gmlFormat_)};const N={"http://www.opengis.net/wfs":{totalInserted:Object(R.n)(E.f),totalUpdated:Object(R.n)(E.f),totalDeleted:Object(R.n)(E.f)}},A={"http://www.opengis.net/ogc":{FeatureId:Object(R.j)(function(e){return e.getAttribute("fid")})}},M={"http://www.opengis.net/wfs":{Feature:function(e,t){Object(R.t)(A,e,t)}}},G={"http://www.opengis.net/wfs":{TransactionSummary:Object(R.n)(function(e,t){return Object(R.u)({},N,e,t)},"transactionSummary"),InsertResults:Object(R.n)(function(e,t){return Object(R.u)([],M,e,t)},"insertIds")}};O.prototype.readTransactionResponseFromDocument=function(e){for(let t=e.firstChild;t;t=t.nextSibling)if(t.nodeType==Node.ELEMENT_NODE)return this.readTransactionResponseFromNode(t)},O.prototype.readTransactionResponseFromNode=function(e){return Object(R.u)({},G,e,[])};const D={"http://www.opengis.net/wfs":{PropertyName:Object(R.l)(E.n)}},k={"http://www.opengis.net/wfs":{Insert:Object(R.l)(function(e,t,o){const a=o[o.length-1],r=a.featureType,i=a.featureNS,n=a.gmlVersion,s=Object(R.d)(i,r);e.appendChild(s),2===n?y.a.prototype.writeFeatureElement(s,t,o):m.a.prototype.writeFeatureElement(s,t,o)}),Update:Object(R.l)(function(e,t,o){const i=o[o.length-1];Object(u.a)(t.getId()!==void 0,27);const n=i.featureType,s=i.featurePrefix,l=i.featureNS,d=r(s,n),p=t.getGeometryName();e.setAttribute("typeName",d),e.setAttributeNS(b,"xmlns:"+s,l);const g=t.getId();if(g!==void 0){const r=t.getKeys(),n=[];for(let e=0,o=r.length;e<o;e++){const o=t.get(r[e]);if(o!==void 0){let t=r[e];o instanceof C.a&&(t=p),n.push({name:t,value:o})}}Object(R.v)({gmlVersion:i.gmlVersion,node:e,hasZ:i.hasZ,srsName:i.srsName},k,Object(R.q)("Property"),n,o),a(e,g,o)}}),Delete:Object(R.l)(function(e,t,o){const i=o[o.length-1];Object(u.a)(t.getId()!==void 0,26);const n=i.featureType,s=i.featurePrefix,l=i.featureNS,d=r(s,n);e.setAttribute("typeName",d),e.setAttributeNS(b,"xmlns:"+s,l);const p=t.getId();p!==void 0&&a(e,p,o)}),Property:Object(R.l)(function(e,t,o){const a=Object(R.d)(L,"Name"),r=o[o.length-1],i=r.gmlVersion;if(e.appendChild(a),Object(E.n)(a,t.name),void 0!==t.value&&null!==t.value){const a=Object(R.d)(L,"Value");e.appendChild(a),t.value instanceof C.a?2===i?y.a.prototype.writeGeometryElement(a,t.value,o):m.a.prototype.writeGeometryElement(a,t.value,o):Object(E.n)(a,t.value)}}),Native:Object(R.l)(function(e,t){t.vendorId&&e.setAttribute("vendorId",t.vendorId),t.safeToIgnore!==void 0&&e.setAttribute("safeToIgnore",t.safeToIgnore),t.value!==void 0&&Object(E.n)(e,t.value)})}},j={"http://www.opengis.net/wfs":{Query:Object(R.l)(function(e,t,o){const a=o[o.length-1],n=a.featurePrefix,s=a.featureNS,l=a.propertyNames,d=a.srsName;let p;p=n?r(n,t):t,e.setAttribute("typeName",p),d&&e.setAttribute("srsName",d),s&&e.setAttributeNS(b,"xmlns:"+n,s);const g=Object(T.a)({},a);g.node=e,Object(R.v)(g,D,Object(R.q)("PropertyName"),l,o);const _=a.filter;if(_){const t=Object(R.d)(v,"Filter");e.appendChild(t),i(t,_,o)}})},"http://www.opengis.net/ogc":{During:Object(R.l)(function(e,t){const o=Object(R.d)("http://www.opengis.net/fes","ValueReference");Object(E.n)(o,t.propertyName),e.appendChild(o);const a=Object(R.d)(h.a,"TimePeriod");e.appendChild(a);const r=Object(R.d)(h.a,"begin");a.appendChild(r),g(r,t.begin);const i=Object(R.d)(h.a,"end");a.appendChild(i),g(i,t.end)}),And:Object(R.l)(n),Or:Object(R.l)(n),Not:Object(R.l)(function(e,t,o){const a=t.condition;Object(R.v)({node:e},j,Object(R.q)(a.getTagName()),[a],o)}),BBOX:Object(R.l)(function(e,t,o){const a=o[o.length-1];a.srsName=t.srsName,d(e,t.geometryName),m.a.prototype.writeGeometryElement(e,t.extent,o)}),Contains:Object(R.l)(function(e,t,o){const a=o[o.length-1];a.srsName=t.srsName,d(e,t.geometryName),m.a.prototype.writeGeometryElement(e,t.geometry,o)}),Intersects:Object(R.l)(function(e,t,o){const a=o[o.length-1];a.srsName=t.srsName,d(e,t.geometryName),m.a.prototype.writeGeometryElement(e,t.geometry,o)}),Within:Object(R.l)(function(e,t,o){const a=o[o.length-1];a.srsName=t.srsName,d(e,t.geometryName),m.a.prototype.writeGeometryElement(e,t.geometry,o)}),PropertyIsEqualTo:Object(R.l)(s),PropertyIsNotEqualTo:Object(R.l)(s),PropertyIsLessThan:Object(R.l)(s),PropertyIsLessThanOrEqualTo:Object(R.l)(s),PropertyIsGreaterThan:Object(R.l)(s),PropertyIsGreaterThanOrEqualTo:Object(R.l)(s),PropertyIsNull:Object(R.l)(function(e,t){d(e,t.propertyName)}),PropertyIsBetween:Object(R.l)(function(e,t){d(e,t.propertyName);const o=Object(R.d)(v,"LowerBoundary");e.appendChild(o),p(o,""+t.lowerBoundary);const a=Object(R.d)(v,"UpperBoundary");e.appendChild(a),p(a,""+t.upperBoundary)}),PropertyIsLike:Object(R.l)(function(e,t){e.setAttribute("wildCard",t.wildCard),e.setAttribute("singleChar",t.singleChar),e.setAttribute("escapeChar",t.escapeChar),t.matchCase!==void 0&&e.setAttribute("matchCase",t.matchCase.toString()),d(e,t.propertyName),p(e,""+t.pattern)})}};O.prototype.writeGetFeature=function(e){const t=Object(R.d)(L,"GetFeature");t.setAttribute("service","WFS"),t.setAttribute("version","1.1.0");let o;if(e&&(e.handle&&t.setAttribute("handle",e.handle),e.outputFormat&&t.setAttribute("outputFormat",e.outputFormat),void 0!==e.maxFeatures&&t.setAttribute("maxFeatures",e.maxFeatures),e.resultType&&t.setAttribute("resultType",e.resultType),void 0!==e.startIndex&&t.setAttribute("startIndex",e.startIndex),void 0!==e.count&&t.setAttribute("count",e.count),o=e.filter,e.bbox)){Object(u.a)(e.geometryName,12);const t=Object(f.b)(e.geometryName,e.bbox,e.srsName);o=o?Object(f.a)(o,t):t}t.setAttributeNS(R.c,"xsi:schemaLocation",this.schemaLocation_);const a={node:t,srsName:e.srsName,featureNS:e.featureNS?e.featureNS:this.featureNS_,featurePrefix:e.featurePrefix,geometryName:e.geometryName,filter:o,propertyNames:e.propertyNames?e.propertyNames:[]};return Object(u.a)(Array.isArray(e.featureTypes),11),_(t,e.featureTypes,[a]),t},O.prototype.writeTransaction=function(e,t,o,a){const r=[],i=Object(R.d)(L,"Transaction"),n=a.version?a.version:F,s="1.0.0"===n?2:3;i.setAttribute("service","WFS"),i.setAttribute("version",n);let l,d;a&&(l=a.gmlOptions?a.gmlOptions:{},a.handle&&i.setAttribute("handle",a.handle));const p=P[n];i.setAttributeNS(R.c,"xsi:schemaLocation",p);const g=a.featurePrefix?a.featurePrefix:I;return e&&(d={node:i,featureNS:a.featureNS,featureType:a.featureType,featurePrefix:g,gmlVersion:s,hasZ:a.hasZ,srsName:a.srsName},Object(T.a)(d,l),Object(R.v)(d,k,Object(R.q)("Insert"),e,r)),t&&(d={node:i,featureNS:a.featureNS,featureType:a.featureType,featurePrefix:g,gmlVersion:s,hasZ:a.hasZ,srsName:a.srsName},Object(T.a)(d,l),Object(R.v)(d,k,Object(R.q)("Update"),t,r)),o&&Object(R.v)({node:i,featureNS:a.featureNS,featureType:a.featureType,featurePrefix:g,gmlVersion:s,srsName:a.srsName},k,Object(R.q)("Delete"),o,r),a.nativeElements&&Object(R.v)({node:i,featureNS:a.featureNS,featureType:a.featureType,featurePrefix:g,gmlVersion:s,srsName:a.srsName},k,Object(R.q)("Native"),a.nativeElements,r),i},O.prototype.readProjection,O.prototype.readProjectionFromDocument=function(e){for(let t=e.firstChild;t;t=t.nextSibling)if(t.nodeType==Node.ELEMENT_NODE)return this.readProjectionFromNode(t);return null},O.prototype.readProjectionFromNode=function(e){if(e.firstElementChild&&e.firstElementChild.firstElementChild){e=e.firstElementChild.firstElementChild;for(let t=e.firstElementChild;t;t=t.nextElementSibling)if(0!==t.childNodes.length&&(1!==t.childNodes.length||3!==t.firstChild.nodeType)){const e=[{}];return this.gmlFormat_.readGeometryElement(t,e),Object(S.h)(e.pop().srsName)}}return null},t.a=O},function(e,t,o){"use strict";var a=o(0),r=o(265);const i=function(){const e=["And"].concat(Array.prototype.slice.call(arguments));r.a.apply(this,e)};Object(a.g)(i,r.a),t.a=i},function(e,t,o){"use strict";var a=o(0),r=o(121);const i=function(e,t,o){r.a.call(this,"BBOX"),this.geometryName=e,this.extent=t,this.srsName=o};Object(a.g)(i,r.a),t.a=i},function(e,t,o){"use strict";var a=o(0),r=o(187);const i=function(e,t,o){r.a.call(this,"Contains",e,t,o)};Object(a.g)(i,r.a),t.a=i},function(e,t,o){"use strict";var a=o(0),r=o(122);const i=function(e,t,o){r.a.call(this,"During",e),this.begin=t,this.end=o};Object(a.g)(i,r.a),t.a=i},function(e,t,o){"use strict";var a=o(0),r=o(99);const i=function(e,t,o){r.a.call(this,"PropertyIsEqualTo",e,t,o)};Object(a.g)(i,r.a),t.a=i},function(e,t,o){"use strict";var a=o(0),r=o(99);const i=function(e,t){r.a.call(this,"PropertyIsGreaterThan",e,t)};Object(a.g)(i,r.a),t.a=i},function(e,t,o){"use strict";var a=o(0),r=o(99);const i=function(e,t){r.a.call(this,"PropertyIsGreaterThanOrEqualTo",e,t)};Object(a.g)(i,r.a),t.a=i},function(e,t,o){"use strict";var a=o(0),r=o(187);const i=function(e,t,o){r.a.call(this,"Intersects",e,t,o)};Object(a.g)(i,r.a),t.a=i},function(e,t,o){"use strict";var a=o(0),r=o(122);const i=function(e,t,o){r.a.call(this,"PropertyIsBetween",e),this.lowerBoundary=t,this.upperBoundary=o};Object(a.g)(i,r.a),t.a=i},function(e,t,o){"use strict";var a=o(0),r=o(122);const i=function(e,t,o,a,i,n){r.a.call(this,"PropertyIsLike",e),this.pattern=t,this.wildCard=o===void 0?"*":o,this.singleChar=a===void 0?".":a,this.escapeChar=i===void 0?"!":i,this.matchCase=n};Object(a.g)(i,r.a),t.a=i},function(e,t,o){"use strict";var a=o(0),r=o(122);const i=function(e){r.a.call(this,"PropertyIsNull",e)};Object(a.g)(i,r.a),t.a=i},function(e,t,o){"use strict";var a=o(0),r=o(99);const i=function(e,t){r.a.call(this,"PropertyIsLessThan",e,t)};Object(a.g)(i,r.a),t.a=i},function(e,t,o){"use strict";var a=o(0),r=o(99);const i=function(e,t){r.a.call(this,"PropertyIsLessThanOrEqualTo",e,t)};Object(a.g)(i,r.a),t.a=i},function(e,t,o){"use strict";var a=o(0),r=o(121);const i=function(e){r.a.call(this,"Not"),this.condition=e};Object(a.g)(i,r.a),t.a=i},function(e,t,o){"use strict";var a=o(0),r=o(99);const i=function(e,t,o){r.a.call(this,"PropertyIsNotEqualTo",e,t,o)};Object(a.g)(i,r.a),t.a=i},function(e,t,o){"use strict";var a=o(0),r=o(265);const i=function(){const e=["Or"].concat(Array.prototype.slice.call(arguments));r.a.apply(this,e)};Object(a.g)(i,r.a),t.a=i},function(e,t,o){"use strict";var a=o(0),r=o(187);const i=function(e,t,o){r.a.call(this,"Within",e,t,o)};Object(a.g)(i,r.a),t.a=i},,,,,,,,,,,,,,,,,,,,,,function(e,t,o){"use strict";t.b=function(e,t){const o=Object(p.a)(t,e.getFormat(),e.onLoad.bind(e),e.onError.bind(e));e.setLoader(o)};var a=o(0),r=o(92),n=o(35),i=o(23),s=o(8),l=o(3),d=o(11),p=o(231);const g=function(e,t,o,a,i,p,g,_,c,u,y,m,h,f,x){if(r.a.call(this,e,t,x),this.context_={},this.loader_,this.replayState_={},this.sourceTiles_=u,this.tileKeys=[],this.sourceRevision_=o,this.wrappedTileCoord=p,this.loadListenerKeys_=[],this.sourceTileListenerKeys_=[],p){const t=c.getTileCoordExtent(p),o=c.getResolution(e[0]),r=_.getZForResolution(o);_.forEachTileCoord(t,r,function(e){let r=Object(l.B)(t,_.getTileCoordExtent(e));const p=_.getExtent();if(p&&(r=Object(l.B)(r,p,r)),.5<=Object(l.E)(r)/o&&.5<=Object(l.A)(r)/o){const t=e.toString();let o=u[t];if(!o){const r=g(e,y,m);o=u[t]=new h(e,void 0==r?n.a.EMPTY:n.a.IDLE,void 0==r?"":r,a,i),this.sourceTileListenerKeys_.push(Object(s.a)(o,d.a.CHANGE,f))}o.consumers++,this.tileKeys.push(t)}}.bind(this))}};Object(a.g)(g,r.a),g.prototype.disposeInternal=function(){this.state=n.a.ABORT,this.changed(),this.interimTile&&this.interimTile.dispose();for(let e=0,t=this.tileKeys.length;e<t;++e){const t=this.tileKeys[e],o=this.getTile(t);o.consumers--,0==o.consumers&&(delete this.sourceTiles_[t],o.dispose())}this.tileKeys.length=0,this.sourceTiles_=null,this.loadListenerKeys_.forEach(s.e),this.loadListenerKeys_.length=0,this.sourceTileListenerKeys_.forEach(s.e),this.sourceTileListenerKeys_.length=0,r.a.prototype.disposeInternal.call(this)},g.prototype.getContext=function(e){const t=Object(a.f)(e).toString();return t in this.context_||(this.context_[t]=Object(i.a)()),this.context_[t]},g.prototype.getImage=function(e){return-1==this.getReplayState(e).renderedTileRevision?null:this.getContext(e).canvas},g.prototype.getReplayState=function(e){const t=Object(a.f)(e).toString();return t in this.replayState_||(this.replayState_[t]={dirty:!1,renderedRenderOrder:null,renderedRevision:-1,renderedTileRevision:-1}),this.replayState_[t]},g.prototype.getKey=function(){return this.tileKeys.join("/")+"-"+this.sourceRevision_},g.prototype.getTile=function(e){return this.sourceTiles_[e]},g.prototype.load=function(){let e=0;const t={};this.state==n.a.IDLE&&this.setState(n.a.LOADING),this.state==n.a.LOADING&&this.tileKeys.forEach(function(o){const r=this.getTile(o);if(r.state==n.a.IDLE&&(r.setLoader(this.loader_),r.load()),r.state==n.a.LOADING){const o=Object(s.a)(r,d.a.CHANGE,function(){const o=r.getState();if(o==n.a.LOADED||o==n.a.ERROR){const i=Object(a.f)(r);o==n.a.ERROR?t[i]=!0:(--e,delete t[i]),0==e-Object.keys(t).length&&this.finishLoading_()}}.bind(this));this.loadListenerKeys_.push(o),++e}}.bind(this)),0==e-Object.keys(t).length&&setTimeout(this.finishLoading_.bind(this),0)},g.prototype.finishLoading_=function(){let e=this.tileKeys.length,t=0;for(let o=e-1;0<=o;--o){const a=this.getTile(this.tileKeys[o]).getState();a!=n.a.LOADED&&--e,a==n.a.EMPTY&&++t}e==this.tileKeys.length?(this.loadListenerKeys_.forEach(s.e),this.loadListenerKeys_.length=0,this.setState(n.a.LOADED)):this.setState(t==this.tileKeys.length?n.a.EMPTY:n.a.ERROR)},t.a=g},function(e,t,o){"use strict";var a=o(0),r=o(92),i=o(35);const n=function(e,t,o,a,i,n){r.a.call(this,e,t,n),this.consumers=0,this.extent_=null,this.format_=a,this.features_=null,this.loader_,this.projection_,this.replayGroups_={},this.tileLoadFunction_=i,this.url_=o};Object(a.g)(n,r.a);const s=[0,0,4096,4096];n.prototype.disposeInternal=function(){this.features_=null,this.replayGroups_={},this.state=i.a.ABORT,this.changed(),r.a.prototype.disposeInternal.call(this)},n.prototype.getExtent=function(){return this.extent_||s},n.prototype.getFormat=function(){return this.format_},n.prototype.getFeatures=function(){return this.features_},n.prototype.getKey=function(){return this.url_},n.prototype.getProjection=function(){return this.projection_},n.prototype.getReplayGroup=function(e,t){return this.replayGroups_[Object(a.f)(e)+","+t]},n.prototype.load=function(){this.state==i.a.IDLE&&(this.setState(i.a.LOADING),this.tileLoadFunction_(this,this.url_),this.loader_(null,NaN,null))},n.prototype.onLoad=function(e,t,o){this.setProjection(t),this.setFeatures(e),this.setExtent(o)},n.prototype.onError=function(){this.setState(i.a.ERROR)},n.prototype.setExtent=function(e){this.extent_=e},n.prototype.setFeatures=function(e){this.features_=e,this.setState(i.a.LOADED)},n.prototype.setProjection=function(e){this.projection_=e},n.prototype.setReplayGroup=function(e,t,o){this.replayGroups_[Object(a.f)(e)+","+t]=o},n.prototype.setLoader=function(e){this.loader_=e},t.a=n},,,function(e,t){"use strict";t.a={ACCURACY:"accuracy",ACCURACY_GEOMETRY:"accuracyGeometry",ALTITUDE:"altitude",ALTITUDE_ACCURACY:"altitudeAccuracy",HEADING:"heading",POSITION:"position",PROJECTION:"projection",SPEED:"speed",TRACKING:"tracking",TRACKING_OPTIONS:"trackingOptions"}},,,,,,,function(e,t,o){"use strict";function a(e,t,o){const r=[];let i=e(0),n=e(1),l=t(i),a=t(n);const d=[n,i],p=[a,l],g=[1,0],_={};for(let c=1e5,u,y,m,h,f,x;0<--c&&0<g.length;)m=g.pop(),i=d.pop(),l=p.pop(),x=m.toString(),x in _||(r.push(l[0],l[1]),_[x]=!0),h=g.pop(),n=d.pop(),a=p.pop(),f=(m+h)/2,u=e(f),y=t(u),Object(s.h)(y[0],y[1],l[0],l[1],a[0],a[1])<o?(r.push(a[0],a[1]),x=h.toString(),_[x]=!0):(g.push(h,f,f,m),p.push(a,y,y,l),d.push(n,u,u,i));return r}var r=Math.atan2,i=Math.sin,n=Math.cos;t.a=function(e,t,o,r,i){const n=Object(l.h)("EPSG:4326");return a(function(a){return[e,t+(o-t)*a]},Object(l.j)(n,r),i)},t.b=function(e,t,o,r,i){const n=Object(l.h)("EPSG:4326");return a(function(a){return[t+(o-t)*a,e]},Object(l.j)(n,r),i)};var s=o(17),l=o(4)},,,,,,,function(e,t,o){"use strict";var a=o(90),r=o(0),i=o(18),n=o(55),s=o(40),l=o(23),d=o(3),p=o(190),g=o(27),_=o(39),c=o(145);const u=function(e,t){p.a.call(this,e,t),this.image_=null,this.hitCanvasContext_=null,this.hitTransformationMatrix_=null};Object(r.g)(u,p.a),u.handles=function(e){return e.getType()===n.a.IMAGE},u.create=function(e,t){return new u(e,t)},u.prototype.createTexture_=function(e){const t=e.getImage(),o=this.mapRenderer.getGL();return Object(c.b)(o,t,_.c,_.c)},u.prototype.forEachFeatureAtCoordinate=function(e,t,o,a,r){const i=this.getLayer(),n=i.getSource(),s=t.viewState.resolution,l=t.viewState.rotation,d=t.skippedFeatureUids;return n.forEachFeatureAtCoordinate(e,s,l,o,d,function(e){return a.call(r,e,i)})},u.prototype.prepareFrame=function(e,t){const o=this.mapRenderer.getGL(),r=e.pixelRatio,i=e.viewState,n=i.center,l=i.resolution,p=i.rotation;let _=this.image_,c=this.texture;const u=this.getLayer(),y=u.getSource(),m=e.viewHints;let h=e.extent;if(void 0!==t.extent&&(h=Object(d.B)(h,t.extent)),!m[s.a.ANIMATING]&&!m[s.a.INTERACTING]&&!Object(d.H)(h)){let t=i.projection;if(!a.a){const e=y.getProjection();e&&(t=e)}const n=y.getImage(h,l,r,t);if(n){const t=this.loadImage(n);if(t&&(_=n,c=this.createTexture_(n),this.texture)){const t=function(e,t){e.isContextLost()||e.deleteTexture(t)}.bind(null,o,this.texture);e.postRenderFunctions.push(t)}}}if(_){const e=this.mapRenderer.getContext().getCanvas();this.updateProjectionMatrix_(e.width,e.height,r,n,l,p,_.getExtent()),this.hitTransformationMatrix_=null;const t=this.texCoordMatrix;Object(g.f)(t),Object(g.h)(t,1,-1),Object(g.j)(t,0,-1),this.image_=_,this.texture=c}return!!_},u.prototype.updateProjectionMatrix_=function(e,t,o,a,r,i,n){const s=this.projectionMatrix;Object(g.f)(s),Object(g.h)(s,2*o/(e*r),2*o/(t*r)),Object(g.g)(s,-i),Object(g.j)(s,n[0]-a[0],n[1]-a[1]),Object(g.h)(s,(n[2]-n[0])/2,(n[3]-n[1])/2),Object(g.j)(s,1,1)},u.prototype.hasFeatureAtCoordinate=function(e,t){const o=this.forEachFeatureAtCoordinate(e,t,0,i.b,this);return o!==void 0},u.prototype.forEachLayerAtPixel=function(e,t,o,a){if(this.image_&&this.image_.getImage())if(this.getLayer().getSource().forEachFeatureAtCoordinate!==i.c){const r=Object(g.a)(t.pixelToCoordinateTransform,e.slice()),n=this.forEachFeatureAtCoordinate(r,t,0,i.b,this);return n?o.call(a,this.getLayer(),null):void 0}else{const r=[this.image_.getImage().width,this.image_.getImage().height];this.hitTransformationMatrix_||(this.hitTransformationMatrix_=this.getHitTransformationMatrix_(t.size,r));const i=Object(g.a)(this.hitTransformationMatrix_,e.slice());if(0>i[0]||i[0]>r[0]||0>i[1]||i[1]>r[1])return;this.hitCanvasContext_||(this.hitCanvasContext_=Object(l.a)(1,1)),this.hitCanvasContext_.clearRect(0,0,1,1),this.hitCanvasContext_.drawImage(this.image_.getImage(),i[0],i[1],1,1,0,0,1,1);const n=this.hitCanvasContext_.getImageData(0,0,1,1).data;return 0<n[3]?o.call(a,this.getLayer(),n):void 0}},u.prototype.getHitTransformationMatrix_=function(e,t){const o=Object(g.c)();Object(g.j)(o,-1,-1),Object(g.h)(o,2/e[0],2/e[1]),Object(g.j)(o,0,e[1]),Object(g.h)(o,1,-1);const a=Object(g.d)(this.projectionMatrix.slice()),r=Object(g.c)();return Object(g.j)(r,0,t[1]),Object(g.h)(r,1,-1),Object(g.h)(r,t[0]/2,t[1]/2),Object(g.j)(r,1,1),Object(g.e)(r,a),Object(g.e)(r,o),r},t.a=u},function(e,t,o){"use strict";var a=o(0),r=o(13),i=o(66),n=o(3),s=o(10),l=o(63),d=o(424),p=o(425),g=o(143),_=o(144),c=o(39),u=o(86);const y=function(e,t){g.a.call(this,e,t),this.defaultLocations_=null,this.styles_=[],this.styleIndices_=[],this.radius_=0,this.state_={fillColor:null,strokeColor:null,lineDash:null,lineDashOffset:void 0,lineWidth:void 0,changed:!1}};Object(a.g)(y,g.a),y.prototype.drawCoordinates_=function(e,t,o,a){let r=this.vertices.length,s=this.indices.length,l=r/4,n,i;for(n=t,i=o;n<i;n+=a)this.vertices[r++]=e[n],this.vertices[r++]=e[n+1],this.vertices[r++]=0,this.vertices[r++]=this.radius_,this.vertices[r++]=e[n],this.vertices[r++]=e[n+1],this.vertices[r++]=1,this.vertices[r++]=this.radius_,this.vertices[r++]=e[n],this.vertices[r++]=e[n+1],this.vertices[r++]=2,this.vertices[r++]=this.radius_,this.vertices[r++]=e[n],this.vertices[r++]=e[n+1],this.vertices[r++]=3,this.vertices[r++]=this.radius_,this.indices[s++]=l,this.indices[s++]=l+1,this.indices[s++]=l+2,this.indices[s++]=l+2,this.indices[s++]=l+3,this.indices[s++]=l,l+=4},y.prototype.drawCircle=function(e,t){const o=e.getRadius(),a=e.getStride();if(o){this.startIndices.push(this.indices.length),this.startIndicesFeature.push(t),this.state_.changed&&(this.styleIndices_.push(this.indices.length),this.state_.changed=!1),this.radius_=o;let r=e.getFlatCoordinates();r=Object(l.d)(r,0,2,a,-this.origin[0],-this.origin[1]),this.drawCoordinates_(r,0,2,a)}else if(this.state_.changed&&(this.styles_.pop(),this.styles_.length)){const e=this.styles_[this.styles_.length-1];this.state_.fillColor=e[0],this.state_.strokeColor=e[1],this.state_.lineWidth=e[2],this.state_.changed=!1}},y.prototype.finish=function(){this.verticesBuffer=new u.a(this.vertices),this.indicesBuffer=new u.a(this.indices),this.startIndices.push(this.indices.length),0===this.styleIndices_.length&&0<this.styles_.length&&(this.styles_=[]),this.vertices=null,this.indices=null},y.prototype.getDeleteResourcesFunction=function(e){const t=this.verticesBuffer,o=this.indicesBuffer;return function(){e.deleteBuffer(t),e.deleteBuffer(o)}},y.prototype.setUpProgram=function(e,t,o,a){const r=t.getProgram(d.a,d.b);let i;return this.defaultLocations_?i=this.defaultLocations_:(i=new p.a(e,r),this.defaultLocations_=i),t.useProgram(r),e.enableVertexAttribArray(i.a_position),e.vertexAttribPointer(i.a_position,2,c.j,!1,16,0),e.enableVertexAttribArray(i.a_instruction),e.vertexAttribPointer(i.a_instruction,1,c.j,!1,16,8),e.enableVertexAttribArray(i.a_radius),e.vertexAttribPointer(i.a_radius,1,c.j,!1,16,12),e.uniform2fv(i.u_size,o),e.uniform1f(i.u_pixelRatio,a),i},y.prototype.shutDownProgram=function(e,t){e.disableVertexAttribArray(t.a_position),e.disableVertexAttribArray(t.a_instruction),e.disableVertexAttribArray(t.a_radius)},y.prototype.drawReplay=function(e,t,o){if(!Object(s.d)(o))this.drawReplaySkipping_(e,t,o);else{let o,a,r,i;for(r=this.startIndices[this.startIndices.length-1],o=this.styleIndices_.length-1;0<=o;--o)a=this.styleIndices_[o],i=this.styles_[o],this.setFillStyle_(e,i[0]),this.setStrokeStyle_(e,i[1],i[2]),this.drawElements(e,t,a,r),r=a}},y.prototype.drawHitDetectionReplayOneByOne=function(e,t,o,r,s){let l,i,d,p,g,_,c,u;for(u=this.startIndices.length-2,d=this.startIndices[u+1],l=this.styleIndices_.length-1;0<=l;--l)for(p=this.styles_[l],this.setFillStyle_(e,p[0]),this.setStrokeStyle_(e,p[1],p[2]),g=this.styleIndices_[l];0<=u&&this.startIndices[u]>=g;){if(i=this.startIndices[u],_=this.startIndicesFeature[u],c=Object(a.f)(_).toString(),void 0===o[c]&&_.getGeometry()&&(void 0===s||Object(n.F)(s,_.getGeometry().getExtent()))){e.clear(e.COLOR_BUFFER_BIT|e.DEPTH_BUFFER_BIT),this.drawElements(e,t,i,d);const o=r(_);if(o)return o}u--,d=i}},y.prototype.drawReplaySkipping_=function(e,t,o){let r,i,n,s,l,d,p,g,_;for(g=this.startIndices.length-2,n=i=this.startIndices[g+1],r=this.styleIndices_.length-1;0<=r;--r){for(s=this.styles_[r],this.setFillStyle_(e,s[0]),this.setStrokeStyle_(e,s[1],s[2]),l=this.styleIndices_[r];0<=g&&this.startIndices[g]>=l;)_=this.startIndices[g],d=this.startIndicesFeature[g],p=Object(a.f)(d).toString(),o[p]&&(i!==n&&this.drawElements(e,t,i,n),n=_),g--,i=_;i!==n&&this.drawElements(e,t,i,n),i=n=l}},y.prototype.setFillStyle_=function(e,t){e.uniform4fv(this.defaultLocations_.u_fillColor,t)},y.prototype.setStrokeStyle_=function(e,t,o){e.uniform4fv(this.defaultLocations_.u_strokeColor,t),e.uniform1f(this.defaultLocations_.u_lineWidth,o)},y.prototype.setFillStrokeStyle=function(e,t){let o,a;if(t){const e=t.getLineDash();this.state_.lineDash=e?e:_.d;const r=t.getLineDashOffset();this.state_.lineDashOffset=r?r:_.e,o=t.getColor(),o=o instanceof CanvasGradient||o instanceof CanvasPattern?_.i:Object(i.a)(o).map(function(e,t){return 3==t?e:e/255})||_.i,a=t.getWidth(),a=a===void 0?_.g:a}else o=[0,0,0,0],a=0;let n=e?e.getColor():[0,0,0,0];n=n instanceof CanvasGradient||n instanceof CanvasPattern?_.a:Object(i.a)(n).map(function(e,t){return 3==t?e:e/255})||_.a,this.state_.strokeColor&&Object(r.b)(this.state_.strokeColor,o)&&this.state_.fillColor&&Object(r.b)(this.state_.fillColor,n)&&this.state_.lineWidth===a||(this.state_.changed=!0,this.state_.fillColor=n,this.state_.strokeColor=o,this.state_.lineWidth=a,this.styles_.push([n,o,a]))},t.a=y},function(e,t,o){"use strict";var a=o(0),r=o(101),i=o(102);const n=new r.a(a.a?"precision mediump float;\nvarying vec2 v_center;\nvarying vec2 v_offset;\nvarying float v_halfWidth;\nvarying float v_pixelRatio;\n\n\n\nuniform float u_opacity;\nuniform vec4 u_fillColor;\nuniform vec4 u_strokeColor;\nuniform vec2 u_size;\n\nvoid main(void) {\n  vec2 windowCenter = vec2((v_center.x + 1.0) / 2.0 * u_size.x * v_pixelRatio,\n      (v_center.y + 1.0) / 2.0 * u_size.y * v_pixelRatio);\n  vec2 windowOffset = vec2((v_offset.x + 1.0) / 2.0 * u_size.x * v_pixelRatio,\n      (v_offset.y + 1.0) / 2.0 * u_size.y * v_pixelRatio);\n  float radius = length(windowCenter - windowOffset);\n  float dist = length(windowCenter - gl_FragCoord.xy);\n  if (dist > radius + v_halfWidth) {\n    if (u_strokeColor.a == 0.0) {\n      gl_FragColor = u_fillColor;\n    } else {\n      gl_FragColor = u_strokeColor;\n    }\n    gl_FragColor.a = gl_FragColor.a - (dist - (radius + v_halfWidth));\n  } else if (u_fillColor.a == 0.0) {\n    // Hooray, no fill, just stroke. We can use real antialiasing.\n    gl_FragColor = u_strokeColor;\n    if (dist < radius - v_halfWidth) {\n      gl_FragColor.a = gl_FragColor.a - (radius - v_halfWidth - dist);\n    }\n  } else {\n    gl_FragColor = u_fillColor;\n    float strokeDist = radius - v_halfWidth;\n    float antialias = 2.0 * v_pixelRatio;\n    if (dist > strokeDist) {\n      gl_FragColor = u_strokeColor;\n    } else if (dist >= strokeDist - antialias) {\n      float step = smoothstep(strokeDist - antialias, strokeDist, dist);\n      gl_FragColor = mix(u_fillColor, u_strokeColor, step);\n    }\n  }\n  gl_FragColor.a = gl_FragColor.a * u_opacity;\n  if (gl_FragColor.a <= 0.0) {\n    discard;\n  }\n}\n":"precision mediump float;varying vec2 a;varying vec2 b;varying float c;varying float d;uniform float m;uniform vec4 n;uniform vec4 o;uniform vec2 p;void main(void){vec2 windowCenter=vec2((a.x+1.0)/2.0*p.x*d,(a.y+1.0)/2.0*p.y*d);vec2 windowOffset=vec2((b.x+1.0)/2.0*p.x*d,(b.y+1.0)/2.0*p.y*d);float radius=length(windowCenter-windowOffset);float dist=length(windowCenter-gl_FragCoord.xy);if(dist>radius+c){if(o.a==0.0){gl_FragColor=n;}else{gl_FragColor=o;}gl_FragColor.a=gl_FragColor.a-(dist-(radius+c));}else if(n.a==0.0){gl_FragColor=o;if(dist<radius-c){gl_FragColor.a=gl_FragColor.a-(radius-c-dist);}} else{gl_FragColor=n;float strokeDist=radius-c;float antialias=2.0*d;if(dist>strokeDist){gl_FragColor=o;}else if(dist>=strokeDist-antialias){float step=smoothstep(strokeDist-antialias,strokeDist,dist);gl_FragColor=mix(n,o,step);}} gl_FragColor.a=gl_FragColor.a*m;if(gl_FragColor.a<=0.0){discard;}}");t.a=n;const s=new i.a(a.a?"varying vec2 v_center;\nvarying vec2 v_offset;\nvarying float v_halfWidth;\nvarying float v_pixelRatio;\n\n\nattribute vec2 a_position;\nattribute float a_instruction;\nattribute float a_radius;\n\nuniform mat4 u_projectionMatrix;\nuniform mat4 u_offsetScaleMatrix;\nuniform mat4 u_offsetRotateMatrix;\nuniform float u_lineWidth;\nuniform float u_pixelRatio;\n\nvoid main(void) {\n  mat4 offsetMatrix = u_offsetScaleMatrix * u_offsetRotateMatrix;\n  v_center = vec4(u_projectionMatrix * vec4(a_position, 0.0, 1.0)).xy;\n  v_pixelRatio = u_pixelRatio;\n  float lineWidth = u_lineWidth * u_pixelRatio;\n  v_halfWidth = lineWidth / 2.0;\n  if (lineWidth == 0.0) {\n    lineWidth = 2.0 * u_pixelRatio;\n  }\n  vec2 offset;\n  // Radius with anitaliasing (roughly).\n  float radius = a_radius + 3.0 * u_pixelRatio;\n  // Until we get gl_VertexID in WebGL, we store an instruction.\n  if (a_instruction == 0.0) {\n    // Offsetting the edges of the triangle by lineWidth / 2 is necessary, however\n    // we should also leave some space for the antialiasing, thus we offset by lineWidth.\n    offset = vec2(-1.0, 1.0);\n  } else if (a_instruction == 1.0) {\n    offset = vec2(-1.0, -1.0);\n  } else if (a_instruction == 2.0) {\n    offset = vec2(1.0, -1.0);\n  } else {\n    offset = vec2(1.0, 1.0);\n  }\n\n  gl_Position = u_projectionMatrix * vec4(a_position + offset * radius, 0.0, 1.0) +\n      offsetMatrix * vec4(offset * lineWidth, 0.0, 0.0);\n  v_offset = vec4(u_projectionMatrix * vec4(a_position.x + a_radius, a_position.y,\n      0.0, 1.0)).xy;\n\n  if (distance(v_center, v_offset) > 20000.0) {\n    gl_Position = vec4(v_center, 0.0, 1.0);\n  }\n}\n\n\n":"varying vec2 a;varying vec2 b;varying float c;varying float d;attribute vec2 e;attribute float f;attribute float g;uniform mat4 h;uniform mat4 i;uniform mat4 j;uniform float k;uniform float l;void main(void){mat4 offsetMatrix=i*j;a=vec4(h*vec4(e,0.0,1.0)).xy;d=l;float lineWidth=k*l;c=lineWidth/2.0;if(lineWidth==0.0){lineWidth=2.0*l;}vec2 offset;float radius=g+3.0*l;if(f==0.0){offset=vec2(-1.0,1.0);}else if(f==1.0){offset=vec2(-1.0,-1.0);}else if(f==2.0){offset=vec2(1.0,-1.0);}else{offset=vec2(1.0,1.0);}gl_Position=h*vec4(e+offset*radius,0.0,1.0)+offsetMatrix*vec4(offset*lineWidth,0.0,0.0);b=vec4(h*vec4(e.x+g,e.y,0.0,1.0)).xy;if(distance(a,b)>20000.0){gl_Position=vec4(a,0.0,1.0);}}");t.b=s},function(e,t,o){"use strict";var a=o(0);t.a=function(e,t){this.u_projectionMatrix=e.getUniformLocation(t,a.a?"u_projectionMatrix":"h"),this.u_offsetScaleMatrix=e.getUniformLocation(t,a.a?"u_offsetScaleMatrix":"i"),this.u_offsetRotateMatrix=e.getUniformLocation(t,a.a?"u_offsetRotateMatrix":"j"),this.u_lineWidth=e.getUniformLocation(t,a.a?"u_lineWidth":"k"),this.u_pixelRatio=e.getUniformLocation(t,a.a?"u_pixelRatio":"l"),this.u_opacity=e.getUniformLocation(t,a.a?"u_opacity":"m"),this.u_fillColor=e.getUniformLocation(t,a.a?"u_fillColor":"n"),this.u_strokeColor=e.getUniformLocation(t,a.a?"u_strokeColor":"o"),this.u_size=e.getUniformLocation(t,a.a?"u_size":"p"),this.a_position=e.getAttribLocation(t,a.a?"a_position":"e"),this.a_instruction=e.getAttribLocation(t,a.a?"a_instruction":"f"),this.a_radius=e.getAttribLocation(t,a.a?"a_radius":"g")}},function(e,t,o){"use strict";var a=o(0),r=o(274),i=o(86);const n=function(e,t){r.a.call(this,e,t),this.images_=[],this.hitDetectionImages_=[],this.textures_=[],this.hitDetectionTextures_=[]};Object(a.g)(n,r.a),n.prototype.drawMultiPoint=function(e,t){this.startIndices.push(this.indices.length),this.startIndicesFeature.push(t);const o=e.getFlatCoordinates(),a=e.getStride();this.drawCoordinates(o,0,o.length,a)},n.prototype.drawPoint=function(e,t){this.startIndices.push(this.indices.length),this.startIndicesFeature.push(t);const o=e.getFlatCoordinates(),a=e.getStride();this.drawCoordinates(o,0,o.length,a)},n.prototype.finish=function(e){const t=e.getGL();this.groupIndices.push(this.indices.length),this.hitDetectionGroupIndices.push(this.indices.length),this.verticesBuffer=new i.a(this.vertices);const o=this.indices;this.indicesBuffer=new i.a(o);const a={};this.createTextures(this.textures_,this.images_,a,t),this.createTextures(this.hitDetectionTextures_,this.hitDetectionImages_,a,t),this.images_=null,this.hitDetectionImages_=null,r.a.prototype.finish.call(this,e)},n.prototype.setImageStyle=function(e){const t=e.getAnchor(),o=e.getImage(1),r=e.getImageSize(),i=e.getHitDetectionImage(1),n=e.getOpacity(),s=e.getOrigin(),l=e.getRotateWithView(),d=e.getRotation(),p=e.getSize(),g=e.getScale();let _;0===this.images_.length?this.images_.push(o):(_=this.images_[this.images_.length-1],Object(a.f)(_)!=Object(a.f)(o)&&(this.groupIndices.push(this.indices.length),this.images_.push(o))),0===this.hitDetectionImages_.length?this.hitDetectionImages_.push(i):(_=this.hitDetectionImages_[this.hitDetectionImages_.length-1],Object(a.f)(_)!=Object(a.f)(i)&&(this.hitDetectionGroupIndices.push(this.indices.length),this.hitDetectionImages_.push(i))),this.anchorX=t[0],this.anchorY=t[1],this.height=p[1],this.imageHeight=r[1],this.imageWidth=r[0],this.opacity=n,this.originX=s[0],this.originY=s[1],this.rotation=d,this.rotateWithView=l,this.scale=g,this.width=p[0]},n.prototype.getTextures=function(e){return e?this.textures_.concat(this.hitDetectionTextures_):this.textures_},n.prototype.getHitDetectionTextures=function(){return this.hitDetectionTextures_},t.a=n},function(e,t,o){"use strict";var a=o(0),r=o(101),i=o(102);const n=new r.a(a.a?"precision mediump float;\nvarying vec2 v_texCoord;\nvarying float v_opacity;\n\nuniform float u_opacity;\nuniform sampler2D u_image;\n\nvoid main(void) {\n  vec4 texColor = texture2D(u_image, v_texCoord);\n  gl_FragColor.rgb = texColor.rgb;\n  float alpha = texColor.a * v_opacity * u_opacity;\n  if (alpha == 0.0) {\n    discard;\n  }\n  gl_FragColor.a = alpha;\n}\n":"precision mediump float;varying vec2 a;varying float b;uniform float k;uniform sampler2D l;void main(void){vec4 texColor=texture2D(l,a);gl_FragColor.rgb=texColor.rgb;float alpha=texColor.a*b*k;if(alpha==0.0){discard;}gl_FragColor.a=alpha;}");t.a=n;const s=new i.a(a.a?"varying vec2 v_texCoord;\nvarying float v_opacity;\n\nattribute vec2 a_position;\nattribute vec2 a_texCoord;\nattribute vec2 a_offsets;\nattribute float a_opacity;\nattribute float a_rotateWithView;\n\nuniform mat4 u_projectionMatrix;\nuniform mat4 u_offsetScaleMatrix;\nuniform mat4 u_offsetRotateMatrix;\n\nvoid main(void) {\n  mat4 offsetMatrix = u_offsetScaleMatrix;\n  if (a_rotateWithView == 1.0) {\n    offsetMatrix = u_offsetScaleMatrix * u_offsetRotateMatrix;\n  }\n  vec4 offsets = offsetMatrix * vec4(a_offsets, 0.0, 0.0);\n  gl_Position = u_projectionMatrix * vec4(a_position, 0.0, 1.0) + offsets;\n  v_texCoord = a_texCoord;\n  v_opacity = a_opacity;\n}\n\n\n":"varying vec2 a;varying float b;attribute vec2 c;attribute vec2 d;attribute vec2 e;attribute float f;attribute float g;uniform mat4 h;uniform mat4 i;uniform mat4 j;void main(void){mat4 offsetMatrix=i;if(g==1.0){offsetMatrix=i*j;}vec4 offsets=offsetMatrix*vec4(e,0.0,0.0);gl_Position=h*vec4(c,0.0,1.0)+offsets;a=d;b=f;}");t.b=s},function(e,t,o){"use strict";var a=o(0);t.a=function(e,t){this.u_projectionMatrix=e.getUniformLocation(t,a.a?"u_projectionMatrix":"h"),this.u_offsetScaleMatrix=e.getUniformLocation(t,a.a?"u_offsetScaleMatrix":"i"),this.u_offsetRotateMatrix=e.getUniformLocation(t,a.a?"u_offsetRotateMatrix":"j"),this.u_opacity=e.getUniformLocation(t,a.a?"u_opacity":"k"),this.u_image=e.getUniformLocation(t,a.a?"u_image":"l"),this.a_position=e.getAttribLocation(t,a.a?"a_position":"c"),this.a_texCoord=e.getAttribLocation(t,a.a?"a_texCoord":"d"),this.a_offsets=e.getAttribLocation(t,a.a?"a_offsets":"e"),this.a_opacity=e.getAttribLocation(t,a.a?"a_opacity":"f"),this.a_rotateWithView=e.getAttribLocation(t,a.a?"a_rotateWithView":"g")}},function(e,t,o){"use strict";t.a=function(e,t,o,r){const i=o-r;return!!(e[t]===e[i]&&e[t+1]===e[i+1]&&3<(o-t)/r)&&!!Object(a.a)(e,t,o,r)};var a=o(132)},function(e,t,o){"use strict";var a=o(0),r=o(101),i=o(102);const n=new r.a(a.a?"precision mediump float;\nvarying float v_round;\nvarying vec2 v_roundVertex;\nvarying float v_halfWidth;\n\n\n\nuniform float u_opacity;\nuniform vec4 u_color;\nuniform vec2 u_size;\nuniform float u_pixelRatio;\n\nvoid main(void) {\n  if (v_round > 0.0) {\n    vec2 windowCoords = vec2((v_roundVertex.x + 1.0) / 2.0 * u_size.x * u_pixelRatio,\n        (v_roundVertex.y + 1.0) / 2.0 * u_size.y * u_pixelRatio);\n    if (length(windowCoords - gl_FragCoord.xy) > v_halfWidth * u_pixelRatio) {\n      discard;\n    }\n  }\n  gl_FragColor = u_color;\n  float alpha = u_color.a * u_opacity;\n  if (alpha == 0.0) {\n    discard;\n  }\n  gl_FragColor.a = alpha;\n}\n":"precision mediump float;varying float a;varying vec2 aVertex;varying float c;uniform float m;uniform vec4 n;uniform vec2 o;uniform float p;void main(void){if(a>0.0){vec2 windowCoords=vec2((aVertex.x+1.0)/2.0*o.x*p,(aVertex.y+1.0)/2.0*o.y*p);if(length(windowCoords-gl_FragCoord.xy)>c*p){discard;}} gl_FragColor=n;float alpha=n.a*m;if(alpha==0.0){discard;}gl_FragColor.a=alpha;}");t.a=n;const s=new i.a(a.a?"varying float v_round;\nvarying vec2 v_roundVertex;\nvarying float v_halfWidth;\n\n\nattribute vec2 a_lastPos;\nattribute vec2 a_position;\nattribute vec2 a_nextPos;\nattribute float a_direction;\n\nuniform mat4 u_projectionMatrix;\nuniform mat4 u_offsetScaleMatrix;\nuniform mat4 u_offsetRotateMatrix;\nuniform float u_lineWidth;\nuniform float u_miterLimit;\n\nbool nearlyEquals(in float value, in float ref) {\n  float epsilon = 0.000000000001;\n  return value >= ref - epsilon && value <= ref + epsilon;\n}\n\nvoid alongNormal(out vec2 offset, in vec2 nextP, in float turnDir, in float direction) {\n  vec2 dirVect = nextP - a_position;\n  vec2 normal = normalize(vec2(-turnDir * dirVect.y, turnDir * dirVect.x));\n  offset = u_lineWidth / 2.0 * normal * direction;\n}\n\nvoid miterUp(out vec2 offset, out float round, in bool isRound, in float direction) {\n  float halfWidth = u_lineWidth / 2.0;\n  vec2 tangent = normalize(normalize(a_nextPos - a_position) + normalize(a_position - a_lastPos));\n  vec2 normal = vec2(-tangent.y, tangent.x);\n  vec2 dirVect = a_nextPos - a_position;\n  vec2 tmpNormal = normalize(vec2(-dirVect.y, dirVect.x));\n  float miterLength = abs(halfWidth / dot(normal, tmpNormal));\n  offset = normal * direction * miterLength;\n  round = 0.0;\n  if (isRound) {\n    round = 1.0;\n  } else if (miterLength > u_miterLimit + u_lineWidth) {\n    offset = halfWidth * tmpNormal * direction;\n  }\n}\n\nbool miterDown(out vec2 offset, in vec4 projPos, in mat4 offsetMatrix, in float direction) {\n  bool degenerate = false;\n  vec2 tangent = normalize(normalize(a_nextPos - a_position) + normalize(a_position - a_lastPos));\n  vec2 normal = vec2(-tangent.y, tangent.x);\n  vec2 dirVect = a_lastPos - a_position;\n  vec2 tmpNormal = normalize(vec2(-dirVect.y, dirVect.x));\n  vec2 longOffset, shortOffset, longVertex;\n  vec4 shortProjVertex;\n  float halfWidth = u_lineWidth / 2.0;\n  if (length(a_nextPos - a_position) > length(a_lastPos - a_position)) {\n    longOffset = tmpNormal * direction * halfWidth;\n    shortOffset = normalize(vec2(dirVect.y, -dirVect.x)) * direction * halfWidth;\n    longVertex = a_nextPos;\n    shortProjVertex = u_projectionMatrix * vec4(a_lastPos, 0.0, 1.0);\n  } else {\n    shortOffset = tmpNormal * direction * halfWidth;\n    longOffset = normalize(vec2(dirVect.y, -dirVect.x)) * direction * halfWidth;\n    longVertex = a_lastPos;\n    shortProjVertex = u_projectionMatrix * vec4(a_nextPos, 0.0, 1.0);\n  }\n  //Intersection algorithm based on theory by Paul Bourke (http://paulbourke.net/geometry/pointlineplane/).\n  vec4 p1 = u_projectionMatrix * vec4(longVertex, 0.0, 1.0) + offsetMatrix * vec4(longOffset, 0.0, 0.0);\n  vec4 p2 = projPos + offsetMatrix * vec4(longOffset, 0.0, 0.0);\n  vec4 p3 = shortProjVertex + offsetMatrix * vec4(-shortOffset, 0.0, 0.0);\n  vec4 p4 = shortProjVertex + offsetMatrix * vec4(shortOffset, 0.0, 0.0);\n  float denom = (p4.y - p3.y) * (p2.x - p1.x) - (p4.x - p3.x) * (p2.y - p1.y);\n  float firstU = ((p4.x - p3.x) * (p1.y - p3.y) - (p4.y - p3.y) * (p1.x - p3.x)) / denom;\n  float secondU = ((p2.x - p1.x) * (p1.y - p3.y) - (p2.y - p1.y) * (p1.x - p3.x)) / denom;\n  float epsilon = 0.000000000001;\n  if (firstU > epsilon && firstU < 1.0 - epsilon && secondU > epsilon && secondU < 1.0 - epsilon) {\n    shortProjVertex.x = p1.x + firstU * (p2.x - p1.x);\n    shortProjVertex.y = p1.y + firstU * (p2.y - p1.y);\n    offset = shortProjVertex.xy;\n    degenerate = true;\n  } else {\n    float miterLength = abs(halfWidth / dot(normal, tmpNormal));\n    offset = normal * direction * miterLength;\n  }\n  return degenerate;\n}\n\nvoid squareCap(out vec2 offset, out float round, in bool isRound, in vec2 nextP,\n    in float turnDir, in float direction) {\n  round = 0.0;\n  vec2 dirVect = a_position - nextP;\n  vec2 firstNormal = normalize(dirVect);\n  vec2 secondNormal = vec2(turnDir * firstNormal.y * direction, -turnDir * firstNormal.x * direction);\n  vec2 hypotenuse = normalize(firstNormal - secondNormal);\n  vec2 normal = vec2(turnDir * hypotenuse.y * direction, -turnDir * hypotenuse.x * direction);\n  float length = sqrt(v_halfWidth * v_halfWidth * 2.0);\n  offset = normal * length;\n  if (isRound) {\n    round = 1.0;\n  }\n}\n\nvoid main(void) {\n  bool degenerate = false;\n  float direction = float(sign(a_direction));\n  mat4 offsetMatrix = u_offsetScaleMatrix * u_offsetRotateMatrix;\n  vec2 offset;\n  vec4 projPos = u_projectionMatrix * vec4(a_position, 0.0, 1.0);\n  bool round = nearlyEquals(mod(a_direction, 2.0), 0.0);\n\n  v_round = 0.0;\n  v_halfWidth = u_lineWidth / 2.0;\n  v_roundVertex = projPos.xy;\n\n  if (nearlyEquals(mod(a_direction, 3.0), 0.0) || nearlyEquals(mod(a_direction, 17.0), 0.0)) {\n    alongNormal(offset, a_nextPos, 1.0, direction);\n  } else if (nearlyEquals(mod(a_direction, 5.0), 0.0) || nearlyEquals(mod(a_direction, 13.0), 0.0)) {\n    alongNormal(offset, a_lastPos, -1.0, direction);\n  } else if (nearlyEquals(mod(a_direction, 23.0), 0.0)) {\n    miterUp(offset, v_round, round, direction);\n  } else if (nearlyEquals(mod(a_direction, 19.0), 0.0)) {\n    degenerate = miterDown(offset, projPos, offsetMatrix, direction);\n  } else if (nearlyEquals(mod(a_direction, 7.0), 0.0)) {\n    squareCap(offset, v_round, round, a_nextPos, 1.0, direction);\n  } else if (nearlyEquals(mod(a_direction, 11.0), 0.0)) {\n    squareCap(offset, v_round, round, a_lastPos, -1.0, direction);\n  }\n  if (!degenerate) {\n    vec4 offsets = offsetMatrix * vec4(offset, 0.0, 0.0);\n    gl_Position = projPos + offsets;\n  } else {\n    gl_Position = vec4(offset, 0.0, 1.0);\n  }\n}\n\n\n":"varying float a;varying vec2 aVertex;varying float c;attribute vec2 d;attribute vec2 e;attribute vec2 f;attribute float g;uniform mat4 h;uniform mat4 i;uniform mat4 j;uniform float k;uniform float l;bool nearlyEquals(in float value,in float ref){float epsilon=0.000000000001;return value>=ref-epsilon&&value<=ref+epsilon;}void alongNormal(out vec2 offset,in vec2 nextP,in float turnDir,in float direction){vec2 dirVect=nextP-e;vec2 normal=normalize(vec2(-turnDir*dirVect.y,turnDir*dirVect.x));offset=k/2.0*normal*direction;}void miterUp(out vec2 offset,out float round,in bool isRound,in float direction){float halfWidth=k/2.0;vec2 tangent=normalize(normalize(f-e)+normalize(e-d));vec2 normal=vec2(-tangent.y,tangent.x);vec2 dirVect=f-e;vec2 tmpNormal=normalize(vec2(-dirVect.y,dirVect.x));float miterLength=abs(halfWidth/dot(normal,tmpNormal));offset=normal*direction*miterLength;round=0.0;if(isRound){round=1.0;}else if(miterLength>l+k){offset=halfWidth*tmpNormal*direction;}} bool miterDown(out vec2 offset,in vec4 projPos,in mat4 offsetMatrix,in float direction){bool degenerate=false;vec2 tangent=normalize(normalize(f-e)+normalize(e-d));vec2 normal=vec2(-tangent.y,tangent.x);vec2 dirVect=d-e;vec2 tmpNormal=normalize(vec2(-dirVect.y,dirVect.x));vec2 longOffset,shortOffset,longVertex;vec4 shortProjVertex;float halfWidth=k/2.0;if(length(f-e)>length(d-e)){longOffset=tmpNormal*direction*halfWidth;shortOffset=normalize(vec2(dirVect.y,-dirVect.x))*direction*halfWidth;longVertex=f;shortProjVertex=h*vec4(d,0.0,1.0);}else{shortOffset=tmpNormal*direction*halfWidth;longOffset=normalize(vec2(dirVect.y,-dirVect.x))*direction*halfWidth;longVertex=d;shortProjVertex=h*vec4(f,0.0,1.0);}vec4 p1=h*vec4(longVertex,0.0,1.0)+offsetMatrix*vec4(longOffset,0.0,0.0);vec4 p2=projPos+offsetMatrix*vec4(longOffset,0.0,0.0);vec4 p3=shortProjVertex+offsetMatrix*vec4(-shortOffset,0.0,0.0);vec4 p4=shortProjVertex+offsetMatrix*vec4(shortOffset,0.0,0.0);float denom=(p4.y-p3.y)*(p2.x-p1.x)-(p4.x-p3.x)*(p2.y-p1.y);float firstU=((p4.x-p3.x)*(p1.y-p3.y)-(p4.y-p3.y)*(p1.x-p3.x))/denom;float secondU=((p2.x-p1.x)*(p1.y-p3.y)-(p2.y-p1.y)*(p1.x-p3.x))/denom;float epsilon=0.000000000001;if(firstU>epsilon&&firstU<1.0-epsilon&&secondU>epsilon&&secondU<1.0-epsilon){shortProjVertex.x=p1.x+firstU*(p2.x-p1.x);shortProjVertex.y=p1.y+firstU*(p2.y-p1.y);offset=shortProjVertex.xy;degenerate=true;}else{float miterLength=abs(halfWidth/dot(normal,tmpNormal));offset=normal*direction*miterLength;}return degenerate;}void squareCap(out vec2 offset,out float round,in bool isRound,in vec2 nextP,in float turnDir,in float direction){round=0.0;vec2 dirVect=e-nextP;vec2 firstNormal=normalize(dirVect);vec2 secondNormal=vec2(turnDir*firstNormal.y*direction,-turnDir*firstNormal.x*direction);vec2 hypotenuse=normalize(firstNormal-secondNormal);vec2 normal=vec2(turnDir*hypotenuse.y*direction,-turnDir*hypotenuse.x*direction);float length=sqrt(c*c*2.0);offset=normal*length;if(isRound){round=1.0;}} void main(void){bool degenerate=false;float direction=float(sign(g));mat4 offsetMatrix=i*j;vec2 offset;vec4 projPos=h*vec4(e,0.0,1.0);bool round=nearlyEquals(mod(g,2.0),0.0);a=0.0;c=k/2.0;aVertex=projPos.xy;if(nearlyEquals(mod(g,3.0),0.0)||nearlyEquals(mod(g,17.0),0.0)){alongNormal(offset,f,1.0,direction);}else if(nearlyEquals(mod(g,5.0),0.0)||nearlyEquals(mod(g,13.0),0.0)){alongNormal(offset,d,-1.0,direction);}else if(nearlyEquals(mod(g,23.0),0.0)){miterUp(offset,a,round,direction);}else if(nearlyEquals(mod(g,19.0),0.0)){degenerate=miterDown(offset,projPos,offsetMatrix,direction);}else if(nearlyEquals(mod(g,7.0),0.0)){squareCap(offset,a,round,f,1.0,direction);}else if(nearlyEquals(mod(g,11.0),0.0)){squareCap(offset,a,round,d,-1.0,direction);}if(!degenerate){vec4 offsets=offsetMatrix*vec4(offset,0.0,0.0);gl_Position=projPos+offsets;}else{gl_Position=vec4(offset,0.0,1.0);}}");t.b=s},function(e,t,o){"use strict";var a=o(0);t.a=function(e,t){this.u_projectionMatrix=e.getUniformLocation(t,a.a?"u_projectionMatrix":"h"),this.u_offsetScaleMatrix=e.getUniformLocation(t,a.a?"u_offsetScaleMatrix":"i"),this.u_offsetRotateMatrix=e.getUniformLocation(t,a.a?"u_offsetRotateMatrix":"j"),this.u_lineWidth=e.getUniformLocation(t,a.a?"u_lineWidth":"k"),this.u_miterLimit=e.getUniformLocation(t,a.a?"u_miterLimit":"l"),this.u_opacity=e.getUniformLocation(t,a.a?"u_opacity":"m"),this.u_color=e.getUniformLocation(t,a.a?"u_color":"n"),this.u_size=e.getUniformLocation(t,a.a?"u_size":"o"),this.u_pixelRatio=e.getUniformLocation(t,a.a?"u_pixelRatio":"p"),this.a_lastPos=e.getAttribLocation(t,a.a?"a_lastPos":"d"),this.a_position=e.getAttribLocation(t,a.a?"a_position":"e"),this.a_nextPos=e.getAttribLocation(t,a.a?"a_nextPos":"f"),this.a_direction=e.getAttribLocation(t,a.a?"a_direction":"g")}},function(e,t,o){"use strict";var a=Math.min,r=Math.max,n=o(0),i=o(13),s=o(66),l=o(3),d=o(10),g=o(111),p=o(88),_=o(63),c=o(433),u=o(434),y=o(276),m=o(143),h=o(144),f=o(89),x=o(435),E=o(135),C=o(39),T=o(86);const S=function(e,t){m.a.call(this,e,t),this.lineStringReplay=new y.a(e,t),this.defaultLocations_=null,this.styles_=[],this.styleIndices_=[],this.state_={fillColor:null,changed:!1}};Object(n.g)(S,m.a),S.prototype.drawCoordinates_=function(e,t,o){const a=new x.a,r=new E.a;this.processFlatCoordinates_(e,o,a,r,!0);const n=this.getMaxCoords_(a);if(t.length){let e,i;const s=[];for(e=0,i=t.length;e<i;++e){const a={list:new x.a,maxCoords:void 0,rtree:new E.a};s.push(a),this.processFlatCoordinates_(t[e],o,a.list,a.rtree,!1),this.classifyPoints_(a.list,a.rtree,!0),a.maxCoords=this.getMaxCoords_(a.list)}for(s.sort(function(e,t){return t.maxCoords[0]===e.maxCoords[0]?e.maxCoords[1]-t.maxCoords[1]:t.maxCoords[0]-e.maxCoords[0]}),e=0;e<s.length;++e){const t=s[e].list,o=t.firstItem();let i=o,l;do{if(this.getIntersections_(i,r).length){l=!0;break}i=t.nextItem()}while(o!==i);!l&&this.bridgeHole_(t,s[e].maxCoords[0],a,n[0],r)&&(r.concat(s[e].rtree),this.classifyPoints_(a,r,!1))}}else this.classifyPoints_(a,r,!1);this.triangulate_(a,r)},S.prototype.processFlatCoordinates_=function(e,t,o,s,l){const d=Object(p.a)(e,0,e.length,t);let g=this.vertices.length/2,n,i,_,c,u;const y=[],m=[];if(l===d){for(_=this.createPoint_(e[0],e[1],g++),c=_,(n=t,i=e.length);n<i;n+=t)u=this.createPoint_(e[n],e[n+1],g++),m.push(this.insertItem_(c,u,o)),y.push([a(c.x,u.x),a(c.y,u.y),r(c.x,u.x),r(c.y,u.y)]),c=u;m.push(this.insertItem_(u,_,o)),y.push([a(c.x,u.x),a(c.y,u.y),r(c.x,u.x),r(c.y,u.y)])}else{const s=e.length-t;for(_=this.createPoint_(e[s],e[s+1],g++),c=_,(n=s-t,i=0);n>=i;n-=t)u=this.createPoint_(e[n],e[n+1],g++),m.push(this.insertItem_(c,u,o)),y.push([a(c.x,u.x),a(c.y,u.y),r(c.x,u.x),r(c.y,u.y)]),c=u;m.push(this.insertItem_(u,_,o)),y.push([a(c.x,u.x),a(c.y,u.y),r(c.x,u.x),r(c.y,u.y)])}s.load(y,m)},S.prototype.getMaxCoords_=function(e){const t=e.firstItem();let o=t,a=[o.p0.x,o.p0.y];do o=e.nextItem(),o.p0.x>a[0]&&(a=[o.p0.x,o.p0.y]);while(o!==t);return a},S.prototype.classifyPoints_=function(e,t,o){let a=e.firstItem(),r=a,i=e.nextItem(),n=!1;do{const s=o?Object(h.m)(i.p1.x,i.p1.y,r.p1.x,r.p1.y,r.p0.x,r.p0.y):Object(h.m)(r.p0.x,r.p0.y,r.p1.x,r.p1.y,i.p1.x,i.p1.y);s===void 0?(this.removeItem_(r,i,e,t),n=!0,i===a&&(a=e.getNextItem()),i=r,e.prevItem()):r.p1.reflex!==s&&(r.p1.reflex=s,n=!0),r=i,i=e.nextItem()}while(r!==a);return n},S.prototype.bridgeHole_=function(e,t,o,a,r){let n=e.firstItem();for(;n.p1.x!==t;)n=e.nextItem();const s=n.p1,l={x:a,y:s.y,i:-1};let d=Infinity,p,i,g,_;const c=this.getIntersections_({p0:s,p1:l},r,!0);for(p=0,i=c.length;p<i;++p){const e=c[p],t=this.calculateIntersection_(s,l,e.p0,e.p1,!0),o=Math.abs(s.x-t[0]);o<d&&void 0!==Object(h.m)(s.x,s.y,e.p0.x,e.p0.y,e.p1.x,e.p1.y)&&(d=o,_={x:t[0],y:t[1],i:-1},n=e)}if(d===Infinity)return!1;if(g=n.p1,0<d){const e=this.getPointsInTriangle_(s,_,n.p1,r);if(e.length){let t=Infinity;for(p=0,i=e.length;p<i;++p){const o=e[p],a=Math.atan2(s.y-o.y,l.x-o.x);(a<t||a===t&&o.x<g.x)&&(t=a,g=o)}}}for(n=o.firstItem();n.p1.x!==g.x||n.p1.y!==g.y;)n=o.nextItem();const u={x:s.x,y:s.y,i:s.i,reflex:void 0},y={x:n.p1.x,y:n.p1.y,i:n.p1.i,reflex:void 0};return e.getNextItem().p0=u,this.insertItem_(s,n.p1,e,r),this.insertItem_(y,u,e,r),n.p1=y,e.setFirstItem(),o.concat(e),!0},S.prototype.triangulate_=function(e,t){for(let o=!1,a=this.isSimple_(e,t);3<e.getLength();)if(a){if(!this.clipEars_(e,t,a,o)&&!this.classifyPoints_(e,t,o)&&!this.resolveSelfIntersections_(e,t,!0))break;}else if(!this.clipEars_(e,t,a,o)&&!this.classifyPoints_(e,t,o)&&!this.resolveSelfIntersections_(e,t))if(a=this.isSimple_(e,t),!a){this.splitPolygon_(e,t);break}else o=!this.isClockwise_(e),this.classifyPoints_(e,t,o);if(3===e.getLength()){let t=this.indices.length;this.indices[t++]=e.getPrevItem().p0.i,this.indices[t++]=e.getCurrItem().p0.i,this.indices[t++]=e.getNextItem().p0.i}},S.prototype.clipEars_=function(e,t,o,a){let r=this.indices.length,i=e.firstItem(),n=e.getPrevItem(),s=i,l=e.nextItem(),d=e.getNextItem(),g=!1,_,c,u;do{if(_=s.p0,c=s.p1,u=l.p1,!1===c.reflex){let y;y=o?0===this.getPointsInTriangle_(_,c,u,t,!0).length:a?this.diagonalIsInside_(d.p1,u,c,_,n.p0):this.diagonalIsInside_(n.p0,_,c,u,d.p1),(o||0===this.getIntersections_({p0:_,p1:u},t).length)&&y&&(o||!1===_.reflex||!1===u.reflex||Object(p.a)([n.p0.x,n.p0.y,_.x,_.y,c.x,c.y,u.x,u.y,d.p1.x,d.p1.y],0,10,2)===!a)&&(this.indices[r++]=_.i,this.indices[r++]=c.i,this.indices[r++]=u.i,this.removeItem_(s,l,e,t),l===i&&(i=d),g=!0)}n=e.getPrevItem(),s=e.getCurrItem(),l=e.nextItem(),d=e.getNextItem()}while(s!==i&&3<e.getLength());return g},S.prototype.resolveSelfIntersections_=function(e,t,o){const i=e.firstItem();e.nextItem();let n=i,s=e.nextItem(),l=!1;do{const d=this.calculateIntersection_(n.p0,n.p1,s.p0,s.p1,o);if(d){let g=!1;const _=this.vertices.length;let c=this.indices.length;const u=e.prevItem();e.removeItem(),t.remove(u),g=u===i;let y;if(o?(d[0]===n.p0.x&&d[1]===n.p0.y?(e.prevItem(),y=n.p0,s.p0=y,t.remove(n),g=g||n===i):(y=s.p1,n.p1=y,t.remove(s),g=g||s===i),e.removeItem()):(y=this.createPoint_(d[0],d[1],_/2),n.p1=y,s.p0=y,t.update([a(n.p0.x,n.p1.x),a(n.p0.y,n.p1.y),r(n.p0.x,n.p1.x),r(n.p0.y,n.p1.y)],n),t.update([a(s.p0.x,s.p1.x),a(s.p0.y,s.p1.y),r(s.p0.x,s.p1.x),r(s.p0.y,s.p1.y)],s)),this.indices[c++]=u.p0.i,this.indices[c++]=u.p1.i,this.indices[c++]=y.i,l=!0,g)break}n=e.getPrevItem(),s=e.nextItem()}while(n!==i);return l},S.prototype.isSimple_=function(e,t){const o=e.firstItem();let a=o;do{if(this.getIntersections_(a,t).length)return!1;a=e.nextItem()}while(a!==o);return!0},S.prototype.isClockwise_=function(e){const t=2*e.getLength(),o=Array(t),a=e.firstItem();let r=a,n=0;do o[n++]=r.p0.x,o[n++]=r.p0.y,r=e.nextItem();while(r!==a);return Object(p.a)(o,0,t,2)},S.prototype.splitPolygon_=function(e,t){const o=e.firstItem();let i=o;do{const o=this.getIntersections_(i,t);if(o.length){const s=o[0],l=this.vertices.length/2,n=this.calculateIntersection_(i.p0,i.p1,s.p0,s.p1),d=this.createPoint_(n[0],n[1],l),p=new x.a,g=new E.a;this.insertItem_(d,i.p1,p,g),i.p1=d,t.update([a(i.p0.x,d.x),a(i.p0.y,d.y),r(i.p0.x,d.x),r(i.p0.y,d.y)],i);for(let o=e.nextItem();o!==s;)this.insertItem_(o.p0,o.p1,p,g),t.remove(o),e.removeItem(),o=e.getCurrItem();this.insertItem_(s.p0,d,p,g),s.p0=d,t.update([a(s.p1.x,d.x),a(s.p1.y,d.y),r(s.p1.x,d.x),r(s.p1.y,d.y)],s),this.classifyPoints_(e,t,!1),this.triangulate_(e,t),this.classifyPoints_(p,g,!1),this.triangulate_(p,g);break}i=e.nextItem()}while(i!==o)},S.prototype.createPoint_=function(e,t,o){let a=this.vertices.length;this.vertices[a++]=e,this.vertices[a++]=t;return{x:e,y:t,i:o,reflex:void 0}},S.prototype.insertItem_=function(e,t,o,i){const n={p0:e,p1:t};return o.insertItem(n),i&&i.insert([a(e.x,t.x),a(e.y,t.y),r(e.x,t.x),r(e.y,t.y)],n),n},S.prototype.removeItem_=function(e,t,o,i){o.getCurrItem()===t&&(o.removeItem(),e.p1=t.p1,i.remove(t),i.update([a(e.p0.x,e.p1.x),a(e.p0.y,e.p1.y),r(e.p0.x,e.p1.x),r(e.p0.y,e.p1.y)],e))},S.prototype.getPointsInTriangle_=function(e,t,o,i,n){const s=[],l=i.getInExtent([a(e.x,t.x,o.x),a(e.y,t.y,o.y),r(e.x,t.x,o.x),r(e.y,t.y,o.y)]);for(let a=0,r=l.length;a<r;++a)for(const r in l[a]){const i=l[a][r];"object"==typeof i&&(!n||i.reflex)&&(i.x!==e.x||i.y!==e.y)&&(i.x!==t.x||i.y!==t.y)&&(i.x!==o.x||i.y!==o.y)&&-1===s.indexOf(i)&&Object(g.b)([e.x,e.y,t.x,t.y,o.x,o.y],0,6,2,i.x,i.y)&&s.push(i)}return s},S.prototype.getIntersections_=function(e,t,o){const n=e.p0,s=e.p1,l=t.getInExtent([a(n.x,s.x),a(n.y,s.y),r(n.x,s.x),r(n.y,s.y)]),d=[];for(let a=0,r=l.length;a<r;++a){const t=l[a];e!==t&&(o||t.p0!==s||t.p1!==n)&&this.calculateIntersection_(n,s,t.p0,t.p1,o)&&d.push(t)}return d},S.prototype.calculateIntersection_=function(e,t,o,a,r){const i=(a.y-o.y)*(t.x-e.x)-(a.x-o.x)*(t.y-e.y);if(0!=i){const n=((a.x-o.x)*(e.y-o.y)-(a.y-o.y)*(e.x-o.x))/i,s=((t.x-e.x)*(e.y-o.y)-(t.y-e.y)*(e.x-o.x))/i;if(!r&&n>h.l&&n<1-h.l&&s>h.l&&s<1-h.l||r&&0<=n&&1>=n&&0<=s&&1>=s)return[e.x+n*(t.x-e.x),e.y+n*(t.y-e.y)]}},S.prototype.diagonalIsInside_=function(e,t,o,a,r){if(t.reflex===void 0||a.reflex===void 0)return!1;const i=(o.x-a.x)*(t.y-a.y)>(o.y-a.y)*(t.x-a.x),n=(r.x-a.x)*(t.y-a.y)<(r.y-a.y)*(t.x-a.x),s=(e.x-t.x)*(a.y-t.y)>(e.y-t.y)*(a.x-t.x),l=(o.x-t.x)*(a.y-t.y)<(o.y-t.y)*(a.x-t.x),d=a.reflex?n||i:n&&i,p=t.reflex?l||s:l&&s;return d&&p},S.prototype.drawMultiPolygon=function(e,t){const o=e.getEndss(),a=e.getStride(),r=this.indices.length,n=this.lineStringReplay.getCurrentIndex(),s=e.getFlatCoordinates();let l=0,d,i,p,g;for(d=0,i=o.length;d<i;++d){const e=o[d];if(0<e.length){const t=Object(_.d)(s,l,e[0],a,-this.origin[0],-this.origin[1]);if(t.length){const o=[];let r;for(p=1,g=e.length;p<g;++p)e[p]!==e[p-1]&&(r=Object(_.d)(s,e[p-1],e[p],a,-this.origin[0],-this.origin[1]),o.push(r));this.lineStringReplay.drawPolygonCoordinates(t,o,a),this.drawCoordinates_(t,o,a)}}l=e[e.length-1]}this.indices.length>r&&(this.startIndices.push(r),this.startIndicesFeature.push(t),this.state_.changed&&(this.styleIndices_.push(r),this.state_.changed=!1)),this.lineStringReplay.getCurrentIndex()>n&&this.lineStringReplay.setPolygonStyle(t,n)},S.prototype.drawPolygon=function(e,t){const o=e.getEnds(),a=e.getStride();if(0<o.length){const r=e.getFlatCoordinates().map(Number),n=Object(_.d)(r,0,o[0],a,-this.origin[0],-this.origin[1]);if(n.length){const e=[];let s,i,l;for(s=1,i=o.length;s<i;++s)o[s]!==o[s-1]&&(l=Object(_.d)(r,o[s-1],o[s],a,-this.origin[0],-this.origin[1]),e.push(l));this.startIndices.push(this.indices.length),this.startIndicesFeature.push(t),this.state_.changed&&(this.styleIndices_.push(this.indices.length),this.state_.changed=!1),this.lineStringReplay.setPolygonStyle(t),this.lineStringReplay.drawPolygonCoordinates(n,e,a),this.drawCoordinates_(n,e,a)}}},S.prototype.finish=function(e){this.verticesBuffer=new T.a(this.vertices),this.indicesBuffer=new T.a(this.indices),this.startIndices.push(this.indices.length),this.lineStringReplay.finish(e),0===this.styleIndices_.length&&0<this.styles_.length&&(this.styles_=[]),this.vertices=null,this.indices=null},S.prototype.getDeleteResourcesFunction=function(e){const t=this.verticesBuffer,o=this.indicesBuffer,a=this.lineStringReplay.getDeleteResourcesFunction(e);return function(){e.deleteBuffer(t),e.deleteBuffer(o),a()}},S.prototype.setUpProgram=function(e,t){const o=t.getProgram(c.a,c.b);let a;return this.defaultLocations_?a=this.defaultLocations_:(a=new u.a(e,o),this.defaultLocations_=a),t.useProgram(o),e.enableVertexAttribArray(a.a_position),e.vertexAttribPointer(a.a_position,2,C.j,!1,8,0),a},S.prototype.shutDownProgram=function(e,t){e.disableVertexAttribArray(t.a_position)},S.prototype.drawReplay=function(e,t,o,a){const r=e.getParameter(e.DEPTH_FUNC),i=e.getParameter(e.DEPTH_WRITEMASK);if(a||(e.enable(e.DEPTH_TEST),e.depthMask(!0),e.depthFunc(e.NOTEQUAL)),!Object(d.d)(o))this.drawReplaySkipping_(e,t,o);else{let o,a,r,i;for(r=this.startIndices[this.startIndices.length-1],o=this.styleIndices_.length-1;0<=o;--o)a=this.styleIndices_[o],i=this.styles_[o],this.setFillStyle_(e,i),this.drawElements(e,t,a,r),r=a}a||(e.disable(e.DEPTH_TEST),e.clear(e.DEPTH_BUFFER_BIT),e.depthMask(i),e.depthFunc(r))},S.prototype.drawHitDetectionReplayOneByOne=function(e,t,o,a,r){let s,i,d,p,g,_,c,u;for(u=this.startIndices.length-2,d=this.startIndices[u+1],s=this.styleIndices_.length-1;0<=s;--s)for(p=this.styles_[s],this.setFillStyle_(e,p),g=this.styleIndices_[s];0<=u&&this.startIndices[u]>=g;){if(i=this.startIndices[u],_=this.startIndicesFeature[u],c=Object(n.f)(_).toString(),void 0===o[c]&&_.getGeometry()&&(void 0===r||Object(l.F)(r,_.getGeometry().getExtent()))){e.clear(e.COLOR_BUFFER_BIT|e.DEPTH_BUFFER_BIT),this.drawElements(e,t,i,d);const o=a(_);if(o)return o}u--,d=i}},S.prototype.drawReplaySkipping_=function(e,t,o){let a,r,i,s,l,d,p,g,_;for(g=this.startIndices.length-2,i=r=this.startIndices[g+1],a=this.styleIndices_.length-1;0<=a;--a){for(s=this.styles_[a],this.setFillStyle_(e,s),l=this.styleIndices_[a];0<=g&&this.startIndices[g]>=l;)_=this.startIndices[g],d=this.startIndicesFeature[g],p=Object(n.f)(d).toString(),o[p]&&(r!==i&&(this.drawElements(e,t,r,i),e.clear(e.DEPTH_BUFFER_BIT)),i=_),g--,r=_;r!==i&&(this.drawElements(e,t,r,i),e.clear(e.DEPTH_BUFFER_BIT)),r=i=l}},S.prototype.setFillStyle_=function(e,t){e.uniform4fv(this.defaultLocations_.u_color,t)},S.prototype.setFillStrokeStyle=function(e,t){let o=e?e.getColor():[0,0,0,0];if(o=o instanceof CanvasGradient||o instanceof CanvasPattern?h.a:Object(s.a)(o).map(function(e,t){return 3==t?e:e/255})||h.a,this.state_.fillColor&&Object(i.b)(o,this.state_.fillColor)||(this.state_.fillColor=o,this.state_.changed=!0,this.styles_.push(o)),t)this.lineStringReplay.setFillStrokeStyle(null,t);else{const e=new f.a({color:[0,0,0,0],lineWidth:0});this.lineStringReplay.setFillStrokeStyle(null,e)}},t.a=S},function(e,t,o){"use strict";var a=o(0),r=o(101),i=o(102);const n=new r.a(a.a?"precision mediump float;\n\n\n\nuniform vec4 u_color;\nuniform float u_opacity;\n\nvoid main(void) {\n  gl_FragColor = u_color;\n  float alpha = u_color.a * u_opacity;\n  if (alpha == 0.0) {\n    discard;\n  }\n  gl_FragColor.a = alpha;\n}\n":"precision mediump float;uniform vec4 e;uniform float f;void main(void){gl_FragColor=e;float alpha=e.a*f;if(alpha==0.0){discard;}gl_FragColor.a=alpha;}");t.a=n;const s=new i.a(a.a?"\n\nattribute vec2 a_position;\n\nuniform mat4 u_projectionMatrix;\nuniform mat4 u_offsetScaleMatrix;\nuniform mat4 u_offsetRotateMatrix;\n\nvoid main(void) {\n  gl_Position = u_projectionMatrix * vec4(a_position, 0.0, 1.0);\n}\n\n\n":"attribute vec2 a;uniform mat4 b;uniform mat4 c;uniform mat4 d;void main(void){gl_Position=b*vec4(a,0.0,1.0);}");t.b=s},function(e,t,o){"use strict";var a=o(0);t.a=function(e,t){this.u_projectionMatrix=e.getUniformLocation(t,a.a?"u_projectionMatrix":"b"),this.u_offsetScaleMatrix=e.getUniformLocation(t,a.a?"u_offsetScaleMatrix":"c"),this.u_offsetRotateMatrix=e.getUniformLocation(t,a.a?"u_offsetRotateMatrix":"d"),this.u_color=e.getUniformLocation(t,a.a?"u_color":"e"),this.u_opacity=e.getUniformLocation(t,a.a?"u_opacity":"f"),this.a_position=e.getAttribLocation(t,a.a?"a_position":"a")}},function(e,t){"use strict";const o=function(e){this.first_,this.last_,this.head_,this.circular_=!(e!==void 0)||e,this.length_=0};o.prototype.insertItem=function(e){const t={prev:void 0,next:void 0,data:e},o=this.head_;if(!o)this.first_=t,this.last_=t,this.circular_&&(t.next=t,t.prev=t);else{const e=o.next;t.prev=o,t.next=e,o.next=t,e&&(e.prev=t),o===this.last_&&(this.last_=t)}this.head_=t,this.length_++},o.prototype.removeItem=function(){const e=this.head_;if(e){const t=e.next,o=e.prev;t&&(t.prev=o),o&&(o.next=t),this.head_=t||o,this.first_===this.last_?(this.head_=void 0,this.first_=void 0,this.last_=void 0):this.first_===e?this.first_=this.head_:this.last_===e&&(this.last_=o?this.head_.prev:this.head_),this.length_--}},o.prototype.firstItem=function(){return this.head_=this.first_,this.head_?this.head_.data:void 0},o.prototype.lastItem=function(){return this.head_=this.last_,this.head_?this.head_.data:void 0},o.prototype.nextItem=function(){return this.head_&&this.head_.next?(this.head_=this.head_.next,this.head_.data):void 0},o.prototype.getNextItem=function(){return this.head_&&this.head_.next?this.head_.next.data:void 0},o.prototype.prevItem=function(){return this.head_&&this.head_.prev?(this.head_=this.head_.prev,this.head_.data):void 0},o.prototype.getPrevItem=function(){return this.head_&&this.head_.prev?this.head_.prev.data:void 0},o.prototype.getCurrItem=function(){return this.head_?this.head_.data:void 0},o.prototype.setFirstItem=function(){this.circular_&&this.head_&&(this.first_=this.head_,this.last_=this.head_.prev)},o.prototype.concat=function(e){if(e.head_){if(this.head_){const t=this.head_.next;this.head_.next=e.first_,e.first_.prev=this.head_,t.prev=e.last_,e.last_.next=t,this.length_+=e.length_}else this.head_=e.head_,this.first_=e.first_,this.last_=e.last_,this.length_=e.length_;e.head_=void 0,e.first_=void 0,e.last_=void 0,e.length_=0}},o.prototype.getLength=function(){return this.length_},t.a=o},function(e,t,o){"use strict";var a=Math.round,r=Math.ceil,i=o(0),n=o(112),s=o(23),l=o(22),d=o(37),p=o(91),g=o(144),_=o(274),c=o(257),u=o(86);const y=function(e,t){_.a.call(this,e,t),this.images_=[],this.textures_=[],this.measureCanvas_=Object(s.a)(0,0).canvas,this.state_={strokeColor:null,lineCap:void 0,lineDash:null,lineDashOffset:void 0,lineJoin:void 0,lineWidth:0,miterLimit:void 0,fillColor:null,font:void 0,scale:void 0},this.text_="",this.textAlign_=void 0,this.textBaseline_=void 0,this.offsetX_=void 0,this.offsetY_=void 0,this.atlases_={},this.currAtlas_=void 0,this.scale=1,this.opacity=1};Object(i.g)(y,_.a),y.prototype.drawText=function(e,t){if(this.text_){let o=null;let r=2,n=2;switch(e.getType()){case l.a.POINT:case l.a.MULTI_POINT:o=e.getFlatCoordinates(),r=o.length,n=e.getStride();break;case l.a.CIRCLE:o=e.getCenter();break;case l.a.LINE_STRING:o=e.getFlatMidpoint();break;case l.a.MULTI_LINE_STRING:o=e.getFlatMidpoints(),r=o.length;break;case l.a.POLYGON:o=e.getFlatInteriorPoint();break;case l.a.MULTI_POLYGON:o=e.getFlatInteriorPoints(),r=o.length;break;default:}this.startIndices.push(this.indices.length),this.startIndicesFeature.push(t);const s=this.currAtlas_,d=this.text_.split("\n"),p=this.getTextSize_(d);let g,_,c,u,y,m,h,f;const x=a(p[0]*this.textAlign_-this.offsetX_),E=a(p[1]*this.textBaseline_-this.offsetY_),C=this.state_.lineWidth/2*this.state_.scale;for(g=0,_=d.length;g<_;++g)for(y=0,m=s.height*g,h=d[g].split(""),(c=0,u=h.length);c<u;++c){if(f=s.atlas.getInfo(h[c]),f){const e=f.image;if(this.anchorX=x-y,this.anchorY=E-m,this.originX=0===c?f.offsetX-C:f.offsetX,this.originY=f.offsetY,this.height=s.height,this.width=0===c||c===h.length-1?s.width[h[c]]+C:s.width[h[c]],this.imageHeight=e.height,this.imageWidth=e.width,0===this.images_.length)this.images_.push(e);else{const t=this.images_[this.images_.length-1];Object(i.f)(t)!=Object(i.f)(e)&&(this.groupIndices.push(this.indices.length),this.images_.push(e))}this.drawText_(o,0,r,n)}y+=this.width}}},y.prototype.getTextSize_=function(e){const t=this,o=this.currAtlas_,a=e.length*o.height,r=e.map(function(e){let a=0;for(let r=0,i=e.length;r<i;++r){const i=e[r];o.width[i]||t.addCharToAtlas_(i),a+=o.width[i]?o.width[i]:0}return a}).reduce(function(e,t){return Math.max(e,t)});return[r,a]},y.prototype.drawText_=function(e,t,o,a){for(let r=t;r<o;r+=a)this.drawCoordinates(e,t,o,a)},y.prototype.addCharToAtlas_=function(e){if(1===e.length){const t=this.currAtlas_,o=this.state_,a=this.measureCanvas_.getContext("2d");a.font=o.font;const i=r(a.measureText(e).width*o.scale),n=t.atlas.add(e,i,t.height,function(t,a,r){t.font=o.font,t.fillStyle=o.fillColor,t.strokeStyle=o.strokeColor,t.lineWidth=o.lineWidth,t.lineCap=o.lineCap,t.lineJoin=o.lineJoin,t.miterLimit=o.miterLimit,t.textAlign="left",t.textBaseline="top",d.a&&o.lineDash&&(t.setLineDash(o.lineDash),t.lineDashOffset=o.lineDashOffset),1!==o.scale&&t.setTransform(o.scale,0,0,o.scale,0,0),o.strokeColor&&t.strokeText(e,a,r),o.fillColor&&t.fillText(e,a,r)});n&&(t.width[e]=i)}},y.prototype.finish=function(e){const t=e.getGL();this.groupIndices.push(this.indices.length),this.hitDetectionGroupIndices=this.groupIndices,this.verticesBuffer=new u.a(this.vertices),this.indicesBuffer=new u.a(this.indices);this.createTextures(this.textures_,this.images_,{},t),this.state_={strokeColor:null,lineCap:void 0,lineDash:null,lineDashOffset:void 0,lineJoin:void 0,lineWidth:0,miterLimit:void 0,fillColor:null,font:void 0,scale:void 0},this.text_="",this.textAlign_=void 0,this.textBaseline_=void 0,this.offsetX_=void 0,this.offsetY_=void 0,this.images_=null,this.atlases_={},this.currAtlas_=void 0,_.a.prototype.finish.call(this,e)},y.prototype.setTextStyle=function(e){const t=this.state_,o=e.getFill(),a=e.getStroke();if(!e||!e.getText()||!o&&!a)this.text_="";else{if(!o)t.fillColor=null;else{const e=o.getColor();t.fillColor=Object(n.a)(e?e:g.a)}if(!a)t.strokeColor=null,t.lineWidth=0;else{const e=a.getColor();t.strokeColor=Object(n.a)(e?e:g.i),t.lineWidth=a.getWidth()||g.g,t.lineCap=a.getLineCap()||g.c,t.lineDashOffset=a.getLineDashOffset()||g.e,t.lineJoin=a.getLineJoin()||g.f,t.miterLimit=a.getMiterLimit()||g.h;const o=a.getLineDash();t.lineDash=o?o.slice():g.d}t.font=e.getFont()||g.b,t.scale=e.getScale()||1,this.text_=e.getText();const r=p.b[e.getTextAlign()],i=p.b[e.getTextBaseline()];this.textAlign_=r===void 0?g.j:r,this.textBaseline_=i===void 0?g.k:i,this.offsetX_=e.getOffsetX()||0,this.offsetY_=e.getOffsetY()||0,this.rotateWithView=!!e.getRotateWithView(),this.rotation=e.getRotation()||0,this.currAtlas_=this.getAtlas_(t)}},y.prototype.getAtlas_=function(e){let t=[];for(const o in e)(e[o]||0===e[o])&&(Array.isArray(e[o])?t=t.concat(e[o]):t.push(e[o]));const o=this.calculateHash_(t);if(!this.atlases_[o]){const t=this.measureCanvas_.getContext("2d");t.font=e.font;const a=r((1.5*t.measureText("M").width+e.lineWidth/2)*e.scale);this.atlases_[o]={atlas:new c.a({space:e.lineWidth+1}),width:{},height:a}}return this.atlases_[o]},y.prototype.calculateHash_=function(e){let t="";for(let o=0,a=e.length;o<a;++o)t+=e[o];return t},y.prototype.getTextures=function(){return this.textures_},y.prototype.getHitDetectionTextures=function(){return this.textures_},t.a=y},function(e,t,o){"use strict";var a=o(0),r=o(101),i=o(102);const n=new r.a(a.a?"precision mediump float;\nvarying vec2 v_texCoord;\n\n\nuniform float u_opacity;\nuniform sampler2D u_texture;\n\nvoid main(void) {\n  vec4 texColor = texture2D(u_texture, v_texCoord);\n  gl_FragColor.rgb = texColor.rgb;\n  gl_FragColor.a = texColor.a * u_opacity;\n}\n":"precision mediump float;varying vec2 a;uniform float f;uniform sampler2D g;void main(void){vec4 texColor=texture2D(g,a);gl_FragColor.rgb=texColor.rgb;gl_FragColor.a=texColor.a*f;}");t.a=n;const s=new i.a(a.a?"varying vec2 v_texCoord;\n\n\nattribute vec2 a_position;\nattribute vec2 a_texCoord;\n\nuniform mat4 u_texCoordMatrix;\nuniform mat4 u_projectionMatrix;\n\nvoid main(void) {\n  gl_Position = u_projectionMatrix * vec4(a_position, 0., 1.);\n  v_texCoord = (u_texCoordMatrix * vec4(a_texCoord, 0., 1.)).st;\n}\n\n\n":"varying vec2 a;attribute vec2 b;attribute vec2 c;uniform mat4 d;uniform mat4 e;void main(void){gl_Position=e*vec4(b,0.,1.);a=(d*vec4(c,0.,1.)).st;}");t.b=s},function(e,t,o){"use strict";var a=o(0);t.a=function(e,t){this.u_texCoordMatrix=e.getUniformLocation(t,a.a?"u_texCoordMatrix":"d"),this.u_projectionMatrix=e.getUniformLocation(t,a.a?"u_projectionMatrix":"e"),this.u_opacity=e.getUniformLocation(t,a.a?"u_opacity":"f"),this.u_texture=e.getUniformLocation(t,a.a?"u_texture":"g"),this.a_position=e.getAttribLocation(t,a.a?"a_position":"b"),this.a_texCoord=e.getAttribLocation(t,a.a?"a_texCoord":"c")}},function(e,t,o){"use strict";var a=o(0),r=o(13),i=o(46),n=o(23),s=o(8),l=o(74),d=o(136),p=o(75),g=o(270),_=o(237),c=o(45),u=o(160),y=o(155),m=o(39),h=o(145),f=o(275);const x=1024,E=function(e){_.a.call(this,e);const t=e.getViewport();this.canvas_=document.createElement("CANVAS"),this.canvas_.style.width="100%",this.canvas_.style.height="100%",this.canvas_.style.display="block",this.canvas_.className=i.e,t.insertBefore(this.canvas_,t.childNodes[0]||null),this.clipTileCanvasWidth_=0,this.clipTileCanvasHeight_=0,this.clipTileContext_=Object(n.a)(),this.renderedVisible_=!0,this.gl_=Object(m.H)(this.canvas_,{antialias:!0,depth:!0,failIfMajorPerformanceCaveat:!0,preserveDrawingBuffer:!1,stencil:!0}),this.context_=new h.c(this.canvas_,this.gl_),Object(s.a)(this.canvas_,f.a.LOST,this.handleWebGLContextLost,this),Object(s.a)(this.canvas_,f.a.RESTORED,this.handleWebGLContextRestored,this),this.textureCache_=new u.a,this.focus_=null,this.tileTextureQueue_=new y.b(function(e){const t=e[1],o=e[2],a=t[0]-this.focus_[0],r=t[1]-this.focus_[1];return 65536*Math.log(o)+Math.sqrt(a*a+r*r)/o}.bind(this),function(e){return e[0].getKey()}),this.loadNextTileTexture_=function(){if(!this.tileTextureQueue_.isEmpty()){this.tileTextureQueue_.reprioritize();const e=this.tileTextureQueue_.dequeue(),t=e[0],o=e[3],a=e[4];this.bindTileTexture(t,o,a,m.m,m.m)}return!1}.bind(this),this.textureCacheFrameMarkerCount_=0,this.initializeGL_()};Object(a.g)(E,_.a),E.prototype.bindTileTexture=function(e,t,o,a,r){const i=this.getGL(),n=e.getKey();if(this.textureCache_.containsKey(n)){const e=this.textureCache_.get(n);i.bindTexture(m.w,e.texture),e.magFilter!=a&&(i.texParameteri(m.w,m.x,a),e.magFilter=a),e.minFilter!=r&&(i.texParameteri(m.w,m.y,r),e.minFilter=r)}else{const s=i.createTexture();if(i.bindTexture(m.w,s),0<o){const a=this.clipTileContext_.canvas,r=this.clipTileContext_;this.clipTileCanvasWidth_!==t[0]||this.clipTileCanvasHeight_!==t[1]?(a.width=t[0],a.height=t[1],this.clipTileCanvasWidth_=t[0],this.clipTileCanvasHeight_=t[1]):r.clearRect(0,0,t[0],t[1]),r.drawImage(e.getImage(),o,o,t[0],t[1],0,0,t[0],t[1]),i.texImage2D(m.w,0,m.p,m.p,m.D,a)}else i.texImage2D(m.w,0,m.p,m.p,m.D,e.getImage());i.texParameteri(m.w,m.x,a),i.texParameteri(m.w,m.y,r),i.texParameteri(m.w,m.z,m.c),i.texParameteri(m.w,m.A,m.c),this.textureCache_.set(n,{texture:s,magFilter:a,minFilter:r})}},E.prototype.dispatchComposeEvent_=function(e,t){const o=this.getMap();if(o.hasListener(e)){const a=this.context_,r=t.extent,i=t.size,n=t.viewState,s=t.pixelRatio,l=n.resolution,p=n.center,_=n.rotation,c=new g.a(a,p,l,_,i,r,s),u=new d.a(e,c,t,null,a);o.dispatchEvent(u)}},E.prototype.disposeInternal=function(){const e=this.getGL();e.isContextLost()||this.textureCache_.forEach(function(t){t&&e.deleteTexture(t.texture)}),this.context_.dispose(),_.a.prototype.disposeInternal.call(this)},E.prototype.expireCache_=function(e,t){const o=this.getGL();for(let a;this.textureCache_.getCount()-this.textureCacheFrameMarkerCount_>x;){if(a=this.textureCache_.peekLast(),!!a)o.deleteTexture(a.texture);else if(+this.textureCache_.peekLastKey()==t.index)break;else--this.textureCacheFrameMarkerCount_;this.textureCache_.pop()}},E.prototype.getContext=function(){return this.context_},E.prototype.getGL=function(){return this.gl_},E.prototype.getTileTextureQueue=function(){return this.tileTextureQueue_},E.prototype.handleWebGLContextLost=function(e){e.preventDefault(),this.textureCache_.clear(),this.textureCacheFrameMarkerCount_=0;const t=this.getLayerRenderers();for(const o in t){const e=t[o];e.handleWebGLContextLost()}},E.prototype.handleWebGLContextRestored=function(){this.initializeGL_(),this.getMap().render()},E.prototype.initializeGL_=function(){const e=this.gl_;e.activeTexture(m.v),e.blendFuncSeparate(m.r,m.o,m.n,m.o),e.disable(m.f),e.disable(m.g),e.disable(m.q),e.disable(m.t)},E.prototype.isTileTextureLoaded=function(e){return this.textureCache_.containsKey(e.getKey())},E.prototype.renderFrame=function(e){const t=this.getContext(),o=this.getGL();if(o.isContextLost())return!1;if(!e)return this.renderedVisible_&&(this.canvas_.style.display="none",this.renderedVisible_=!1),!1;this.focus_=e.focus,this.textureCache_.set((-e.index).toString(),null),++this.textureCacheFrameMarkerCount_,this.dispatchComposeEvent_(p.a.PRECOMPOSE,e);const a=[],n=e.layerStatesArray;Object(r.l)(n,_.b);const s=e.viewState.resolution;let d,i,g,u;for(d=0,i=n.length;d<i;++d)u=n[d],Object(l.b)(u,s)&&u.sourceState==c.a.READY&&(g=this.getLayerRenderer(u.layer),g.prepareFrame(e,u,t)&&a.push(u));const y=e.size[0]*e.pixelRatio,h=e.size[1]*e.pixelRatio;for((this.canvas_.width!=y||this.canvas_.height!=h)&&(this.canvas_.width=y,this.canvas_.height=h),o.bindFramebuffer(m.l,null),o.clearColor(0,0,0,0),o.clear(m.e),o.enable(m.b),o.viewport(0,0,this.canvas_.width,this.canvas_.height),(d=0,i=a.length);d<i;++d)u=a[d],g=this.getLayerRenderer(u.layer),g.composeFrame(e,u,t);this.renderedVisible_||(this.canvas_.style.display="",this.renderedVisible_=!0),this.calculateMatrices2D(e),this.textureCache_.getCount()-this.textureCacheFrameMarkerCount_>x&&e.postRenderFunctions.push(this.expireCache_.bind(this)),this.tileTextureQueue_.isEmpty()||(e.postRenderFunctions.push(this.loadNextTileTexture_),e.animate=!0),this.dispatchComposeEvent_(p.a.POSTCOMPOSE,e),this.scheduleRemoveUnusedLayerRenderers(e),this.scheduleExpireIconCache(e)},E.prototype.forEachFeatureAtCoordinate=function(e,t,o,a,r,n,s){let d;if(this.getGL().isContextLost())return!1;const p=t.viewState,g=t.layerStatesArray,_=g.length;let c;for(c=_-1;0<=c;--c){const i=g[c],_=i.layer;if(Object(l.b)(i,p.resolution)&&n.call(s,_)){const i=this.getLayerRenderer(_);if(d=i.forEachFeatureAtCoordinate(e,t,o,a,r),d)return d}}},E.prototype.hasFeatureAtCoordinate=function(e,t,o,a,r){let n=!1;if(this.getGL().isContextLost())return!1;const s=t.viewState,d=t.layerStatesArray,p=d.length;let g;for(g=p-1;0<=g;--g){const o=d[g],i=o.layer;if(Object(l.b)(o,s.resolution)&&a.call(r,i)){const o=this.getLayerRenderer(i);if(n=o.hasFeatureAtCoordinate(e,t),n)return!0}}return n},E.prototype.forEachLayerAtPixel=function(e,t,o,a,r){if(this.getGL().isContextLost())return!1;const n=t.viewState;let s;const d=t.layerStatesArray,p=d.length;let g;for(g=p-1;0<=g;--g){const i=d[g],p=i.layer;if(Object(l.b)(i,n.resolution)&&r.call(a,p)){const r=this.getLayerRenderer(p);if(s=r.forEachLayerAtPixel(e,t,o,a),s)return s}}},t.a=E},function(e,t,o){"use strict";var a=Math.round,r=o(0),i=o(55),n=o(171),s=o(35),l=o(13),d=o(3),p=o(17),g=o(190),_=o(441),c=o(442),u=o(57),y=o(27),m=o(39),h=o(86);const f=function(e,t){g.a.call(this,e,t),this.fragmentShader_=_.a,this.vertexShader_=_.b,this.locations_=null,this.renderArrayBuffer_=new h.a([0,0,0,1,1,0,1,1,0,1,0,0,1,1,1,0]),this.renderedTileRange_=null,this.renderedFramebufferExtent_=null,this.renderedRevision_=-1,this.tmpSize_=[0,0]};Object(r.g)(f,g.a),f.handles=function(e){return e.getType()===i.a.TILE},f.create=function(e,t){return new f(e,t)},f.prototype.disposeInternal=function(){const e=this.mapRenderer.getContext();e.deleteBuffer(this.renderArrayBuffer_),g.a.prototype.disposeInternal.call(this)},f.prototype.createLoadedTileFinder=function(e,t,o){const a=this.mapRenderer;return function(r,i){return e.forEachLoadedTile(t,r,i,function(e){const t=a.isTileTextureLoaded(e);return t&&(!o[r]&&(o[r]={}),o[r][e.tileCoord.toString()]=e),t})}},f.prototype.handleWebGLContextLost=function(){g.a.prototype.handleWebGLContextLost.call(this),this.locations_=null},f.prototype.prepareFrame=function(e,t,o){const r=this.mapRenderer,i=o.getGL(),g=e.viewState,_=g.projection,h=this.getLayer(),f=h.getSource(),E=f.getTileGridForProjection(_),C=E.getZForResolution(g.resolution),x=E.getResolution(C),T=f.getTilePixelSize(C,e.pixelRatio,_),S=T[0]/Object(u.d)(E.getTileSize(C),this.tmpSize_)[0],R=x/S,I=f.getTilePixelRatio(S)*f.getGutter(_),b=g.center,v=e.extent,L=E.getTileRangeForExtentAndZ(v,C);let P;if(this.renderedTileRange_&&this.renderedTileRange_.equals(L)&&this.renderedRevision_==f.getRevision())P=this.renderedFramebufferExtent_;else{const a=L.getSize(),g=Math.max(a[0]*T[0],a[1]*T[1]),u=Object(p.e)(g),b=R*u,v=E.getOrigin(C),F=v[0]+L.minX*T[0]*R,O=v[1]+L.minY*T[1]*R;P=[F,O,F+b,O+b],this.bindFramebuffer(e,u),i.viewport(0,0,u,u),i.clearColor(0,0,0,0),i.clear(m.e),i.disable(m.b);const w=o.getProgram(this.fragmentShader_,this.vertexShader_);o.useProgram(w),this.locations_||(this.locations_=new c.a(i,w)),o.bindBuffer(m.a,this.renderArrayBuffer_),i.enableVertexAttribArray(this.locations_.a_position),i.vertexAttribPointer(this.locations_.a_position,2,m.j,!1,16,0),i.enableVertexAttribArray(this.locations_.a_texCoord),i.vertexAttribPointer(this.locations_.a_texCoord,2,m.j,!1,16,8),i.uniform1i(this.locations_.u_texture,0);const N={};N[C]={};const A=this.createLoadedTileFinder(f,_,N),M=h.getUseInterimTilesOnError();let G=!0;const D=Object(d.j)(),k=new n.b(0,0,0,0);let j,U,B,z,Y,V,x,y;for(V=L.minX;V<=L.maxX;++V)for(x=L.minY;x<=L.maxY;++x)if(z=f.getTile(C,V,x,S,_),!(void 0!==t.extent&&(y=E.getTileCoordExtent(z.tileCoord,D),!Object(d.F)(y,t.extent)))){if(Y=z.getState(),U=Y==s.a.LOADED||Y==s.a.EMPTY||Y==s.a.ERROR&&!M,U||(z=z.getInterimTile()),Y=z.getState(),Y==s.a.LOADED){if(r.isTileTextureLoaded(z)){N[C][z.tileCoord.toString()]=z;continue}}else if(Y==s.a.EMPTY||Y==s.a.ERROR&&!M)continue;G=!1,B=E.forEachTileCoordParentTileRange(z.tileCoord,A,null,k,D),B||(j=E.getTileCoordChildTileRange(z.tileCoord,k,D),j&&A(C+1,j))}const X=Object.keys(N).map(Number);X.sort(l.i);const W=new Float32Array(4);for(let e=0,t=X.length;e<t;++e){const t=N[X[e]];for(const e in t)z=t[e],y=E.getTileCoordExtent(z.tileCoord,D),W[0]=2*(y[2]-y[0])/b,W[1]=2*(y[3]-y[1])/b,W[2]=2*(y[0]-P[0])/b-1,W[3]=2*(y[1]-P[1])/b-1,i.uniform4fv(this.locations_.u_tileOffset,W),r.bindTileTexture(z,T,I*S,m.m,m.m),i.drawArrays(m.C,0,4)}G?(this.renderedTileRange_=L,this.renderedFramebufferExtent_=P,this.renderedRevision_=f.getRevision()):(this.renderedTileRange_=null,this.renderedFramebufferExtent_=null,this.renderedRevision_=-1,e.animate=!0)}this.updateUsedTiles(e.usedTiles,f,C,L);const F=r.getTileTextureQueue();this.manageTilePyramid(e,f,E,S,_,v,C,h.getPreload(),function(e){e.getState()!=s.a.LOADED||r.isTileTextureLoaded(e)||F.isKeyQueued(e.getKey())||F.enqueue([e,E.getTileCoordCenter(e.tileCoord),E.getResolution(e.tileCoord[0]),T,I*S])},this),this.scheduleExpireCache(e,f);const O=this.texCoordMatrix;return Object(y.f)(O),Object(y.j)(O,(a(b[0]/x)*x-P[0])/(P[2]-P[0]),(a(b[1]/x)*x-P[1])/(P[3]-P[1])),0!==g.rotation&&Object(y.g)(O,g.rotation),Object(y.h)(O,e.size[0]*g.resolution/(P[2]-P[0]),e.size[1]*g.resolution/(P[3]-P[1])),Object(y.j)(O,-.5,-.5),!0},f.prototype.forEachLayerAtPixel=function(e,t,o,a){if(this.framebuffer){const r=[e[0]/t.size[0],(t.size[1]-e[1])/t.size[1]],i=Object(y.a)(this.texCoordMatrix,r.slice()),n=[i[0]*this.framebufferDimension,i[1]*this.framebufferDimension],s=this.mapRenderer.getContext().getGL();s.bindFramebuffer(s.FRAMEBUFFER,this.framebuffer);const l=new Uint8Array(4);return s.readPixels(n[0],n[1],1,1,s.RGBA,s.UNSIGNED_BYTE,l),0<l[3]?o.call(a,this.getLayer(),l):void 0}},t.a=f},function(e,t,o){"use strict";var a=o(0),r=o(101),i=o(102);const n=new r.a(a.a?"precision mediump float;\nvarying vec2 v_texCoord;\n\n\nuniform sampler2D u_texture;\n\nvoid main(void) {\n  gl_FragColor = texture2D(u_texture, v_texCoord);\n}\n":"precision mediump float;varying vec2 a;uniform sampler2D e;void main(void){gl_FragColor=texture2D(e,a);}");t.a=n;const s=new i.a(a.a?"varying vec2 v_texCoord;\n\n\nattribute vec2 a_position;\nattribute vec2 a_texCoord;\nuniform vec4 u_tileOffset;\n\nvoid main(void) {\n  gl_Position = vec4(a_position * u_tileOffset.xy + u_tileOffset.zw, 0., 1.);\n  v_texCoord = a_texCoord;\n}\n\n\n":"varying vec2 a;attribute vec2 b;attribute vec2 c;uniform vec4 d;void main(void){gl_Position=vec4(b*d.xy+d.zw,0.,1.);a=c;}");t.b=s},function(e,t,o){"use strict";var a=o(0);t.a=function(e,t){this.u_tileOffset=e.getUniformLocation(t,a.a?"u_tileOffset":"d"),this.u_texture=e.getUniformLocation(t,a.a?"u_texture":"e"),this.a_position=e.getAttribLocation(t,a.a?"a_position":"b"),this.a_texCoord=e.getAttribLocation(t,a.a?"a_texCoord":"c")}},function(e,t,o){"use strict";var a=o(0),r=o(55),i=o(40),n=o(3),s=o(271),l=o(172),d=o(190),p=o(27);const g=function(e,t){d.a.call(this,e,t),this.dirty_=!1,this.renderedRevision_=-1,this.renderedResolution_=NaN,this.renderedExtent_=Object(n.j)(),this.renderedRenderOrder_=null,this.replayGroup_=null,this.layerState_=null};Object(a.g)(g,d.a),g.handles=function(e){return e.getType()===r.a.VECTOR},g.create=function(e,t){return new g(e,t)},g.prototype.composeFrame=function(e,t,o){this.layerState_=t;const a=e.viewState,r=this.replayGroup_,i=e.size,n=e.pixelRatio,s=this.mapRenderer.getGL();r&&!r.isEmpty()&&(s.enable(s.SCISSOR_TEST),s.scissor(0,0,i[0]*n,i[1]*n),r.replay(o,a.center,a.resolution,a.rotation,i,n,t.opacity,t.managed?e.skippedFeatureUids:{}),s.disable(s.SCISSOR_TEST))},g.prototype.disposeInternal=function(){const e=this.replayGroup_;if(e){const t=this.mapRenderer.getContext();e.getDeleteResourcesFunction(t)(),this.replayGroup_=null}d.a.prototype.disposeInternal.call(this)},g.prototype.forEachFeatureAtCoordinate=function(e,t,o,r,i){if(!this.replayGroup_||!this.layerState_)return;else{const o=this.mapRenderer.getContext(),n=t.viewState,s=this.getLayer(),l=this.layerState_,d={};return this.replayGroup_.forEachFeatureAtCoordinate(e,o,n.center,n.resolution,n.rotation,t.size,t.pixelRatio,l.opacity,{},function(e){const t=Object(a.f)(e).toString();if(!(t in d))return d[t]=!0,r.call(i,e,s)})}},g.prototype.hasFeatureAtCoordinate=function(e,t){if(!this.replayGroup_||!this.layerState_)return!1;else{const o=this.mapRenderer.getContext(),a=t.viewState,r=this.layerState_;return this.replayGroup_.hasFeatureAtCoordinate(e,o,a.center,a.resolution,a.rotation,t.size,t.pixelRatio,r.opacity,t.skippedFeatureUids)}},g.prototype.forEachLayerAtPixel=function(e,t,o,a){const r=Object(p.a)(t.pixelToCoordinateTransform,e.slice()),i=this.hasFeatureAtCoordinate(r,t);return i?o.call(a,this.getLayer(),null):void 0},g.prototype.handleStyleImageChange_=function(){this.renderIfReadyAndVisible()},g.prototype.prepareFrame=function(e,t,o){const a=this.getLayer(),r=a.getSource(),d=e.viewHints[i.a.ANIMATING],p=e.viewHints[i.a.INTERACTING],g=a.getUpdateWhileAnimating(),_=a.getUpdateWhileInteracting();if(!this.dirty_&&!g&&d||!_&&p)return!0;const c=e.extent,u=e.viewState,y=u.projection,m=u.resolution,h=e.pixelRatio,f=a.getRevision(),x=a.getRenderBuffer();let E=a.getRenderOrder();void 0===E&&(E=l.a);const C=Object(n.c)(c,x*m);if(!this.dirty_&&this.renderedResolution_==m&&this.renderedRevision_==f&&this.renderedRenderOrder_==E&&Object(n.g)(this.renderedExtent_,C))return!0;this.replayGroup_&&e.postRenderFunctions.push(this.replayGroup_.getDeleteResourcesFunction(o)),this.dirty_=!1;const T=new s.a(Object(l.c)(m,h),C,a.getRenderBuffer());r.loadFeatures(C,m,y);const S=function(e){let t;const o=e.getStyleFunction()||a.getStyleFunction();if(o&&(t=o(e,m)),t){const o=this.renderFeature(e,m,h,t,T);this.dirty_=this.dirty_||o}};if(E){const e=[];r.forEachFeatureInExtent(C,function(t){e.push(t)},this),e.sort(E),e.forEach(S.bind(this))}else r.forEachFeatureInExtent(C,S,this);return T.finish(o),this.renderedResolution_=m,this.renderedRevision_=f,this.renderedRenderOrder_=E,this.renderedExtent_=C,this.replayGroup_=T,!0},g.prototype.renderFeature=function(e,t,o,a,r){if(!a)return!1;let n=!1;if(Array.isArray(a))for(let s=a.length-1;s>=0;--s)n=Object(l.d)(r,e,a[s],Object(l.b)(t,o),this.handleStyleImageChange_,this)||n;else n=Object(l.d)(r,e,a,Object(l.b)(t,o),this.handleStyleImageChange_,this)||n;return n},t.a=g},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,o){"use strict";function a(e,t,o){var a,r,i;return Array.isArray(o)?(a=Object(n.a)(e,t,o),3===o.length?[a.x,a.y,a.z]:[a.x,a.y]):(r=Object(n.a)(e,t,o),i=Object.keys(o),2===i.length)?r:(i.forEach(function(e){"x"===e||"y"===e||(r[e]=o[e])}),r)}function r(e){return e instanceof i.a?e:e.oProj?e.oProj:Object(i.a)(e)}var i=o(191),n=o(281),s=Object(i.a)("WGS84");t.a=function(e,t,o){e=r(e);var i=!1,n;return"undefined"==typeof t?(t=e,e=s,i=!0):("undefined"!=typeof t.x||Array.isArray(t))&&(o=t,t=e,e=s,i=!0),t=r(t),o?a(e,t,o):(n={forward:function(o){return a(e,t,o)},inverse:function(o){return a(t,e,o)}},i&&(n.oProj=t),n)}},function(e,t,o){"use strict";function a(e){return"string"==typeof e}function r(e){return e in s.a}function i(e){return p.some(function(t){return-1<e.indexOf(t)})}function n(e){return"+"===e[0]}var s=o(278),l=o(280),d=o(279),p=["PROJECTEDCRS","PROJCRS","GEOGCS","GEOCCS","PROJCS","LOCAL_CS","GEODCRS","GEODETICCRS","GEODETICDATUM","ENGCRS","ENGINEERINGCRS"];t.a=function(e){if(a(e)){if(r(e))return s.a[e];if(i(e))return Object(l.a)(e);if(n(e))return Object(d.a)(e)}else return e}},function(e,t){"use strict";t.a=function(e){e("EPSG:4326","+title=WGS 84 (long/lat) +proj=longlat +ellps=WGS84 +datum=WGS84 +units=degrees"),e("EPSG:4269","+title=NAD83 (long/lat) +proj=longlat +a=6378137.0 +b=6356752.31414036 +ellps=GRS80 +datum=NAD83 +units=degrees"),e("EPSG:3857","+title=WGS 84 / Pseudo-Mercator +proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0 +k=1.0 +units=m +nadgrids=@null +no_defs"),e.WGS84=e["EPSG:4326"],e["EPSG:3785"]=e["EPSG:3857"],e.GOOGLE=e["EPSG:3857"],e["EPSG:900913"]=e["EPSG:3857"],e["EPSG:102113"]=e["EPSG:3857"]}},function(e,t,o){"use strict";o.d(t,"a",function(){return a});var a={greenwich:0,lisbon:-9.131906111111,paris:2.337229166667,bogota:-74.080916666667,madrid:-3.687938888889,rome:12.452333333333,bern:7.439583333333,jakarta:106.807719444444,ferro:-17.666666666667,brussels:4.367975,stockholm:18.058277777778,athens:23.7163375,oslo:10.722916666667}},function(e,t){"use strict";t.a={ft:{to_meter:.3048},"us-ft":{to_meter:1200/3937}}},function(e,t){"use strict";function o(e){if("string"!=typeof e)throw new Error("not a string");this.text=e.trim(),this.level=0,this.place=0,this.root=null,this.stack=[],this.currentObject=null,this.state=a}t.a=function(e){var t=new o(e);return t.output()};var a=1,r=2,i=3,n=4,s=5,l=-1,d=/\s/,p=/[A-Za-z]/,g=/[A-Za-z84]/,_=/[,\]]/,c=/[\d\.E\-\+]/;o.prototype.readCharicter=function(){var e=this.text[this.place++];if(this.state!==n)for(;d.test(e);){if(this.place>=this.text.length)return;e=this.text[this.place++]}switch(this.state){case a:return this.neutral(e);case r:return this.keyword(e);case n:return this.quoted(e);case s:return this.afterquote(e);case i:return this.number(e);case l:}},o.prototype.afterquote=function(e){if("\""===e)return this.word+="\"",void(this.state=n);if(_.test(e))return this.word=this.word.trim(),void this.afterItem(e);throw new Error("havn't handled \""+e+"\" in afterquote yet, index "+this.place)},o.prototype.afterItem=function(e){return","===e?(null!==this.word&&this.currentObject.push(this.word),this.word=null,void(this.state=a)):"]"===e?(this.level--,null!==this.word&&(this.currentObject.push(this.word),this.word=null),this.state=a,this.currentObject=this.stack.pop(),void(this.currentObject||(this.state=l))):void 0},o.prototype.number=function(e){if(c.test(e))return void(this.word+=e);if(_.test(e))return this.word=parseFloat(this.word),void this.afterItem(e);throw new Error("havn't handled \""+e+"\" in number yet, index "+this.place)},o.prototype.quoted=function(e){return"\""===e?void(this.state=s):void(this.word+=e)},o.prototype.keyword=function(e){if(g.test(e))return void(this.word+=e);if("["===e){var t=[];return t.push(this.word),this.level++,null===this.root?this.root=t:this.currentObject.push(t),this.stack.push(this.currentObject),this.currentObject=t,void(this.state=a)}if(_.test(e))return void this.afterItem(e);throw new Error("havn't handled \""+e+"\" in keyword yet, index "+this.place)},o.prototype.neutral=function(e){if(p.test(e))return this.word=e,void(this.state=r);if("\""===e)return this.word="",void(this.state=n);if(c.test(e))return this.word=e,void(this.state=i);if(_.test(e))return void this.afterItem(e);throw new Error("havn't handled \""+e+"\" in neutral yet, index "+this.place)},o.prototype.output=function(){for(;this.place<this.text.length;)this.readCharicter();if(this.state===l)return this.root;throw new Error("unable to parse string \""+this.text+"\". State is "+this.state)}},function(e,t){"use strict";function o(e,t,o){Array.isArray(t)&&(o.unshift(t),t=null);var r=t?{}:e,i=o.reduce(function(e,t){return a(t,e),e},r);t&&(e[t]=i)}function a(e,t){if(!Array.isArray(e))return void(t[e]=!0);var r=e.shift();if("PARAMETER"===r&&(r=e.shift()),1===e.length)return Array.isArray(e[0])?(t[r]={},void a(e[0],t[r])):void(t[r]=e[0]);if(!e.length)return void(t[r]=!0);if("TOWGS84"===r)return void(t[r]=e);Array.isArray(r)||(t[r]={});var n;switch(r){case"UNIT":case"PRIMEM":case"VERT_DATUM":return t[r]={name:e[0].toLowerCase(),convert:e[1]},void(3===e.length&&a(e[2],t[r]));case"SPHEROID":case"ELLIPSOID":return t[r]={name:e[0],a:e[1],rf:e[2]},void(4===e.length&&a(e[3],t[r]));case"PROJECTEDCRS":case"PROJCRS":case"GEOGCS":case"GEOCCS":case"PROJCS":case"LOCAL_CS":case"GEODCRS":case"GEODETICCRS":case"GEODETICDATUM":case"EDATUM":case"ENGINEERINGDATUM":case"VERT_CS":case"VERTCRS":case"VERTICALCRS":case"COMPD_CS":case"COMPOUNDCRS":case"ENGINEERINGCRS":case"ENGCRS":case"FITTED_CS":case"LOCAL_DATUM":case"DATUM":return e[0]=["name",e[0]],void o(t,r,e);default:for(n=-1;++n<e.length;)if(!Array.isArray(e[n]))return a(e,t[r]);return o(t,r,e);}}t.a=a},function(e,t){"use strict";t.a=function(e,t){e=e||{};var o,a;if(!t)return e;for(a in t)o=t[a],void 0!==o&&(e[a]=o);return e}},function(e,t,o){"use strict";function a(e,t){var o=l.length;return e.names?(l[o]=e,e.names.forEach(function(e){s[e.toLowerCase()]=o}),this):(console.log(t),!0)}var r=o(500),i=o(501),n=[r.a,i.a],s={},l=[];t.a={start:function(){n.forEach(a)},add:a,get:function(e){if(!e)return!1;var t=e.toLowerCase();if("undefined"!=typeof s[t]&&l[s[t]])return l[s[t]]}}},function(e,t,o){"use strict";function a(){var e=this.b/this.a;this.es=1-e*e,"x0"in this||(this.x0=0),"y0"in this||(this.y0=0),this.e=Math.sqrt(this.es),this.lat_ts?this.sphere?this.k0=s(this.lat_ts):this.k0=Object(d.a)(this.e,n(this.lat_ts),s(this.lat_ts)):!this.k0&&(this.k?this.k0=this.k:this.k0=1)}var r=Math.abs,i=Math.exp,n=Math.sin,s=Math.cos,l=Math.log,d=o(105),g=o(24),p=o(146),_=o(147),c=o(20);t.a={init:a,forward:function(e){var t=e.x,o=e.y;if(90<o*c.i&&-90>o*c.i&&180<t*c.i&&-180>t*c.i)return null;var a,i;if(r(r(o)-c.d)<=c.b)return null;if(this.sphere)a=this.x0+this.a*this.k0*Object(g.a)(t-this.long0),i=this.y0+this.a*this.k0*l(Math.tan(c.c+.5*o));else{var s=n(o),d=Object(p.a)(this.e,o,s);a=this.x0+this.a*this.k0*Object(g.a)(t-this.long0),i=this.y0-this.a*this.k0*l(d)}return e.x=a,e.y=i,e},inverse:function(e){var t=e.x-this.x0,o=e.y-this.y0,a,r;if(this.sphere)r=c.d-2*Math.atan(i(-o/(this.a*this.k0)));else{var n=i(-o/(this.a*this.k0));if(r=Object(_.a)(this.e,n),-9999===r)return null}return a=Object(g.a)(this.long0+t/(this.a*this.k0)),e.x=a,e.y=r,e},names:["Mercator","Popular Visualisation Pseudo Mercator","Mercator_1SP","Mercator_Auxiliary_Sphere","merc"]}},function(e,t){"use strict";function o(e){return e}t.a={init:function(){},forward:o,inverse:o,names:["longlat","identity"]}},function(e,t,o){"use strict";function a(e,t,o,s,l){if(!e){var d=Object(n.a)(i.b,s);d||(d=i.a),e=d.a,t=d.b,o=d.rf}return o&&!t&&(t=(1-1/o)*e),(0===o||Math.abs(e-t)<r.b)&&(l=!0,t=e),{a:e,b:t,rf:o,sphere:l}}t.a=function(t,o,a,i){var n=t*t,s=o*o,l=(n-s)/n,d=0;i?(t*=1-l*(r.m+l*(r.j+l*r.k)),n=t*t,l=0):d=Math.sqrt(l);var p=(n-s)/s;return{es:l,e:d,ep2:p}},t.b=a;var r=o(20),i=o(503),n=o(192)},function(e,t,o){"use strict";o.d(t,"b",function(){return a}),o.d(t,"a",function(){return r});var a={MERIT:{a:6378137,rf:298.257,ellipseName:"MERIT 1983"},SGS85:{a:6378136,rf:298.257,ellipseName:"Soviet Geodetic System 85"},GRS80:{a:6378137,rf:298.257222101,ellipseName:"GRS 1980(IUGG, 1980)"},IAU76:{a:6378140,rf:298.257,ellipseName:"IAU 1976"},airy:{a:6377563.396,b:6356256.91,ellipseName:"Airy 1830"},APL4:{a:6378137,rf:298.25,ellipseName:"Appl. Physics. 1965"},NWL9D:{a:6378145,rf:298.25,ellipseName:"Naval Weapons Lab., 1965"},mod_airy:{a:6377340.189,b:6356034.446,ellipseName:"Modified Airy"},andrae:{a:6377104.43,rf:300,ellipseName:"Andrae 1876 (Den., Iclnd.)"},aust_SA:{a:6378160,rf:298.25,ellipseName:"Australian Natl & S. Amer. 1969"},GRS67:{a:6378160,rf:298.247167427,ellipseName:"GRS 67(IUGG 1967)"},bessel:{a:6377397.155,rf:299.1528128,ellipseName:"Bessel 1841"},bess_nam:{a:6377483.865,rf:299.1528128,ellipseName:"Bessel 1841 (Namibia)"},clrk66:{a:6378206.4,b:6356583.8,ellipseName:"Clarke 1866"},clrk80:{a:6378249.145,rf:293.4663,ellipseName:"Clarke 1880 mod."},clrk58:{a:6378293.645208759,rf:294.2606763692654,ellipseName:"Clarke 1858"},CPM:{a:6375738.7,rf:334.29,ellipseName:"Comm. des Poids et Mesures 1799"},delmbr:{a:6376428,rf:311.5,ellipseName:"Delambre 1810 (Belgium)"},engelis:{a:6378136.05,rf:298.2566,ellipseName:"Engelis 1985"},evrst30:{a:6377276.345,rf:300.8017,ellipseName:"Everest 1830"},evrst48:{a:6377304.063,rf:300.8017,ellipseName:"Everest 1948"},evrst56:{a:6377301.243,rf:300.8017,ellipseName:"Everest 1956"},evrst69:{a:6377295.664,rf:300.8017,ellipseName:"Everest 1969"},evrstSS:{a:6377298.556,rf:300.8017,ellipseName:"Everest (Sabah & Sarawak)"},fschr60:{a:6378166,rf:298.3,ellipseName:"Fischer (Mercury Datum) 1960"},fschr60m:{a:6378155,rf:298.3,ellipseName:"Fischer 1960"},fschr68:{a:6378150,rf:298.3,ellipseName:"Fischer 1968"},helmert:{a:6378200,rf:298.3,ellipseName:"Helmert 1906"},hough:{a:6378270,rf:297,ellipseName:"Hough"},intl:{a:6378388,rf:297,ellipseName:"International 1909 (Hayford)"},kaula:{a:6378163,rf:298.24,ellipseName:"Kaula 1961"},lerch:{a:6378139,rf:298.257,ellipseName:"Lerch 1979"},mprts:{a:6397300,rf:191,ellipseName:"Maupertius 1738"},new_intl:{a:6378157.5,b:6356772.2,ellipseName:"New International 1967"},plessis:{a:6376523,rf:6355863,ellipseName:"Plessis 1817 (France)"},krass:{a:6378245,rf:298.3,ellipseName:"Krassovsky, 1942"},SEasia:{a:6378155,b:6356773.3205,ellipseName:"Southeast Asia"},walbeck:{a:6376896,b:6355834.8467,ellipseName:"Walbeck"},WGS60:{a:6378165,rf:298.3,ellipseName:"WGS 60"},WGS66:{a:6378145,rf:298.25,ellipseName:"WGS 66"},WGS7:{a:6378135,rf:298.26,ellipseName:"WGS 72"}},r=a.WGS84={a:6378137,rf:298.257223563,ellipseName:"WGS 84"};a.sphere={a:6370997,b:6370997,ellipseName:"Normal Sphere (r=6370997)"}},function(e,t,o){"use strict";o.d(t,"a",function(){return a});var a={wgs84:{towgs84:"0,0,0",ellipse:"WGS84",datumName:"WGS84"},ch1903:{towgs84:"674.374,15.056,405.346",ellipse:"bessel",datumName:"swiss"},ggrs87:{towgs84:"-199.87,74.79,246.62",ellipse:"GRS80",datumName:"Greek_Geodetic_Reference_System_1987"},nad83:{towgs84:"0,0,0",ellipse:"GRS80",datumName:"North_American_Datum_1983"},nad27:{nadgrids:"@conus,@alaska,@ntv2_0.gsb,@ntv1_can.dat",ellipse:"clrk66",datumName:"North_American_Datum_1927"},potsdam:{towgs84:"606.0,23.0,413.0",ellipse:"bessel",datumName:"Potsdam Rauenberg 1950 DHDN"},carthage:{towgs84:"-263.0,6.0,431.0",ellipse:"clark80",datumName:"Carthage 1934 Tunisia"},hermannskogel:{towgs84:"653.0,-212.0,449.0",ellipse:"bessel",datumName:"Hermannskogel"},osni52:{towgs84:"482.530,-130.596,564.557,-1.042,-0.214,-0.631,8.15",ellipse:"airy",datumName:"Irish National"},ire65:{towgs84:"482.530,-130.596,564.557,-1.042,-0.214,-0.631,8.15",ellipse:"mod_airy",datumName:"Ireland 1965"},rassadiran:{towgs84:"-133.63,-157.5,-158.62",ellipse:"intl",datumName:"Rassadiran"},nzgd49:{towgs84:"59.47,-5.04,187.44,0.47,-0.1,1.024,-4.5993",ellipse:"intl",datumName:"New Zealand Geodetic Datum 1949"},osgb36:{towgs84:"446.448,-125.157,542.060,0.1502,0.2470,0.8421,-20.4894",ellipse:"airy",datumName:"Airy 1830"},s_jtsk:{towgs84:"589,76,480",ellipse:"bessel",datumName:"S-JTSK (Ferro)"},beduaram:{towgs84:"-106,-87,188",ellipse:"clrk80",datumName:"Beduaram"},gunung_segara:{towgs84:"-403,684,41",ellipse:"bessel",datumName:"Gunung Segara Jakarta"},rnb72:{towgs84:"106.869,-52.2978,103.724,-0.33657,0.456955,-1.84218,1",ellipse:"intl",datumName:"Reseau National Belge 1972"}}},function(e,t,o){"use strict";var r=o(20);t.a=function(e,t,o,a,i,n){var s={};return s.datum_type=void 0===e||"none"===e?r.g:r.h,t&&(s.datum_params=t.map(parseFloat),(0!==s.datum_params[0]||0!==s.datum_params[1]||0!==s.datum_params[2])&&(s.datum_type=r.e),3<s.datum_params.length&&(0!==s.datum_params[3]||0!==s.datum_params[4]||0!==s.datum_params[5]||0!==s.datum_params[6])&&(s.datum_type=r.f,s.datum_params[3]*=r.l,s.datum_params[4]*=r.l,s.datum_params[5]*=r.l,s.datum_params[6]=s.datum_params[6]/1e6+1)),s.a=o,s.b=a,s.es=i,s.ep2=n,s}},function(e,t,o){"use strict";function a(e){return e===r.e||e===r.f}var r=o(20),i=o(507);t.a=function(e,t,o){return Object(i.a)(e,t)?o:e.datum_type===r.g||t.datum_type===r.g?o:e.es!==t.es||e.a!==t.a||a(e.datum_type)||a(t.datum_type)?(o=Object(i.e)(o,e.es,e.a),a(e.datum_type)&&(o=Object(i.d)(o,e.datum_type,e.datum_params)),a(t.datum_type)&&(o=Object(i.b)(o,t.datum_type,t.datum_params)),Object(i.c)(o,t.es,t.a,t.b)):o}},function(e,t,o){"use strict";var r=Math.abs,i=Math.sqrt,n=Math.sin,s=Math.cos,l=Math.PI;t.a=function(e,t){return!(e.datum_type!==t.datum_type)&&!(e.a!==t.a||5e-11<r(e.es-t.es))&&(e.datum_type===d.e?e.datum_params[0]===t.datum_params[0]&&e.datum_params[1]===t.datum_params[1]&&e.datum_params[2]===t.datum_params[2]:e.datum_type!==d.f||e.datum_params[0]===t.datum_params[0]&&e.datum_params[1]===t.datum_params[1]&&e.datum_params[2]===t.datum_params[2]&&e.datum_params[3]===t.datum_params[3]&&e.datum_params[4]===t.datum_params[4]&&e.datum_params[5]===t.datum_params[5]&&e.datum_params[6]===t.datum_params[6])},t.e=function(e,t,o){var a=e.x,r=e.y,p=e.z?e.z:0,g,_,c,u;if(r<-d.d&&r>-1.001*d.d)r=-d.d;else if(r>d.d&&r<1.001*d.d)r=d.d;else if(r<-d.d||r>d.d)return null;return a>l&&(a-=2*l),_=n(r),u=s(r),c=_*_,g=o/i(1-t*c),{x:(g+p)*u*s(a),y:(g+p)*u*n(a),z:(g*(1-t)+p)*_}},t.c=function(e,t,o,a){var n=1e-12,s=e.x,l=e.y,p=e.z?e.z:0,g,_,c,u,y,m,h,f,x,E,C,T,S,R,I,v;if(g=i(s*s+l*l),_=i(s*s+l*l+p*p),!(g/o<n))R=Math.atan2(l,s);else if(R=0,_/o<n)return I=d.d,v=-a,{x:e.x,y:e.y,z:e.z};c=p/_,u=g/_,y=1/i(1-t*(2-t)*u*u),f=u*(1-t)*y,x=c*y,S=0;do S++,h=o/i(1-t*x*x),v=g*f+p*x-h*(1-t*x*x),m=t*h/(h+v),y=1/i(1-m*(2-m)*u*u),E=u*(1-m)*y,C=c*y,T=C*f-E*x,f=E,x=C;while(T*T>n*n&&S<30);return I=Math.atan(C/r(E)),{x:R,y:I,z:v}},t.d=function(e,t,o){if(t===d.e)return{x:e.x+o[0],y:e.y+o[1],z:e.z+o[2]};if(t===d.f){var a=o[0],r=o[1],i=o[2],n=o[3],s=o[4],l=o[5],p=o[6];return{x:p*(e.x-l*e.y+s*e.z)+a,y:p*(l*e.x+e.y-n*e.z)+r,z:p*(-s*e.x+n*e.y+e.z)+i}}},t.b=function(e,t,o){if(t===d.e)return{x:e.x-o[0],y:e.y-o[1],z:e.z-o[2]};if(t===d.f){var a=o[0],r=o[1],i=o[2],n=o[3],s=o[4],l=o[5],p=o[6],g=(e.x-a)/p,_=(e.y-r)/p,c=(e.z-i)/p;return{x:g+l*_-s*c,y:-l*g+_+n*c,z:s*g-n*_+c}}};var d=o(20)},function(e,t){"use strict";t.a=function(e,o,a){var r=a.x,n=a.y,s=a.z||0,l={},d,p,t;for(t=0;3>t;t++)if(!(o&&2===t&&void 0===a.z))switch(0===t?(d=r,p="x"):1===t?(d=n,p="y"):(d=s,p="z"),e.axis[t]){case"e":l[p]=d;break;case"w":l[p]=-d;break;case"n":l[p]=d;break;case"s":l[p]=-d;break;case"u":void 0!==a[p]&&(l.z=d);break;case"d":void 0!==a[p]&&(l.z=-d);break;default:return null;}return l}},function(e,t){"use strict";function o(e){var t=Number.isFinite;if("function"==typeof t){if(t(e))return;throw new TypeError("coordinates must be finite numbers")}if("number"!=typeof e||e!==e||!isFinite(e))throw new TypeError("coordinates must be finite numbers")}t.a=function(e){o(e.x),o(e.y)}},function(e,t,o){"use strict";function a(e,t,o){if(!(this instanceof a))return new a(e,t,o);if(Array.isArray(e))this.x=e[0],this.y=e[1],this.z=e[2]||0;else if("object"==typeof e)this.x=e.x,this.y=e.y,this.z=e.z||0;else if("string"==typeof e&&"undefined"==typeof t){var r=e.split(",");this.x=parseFloat(r[0],10),this.y=parseFloat(r[1],10),this.z=parseFloat(r[2],10)||0}else this.x=e,this.y=t,this.z=o||0;console.warn("proj4.Point will be removed in version 3, use proj4.toPoint")}var r=o(283);a.fromMGRS=function(e){return new a(Object(r.c)(e))},a.prototype.toMGRS=function(e){return Object(r.b)([this.x,this.y],e)},t.a=a},function(e,t,o){"use strict";var a=o(512),r=o.n(a);o.o(a,"version")&&o.d(t,"a",function(){return a.version})},function(e){e.exports={_from:"proj4@2.4.4",_id:"proj4@2.4.4",_inBundle:!1,_integrity:"sha512-yo6qTpBQXnxhcPopKJeVwwOBRzUpEa3vzSFlr38f5mF4Jnfb6NOL/ePIomefWiZmPgkUblHpcwnWVMB8FS3GKw==",_location:"/proj4",_phantomChildren:{},_requested:{type:"version",registry:!0,raw:"proj4@2.4.4",name:"proj4",escapedName:"proj4",rawSpec:"2.4.4",saveSpec:null,fetchSpec:"2.4.4"},_requiredBy:["#DEV:/"],_resolved:"https://registry.npmjs.org/proj4/-/proj4-2.4.4.tgz",_shasum:"c03d825e380f6850a4a7af5d20d365f6b72c4042",_spec:"proj4@2.4.4",_where:"/Users/ahocevar/projects/openlayers",author:"",bugs:{url:"https://github.com/proj4js/proj4js/issues"},bundleDependencies:!1,contributors:[{name:"Mike Adair",email:"madair@dmsolutions.ca"},{name:"Richard Greenwood",email:"rich@greenwoodmap.com"},{name:"Calvin Metcalf",email:"calvin.metcalf@gmail.com"},{name:"Richard Marsden",url:"http://www.winwaed.com"},{name:"T. Mittan"},{name:"D. Steinwand"},{name:"S. Nelson"}],dependencies:{mgrs:"1.0.0","wkt-parser":"^1.2.0"},deprecated:!1,description:"Proj4js is a JavaScript library to transform point coordinates from one coordinate system to another, including datum transformations.",devDependencies:{chai:"~1.8.1",curl:"git://github.com/cujojs/curl.git",grunt:"^1.0.1","grunt-cli":"~0.1.13","grunt-contrib-connect":"~0.6.0","grunt-contrib-jshint":"~1.1.0","grunt-contrib-uglify":"~0.11.1","grunt-mocha-phantomjs":"~0.4.0","grunt-rollup":"^1.0.1",istanbul:"~0.2.4",mocha:"~1.17.1",rollup:"^0.41.4","rollup-plugin-json":"^2.0.1","rollup-plugin-node-resolve":"^2.0.0",tin:"~0.4.0"},directories:{test:"test",doc:"docs"},homepage:"https://github.com/proj4js/proj4js#readme",license:"MIT",main:"dist/proj4-src.js",module:"lib/index.js",name:"proj4",repository:{type:"git",url:"git://github.com/proj4js/proj4js.git"},scripts:{build:"grunt","build:tmerc":"grunt build:tmerc",test:"npm run build && istanbul test _mocha test/test.js"},version:"2.4.4"}},function(e,t,o){"use strict";var a=o(514),r=o(286),i=o(521),n=o(523),s=o(526),l=o(527),d=o(528),p=o(529),g=o(530),_=o(531),c=o(532),u=o(533),y=o(534),m=o(535),h=o(537),f=o(538),x=o(539),E=o(540),C=o(541),T=o(542),S=o(543),R=o(544),I=o(545),b=o(546),v=o(547);t.a=function(e){e.Proj.projections.add(a.a),e.Proj.projections.add(r.a),e.Proj.projections.add(i.a),e.Proj.projections.add(n.a),e.Proj.projections.add(s.a),e.Proj.projections.add(l.a),e.Proj.projections.add(d.a),e.Proj.projections.add(p.a),e.Proj.projections.add(g.a),e.Proj.projections.add(_.a),e.Proj.projections.add(c.a),e.Proj.projections.add(u.a),e.Proj.projections.add(y.a),e.Proj.projections.add(m.a),e.Proj.projections.add(h.a),e.Proj.projections.add(f.a),e.Proj.projections.add(x.a),e.Proj.projections.add(E.a),e.Proj.projections.add(C.a),e.Proj.projections.add(T.a),e.Proj.projections.add(S.a),e.Proj.projections.add(R.a),e.Proj.projections.add(I.a),e.Proj.projections.add(b.a),e.Proj.projections.add(v.a)}},function(e,t,o){"use strict";var a=Math.tan,r=Math.abs,i=Math.sqrt,n=Math.sin,s=Math.cos,l=Math.pow,d=o(284),p=o(193),_=o(285),u=o(24),m=o(20),E=o(124);t.a={init:function(){this.x0=this.x0===void 0?0:this.x0,this.y0=this.y0===void 0?0:this.y0,this.long0=this.long0===void 0?0:this.long0,this.lat0=this.lat0===void 0?0:this.lat0,this.es&&(this.en=Object(d.a)(this.es),this.ml0=Object(p.a)(this.lat0,n(this.lat0),s(this.lat0),this.en))},forward:function(e){var o=e.x,d=e.y,g=Object(u.a)(o-this.long0),_=n(d),h=s(d),f,E,x;if(!this.es){var C=h*n(g);if(r(r(C)-1)<m.b)return 93;if(E=.5*this.a*this.k0*Math.log((1+C)/(1-C))+this.x0,x=h*s(g)/i(1-l(C,2)),C=r(x),1<=C){if(C-1>m.b)return 93;x=0}else x=Math.acos(x);0>d&&(x=-x),x=this.a*this.k0*(x-this.lat0)+this.y0}else{var T=h*g,S=l(T,2),R=this.ep2*l(h,2),c=l(R,2),I=r(h)>m.b?a(d):0,b=l(I,2),t=l(b,2);f=1-this.es*l(_,2),T/=i(f);var v=Object(p.a)(d,_,h,this.en);E=this.a*(this.k0*T*(1+S/6*(1-b+R+S/20*(5-18*b+t+14*R-58*b*R+S/42*(61+179*t-t*b-479*b)))))+this.x0,x=this.a*(this.k0*(v-this.ml0+_*g*T/2*(1+S/12*(5-b+9*R+4*c+S/30*(61+t-58*b+270*R-330*b*R+S/56*(1385+543*t-t*b-3111*b))))))+this.y0}return e.x=E,e.y=x,e},inverse:function(e){var o=(e.x-this.x0)*(1/this.a),p=(e.y-this.y0)*(1/this.a),y,x,C,T;if(!this.es){var S=Math.exp(o/this.k0),f=.5*(S-1/S),g=this.lat0+p/this.k0,R=s(g);y=i((1-l(R,2))/(1+l(f,2))),C=Math.asin(y),0>p&&(C=-C),T=0==f&&0===R?0:Object(u.a)(Math.atan2(f,R)+this.long0)}else if(y=this.ml0+p/this.k0,x=Object(_.a)(y,this.es,this.en),r(x)<m.d){var h=n(x),I=s(x),b=r(I)>m.b?a(x):0,v=this.ep2*l(I,2),c=l(v,2),L=l(b,2),t=l(L,2);y=1-this.es*l(h,2);var P=o*i(y)/this.k0,d=l(P,2);y*=b,C=x-.5*(y*d/(1-this.es))*(1-d/12*(5+3*L-9*v*L+v-4*c-d/30*(61+90*L-252*v*L+45*t+46*v-d/56*(1385+3633*L+4095*t+1574*t*L)))),T=Object(u.a)(this.long0+P*(1-d/6*(1+2*L+v-d/20*(5+28*L+24*t+8*v*L+6*v-d/42*(61+662*L+1320*t+720*t*L))))/I)}else C=m.d*Object(E.a)(p),T=0;return e.x=T,e.y=C,e},names:["Transverse_Mercator","Transverse Mercator","tmerc"]}},function(e,t,o){"use strict";var a=o(288),r=o(516);t.a=function(e){var t=Math.abs(e);return t=Object(r.a)(t*(1+t/(Object(a.a)(1,t)+1))),0>e?-t:t}},function(e,t){"use strict";t.a=function(e){var t=1+e,o=t-1;return 0==o?e:e*Math.log(t)/o}},function(e,t){"use strict";t.a=function(e,t){for(var o=2*Math.cos(2*t),a=e.length-1,r=e[a],i=0,n;0<=--a;)n=-i+o*r+e[a],i=r,r=n;return t+n*Math.sin(2*t)}},function(e,t){"use strict";t.a=function(e,t){for(var o=2*Math.cos(t),a=e.length-1,r=e[a],i=0,n;0<=--a;)n=-i+o*r+e[a],i=r,r=n;return Math.sin(t)*n}},function(e,t,o){"use strict";var a=o(287),n=o(520);t.a=function(e,t,o){for(var s=Math.sin(t),l=Math.cos(t),d=Object(a.a)(o),p=Object(n.a)(o),g=2*l*p,r=-2*s*d,i=e.length-1,_=e[i],c=0,u=0,y=0,m,h;0<=--i;)m=u,h=c,u=_,c=y,_=-m+g*u-r*c+e[i],y=-h+r*u+g*c;return g=s*p,r=l*d,[g*_-r*y,g*y+r*_]}},function(e,t){"use strict";t.a=function(e){var t=Math.exp(e);return t=(t+1/t)/2,t}},function(e,t,o){"use strict";var a=o(522),r=o(286),i=o(20);t.a={init:function(){var e=Object(a.a)(this.zone,this.long0);if(e===void 0)throw new Error("unknown utm zone");this.lat0=0,this.long0=(6*Math.abs(e)-183)*i.a,this.x0=5e5,this.y0=this.utmSouth?1e7:0,this.k0=.9996,r.a.init.apply(this),this.forward=r.a.forward,this.inverse=r.a.inverse},names:["Universal Transverse Mercator System","utm"],dependsOn:"etmerc"}},function(e,t,o){"use strict";var a=Math.PI,r=o(24);t.a=function(e,t){if(void 0===e){if(e=Math.floor(30*(Object(r.a)(t)+a)/a)+1,0>e)return 0;if(60<e)return 60}return e}},function(e,t,o){"use strict";var a=Math.atan2,r=Math.sin,i=Math.cos,n=o(524),s=o(24);t.a={init:function(){n.a.init.apply(this);this.rc&&(this.sinc0=r(this.phic0),this.cosc0=i(this.phic0),this.R2=2*this.rc,!this.title&&(this.title="Oblique Stereographic Alternative"))},forward:function(e){var t,o,a,l;return e.x=Object(s.a)(e.x-this.long0),n.a.forward.apply(this,[e]),t=r(e.y),o=i(e.y),a=i(e.x),l=this.k0*this.R2/(1+this.sinc0*t+this.cosc0*o*a),e.x=l*o*r(e.x),e.y=l*(this.cosc0*t-this.sinc0*o*a),e.x=this.a*e.x+this.x0,e.y=this.a*e.y+this.y0,e},inverse:function(e){var t,o,l,d,p;if(e.x=(e.x-this.x0)/this.a,e.y=(e.y-this.y0)/this.a,e.x/=this.k0,e.y/=this.k0,p=Math.sqrt(e.x*e.x+e.y*e.y)){var g=2*a(p,this.R2);t=r(g),o=i(g),d=Math.asin(o*this.sinc0+e.y*t*this.cosc0/p),l=a(e.x*t,p*this.cosc0*o-e.y*this.sinc0*t)}else d=this.phic0,l=0;return e.x=l,e.y=d,n.a.inverse.apply(this,[e]),e.x=Object(s.a)(e.x+this.long0),e},names:["Stereographic_North_Pole","Oblique_Stereographic","Polar_Stereographic","sterea","Oblique Stereographic Alternative"]}},function(e,t,o){"use strict";var a=Math.tan,r=Math.atan,i=Math.sqrt,n=Math.sin,s=Math.pow,l=o(525),d=o(20);t.a={init:function(){var e=n(this.lat0),t=Math.cos(this.lat0);t*=t,this.rc=i(1-this.es)/(1-this.es*e*e),this.C=i(1+this.es*t*t/(1-this.es)),this.phic0=Math.asin(e/this.C),this.ratexp=.5*this.C*this.e,this.K=a(.5*this.phic0+d.c)/(s(a(.5*this.lat0+d.c),this.C)*Object(l.a)(this.e*e,this.ratexp))},forward:function(e){var t=e.x,o=e.y;return e.y=2*r(this.K*s(a(.5*o+d.c),this.C)*Object(l.a)(this.e*n(o),this.ratexp))-d.d,e.x=this.C*t,e},inverse:function(e){for(var t=e.x/this.C,o=e.y,p=s(a(.5*o+d.c)/this.K,1/this.C),g=20;0<g&&(o=2*r(p*Object(l.a)(this.e*n(e.y),-.5*this.e))-d.d,!(Math.abs(o-e.y)<1e-14));--g)e.y=o;return g?(e.x=t,e.y=o,e):null},names:["gauss"]}},function(e,t){"use strict";t.a=function(e,t){return Math.pow((1-e)/(1+e),t)}},function(e,t,o){"use strict";var a=Math.atan2,r=Math.tan,i=Math.asin,n=Math.atan,s=Math.abs,l=Math.sqrt,d=Math.sin,g=Math.cos,p=Math.pow,_=o(20),c=o(124),u=o(105),y=o(146),m=o(147),h=o(24);t.a={init:function(){this.coslat0=g(this.lat0),this.sinlat0=d(this.lat0),this.sphere?1===this.k0&&!isNaN(this.lat_ts)&&s(this.coslat0)<=_.b&&(this.k0=.5*(1+Object(c.a)(this.lat0)*d(this.lat_ts))):(s(this.coslat0)<=_.b&&(0<this.lat0?this.con=1:this.con=-1),this.cons=l(p(1+this.e,1+this.e)*p(1-this.e,1-this.e)),1===this.k0&&!isNaN(this.lat_ts)&&s(this.coslat0)<=_.b&&(this.k0=.5*this.cons*Object(u.a)(this.e,d(this.lat_ts),g(this.lat_ts))/Object(y.a)(this.e,this.con*this.lat_ts,this.con*d(this.lat_ts))),this.ms1=Object(u.a)(this.e,this.sinlat0,this.coslat0),this.X0=2*n(this.ssfn_(this.lat0,this.sinlat0,this.e))-_.d,this.cosX0=g(this.X0),this.sinX0=d(this.X0))},forward:function(e){var t=e.x,o=e.y,a=d(o),r=g(o),i=Object(h.a)(t-this.long0),l,p,c,u,m,f;return s(s(t-this.long0)-Math.PI)<=_.b&&s(o+this.lat0)<=_.b?(e.x=NaN,e.y=NaN,e):this.sphere?(l=2*this.k0/(1+this.sinlat0*a+this.coslat0*r*g(i)),e.x=this.a*l*r*d(i)+this.x0,e.y=this.a*l*(this.coslat0*a-this.sinlat0*r*g(i))+this.y0,e):(p=2*n(this.ssfn_(o,a,this.e))-_.d,u=g(p),c=d(p),s(this.coslat0)<=_.b)?(m=Object(y.a)(this.e,o*this.con,this.con*a),f=2*this.a*this.k0*m/this.cons,e.x=this.x0+f*d(t-this.long0),e.y=this.y0-this.con*f*g(t-this.long0),e):(s(this.sinlat0)<_.b?(l=2*this.a*this.k0/(1+u*g(i)),e.y=l*c):(l=2*this.a*this.k0*this.ms1/(this.cosX0*(1+this.sinX0*c+this.cosX0*u*g(i))),e.y=l*(this.cosX0*c-this.sinX0*u*g(i))+this.y0),e.x=l*u*d(i)+this.x0,e)},inverse:function(e){e.x-=this.x0,e.y-=this.y0;var t=l(e.x*e.x+e.y*e.y),o,p,u,y,f;if(this.sphere){var x=2*n(t/(.5*this.a*this.k0));return(o=this.long0,p=this.lat0,t<=_.b)?(e.x=o,e.y=p,e):(p=i(g(x)*this.sinlat0+e.y*d(x)*this.coslat0/t),o=s(this.coslat0)<_.b?0<this.lat0?Object(h.a)(this.long0+a(e.x,-1*e.y)):Object(h.a)(this.long0+a(e.x,e.y)):Object(h.a)(this.long0+a(e.x*d(x),t*this.coslat0*g(x)-e.y*this.sinlat0*d(x))),e.x=o,e.y=p,e)}if(s(this.coslat0)<=_.b){if(t<=_.b)return p=this.lat0,o=this.long0,e.x=o,e.y=p,e;e.x*=this.con,e.y*=this.con,u=t*this.cons/(2*this.a*this.k0),p=this.con*Object(m.a)(this.e,u),o=this.con*Object(h.a)(this.con*this.long0+a(e.x,-1*e.y))}else y=2*n(t*this.cosX0/(2*this.a*this.k0*this.ms1)),o=this.long0,t<=_.b?f=this.X0:(f=i(g(y)*this.sinX0+e.y*d(y)*this.cosX0/t),o=Object(h.a)(this.long0+a(e.x*d(y),t*this.cosX0*g(y)-e.y*this.sinX0*d(y)))),p=-1*Object(m.a)(this.e,r(.5*(_.d+f)));return e.x=o,e.y=p,e},names:["stere","Stereographic_South_Pole","Polar Stereographic (variant B)"],ssfn_:function(e,t,o){return t*=o,r(.5*(_.d+e))*p((1-t)/(1+t),.5*o)}}},function(e,t){"use strict";var o=Math.tan,a=Math.asin,r=Math.atan,i=Math.exp,n=Math.sqrt,s=Math.sin,l=Math.cos,d=Math.pow,g=Math.log,_=Math.PI;t.a={init:function(){var t=this.lat0;this.lambda0=this.long0;var r=s(t),i=this.a,p=this.rf,c=1/p,u=2*c-d(c,2),y=this.e=n(u);this.R=this.k0*i*n(1-u)/(1-u*d(r,2)),this.alpha=n(1+u/(1-u)*d(l(t),4)),this.b0=a(r/this.alpha);var e=g(o(_/4+this.b0/2)),m=g(o(_/4+t/2)),h=g((1+y*r)/(1-y*r));this.K=e-this.alpha*m+this.alpha*y/2*h},forward:function(e){var t=g(o(_/4-e.y/2)),n=this.e/2*g((1+this.e*s(e.y))/(1-this.e*s(e.y))),d=-this.alpha*(t+n)+this.K,p=2*(r(i(d))-_/4),c=this.alpha*(e.x-this.lambda0),u=r(s(c)/(s(this.b0)*o(p)+l(this.b0)*l(c))),y=a(l(this.b0)*s(p)-s(this.b0)*l(p)*l(c));return e.y=this.R/2*g((1+s(y))/(1-s(y)))+this.y0,e.x=this.R*u+this.x0,e},inverse:function(e){for(var t=e.x-this.x0,n=e.y-this.y0,d=t/this.R,p=2*(r(i(n/this.R))-_/4),c=a(l(this.b0)*s(p)+s(this.b0)*l(p)*l(d)),u=r(s(d)/(l(this.b0)*l(d)-s(this.b0)*o(p))),y=this.lambda0+u/this.alpha,m=0,h=c,f=-1e3,x=0;1e-7<Math.abs(h-f);){if(20<++x)return;m=1/this.alpha*(g(o(_/4+c/2))-this.K)+this.e*g(o(_/4+a(this.e*s(h))/2)),f=h,h=2*r(i(m))-_/2}return e.x=y,e.y=h,e},names:["somerc"]}},function(e,t,o){"use strict";var a=Math.atan2,r=Math.tan,i=Math.asin,n=Math.atan,s=Math.abs,l=Math.sqrt,d=Math.sin,g=Math.cos,_=Math.pow,c=Math.log,p=o(146),u=o(24),y=o(147),m=o(20);t.a={init:function(){this.no_off=this.no_off||!1,this.no_rot=this.no_rot||!1,isNaN(this.k0)&&(this.k0=1);var e=d(this.lat0),t=g(this.lat0),o=this.e*e;this.bl=l(1+this.es/(1-this.es)*_(t,4)),this.al=this.a*this.bl*this.k0*l(1-this.es)/(1-o*o);var s=Object(p.a)(this.e,this.lat0,e),c=this.bl/t*l((1-this.es)/(1-o*o));1>c*c&&(c=1);var y,m;if(!isNaN(this.longc))y=0<=this.lat0?c+l(c*c-1):c-l(c*c-1),this.el=y*_(s,this.bl),m=.5*(y-1/y),this.gamma0=i(d(this.alpha)/c),this.long0=this.longc-i(m*r(this.gamma0))/this.bl;else{var h=Object(p.a)(this.e,this.lat1,d(this.lat1)),f=Object(p.a)(this.e,this.lat2,d(this.lat2));this.el=0<=this.lat0?(c+l(c*c-1))*_(s,this.bl):(c-l(c*c-1))*_(s,this.bl);var x=_(h,this.bl),E=_(f,this.bl);y=this.el/x,m=.5*(y-1/y);var C=(this.el*this.el-E*x)/(this.el*this.el+E*x),T=Object(u.a)(this.long1-this.long2);this.long0=.5*(this.long1+this.long2)-n(C*r(.5*this.bl*T)/((E-x)/(E+x)))/this.bl,this.long0=Object(u.a)(this.long0);var S=Object(u.a)(this.long1-this.long0);this.gamma0=n(d(this.bl*S)/m),this.alpha=i(c*d(this.gamma0))}this.uc=this.no_off?0:0<=this.lat0?this.al/this.bl*a(l(c*c-1),g(this.alpha)):-1*this.al/this.bl*a(l(c*c-1),g(this.alpha))},forward:function(e){var o=e.x,i=e.y,n=Object(u.a)(o-this.long0),l,y,h;if(s(s(i)-m.d)<=m.b)h=0<i?-1:1,y=this.al/this.bl*c(r(m.c+.5*(h*this.gamma0))),l=-1*h*m.d*this.al/this.bl;else{var f=Object(p.a)(this.e,i,d(i)),t=this.el/_(f,this.bl),x=.5*(t-1/t),E=d(this.bl*n),C=(x*d(this.gamma0)-E*g(this.gamma0))/(.5*(t+1/t));y=s(s(C)-1)<=m.b?Number.POSITIVE_INFINITY:.5*this.al*c((1-C)/(1+C))/this.bl,l=s(g(this.bl*n))<=m.b?this.al*this.bl*n:this.al*a(x*g(this.gamma0)+E*d(this.gamma0),g(this.bl*n))/this.bl}return this.no_rot?(e.x=this.x0+l,e.y=this.y0+y):(l-=this.uc,e.x=this.x0+y*g(this.alpha)+l*d(this.alpha),e.y=this.y0+l*g(this.alpha)-y*d(this.alpha)),e},inverse:function(e){var t,o;this.no_rot?(o=e.y-this.y0,t=e.x-this.x0):(o=(e.x-this.x0)*g(this.alpha)-(e.y-this.y0)*d(this.alpha),t=(e.y-this.y0)*g(this.alpha)+(e.x-this.x0)*d(this.alpha),t+=this.uc);var r=Math.exp(-1*this.bl*o/this.al),i=.5*(r-1/r),n=d(this.bl*t/this.al),p=(n*g(this.gamma0)+i*d(this.gamma0))/(.5*(r+1/r)),c=_(this.el/l((1+p)/(1-p)),1/this.bl);return s(p-1)<m.b?(e.x=this.long0,e.y=m.d):s(p+1)<m.b?(e.x=this.long0,e.y=-1*m.d):(e.y=Object(y.a)(this.e,c),e.x=Object(u.a)(this.long0-a(i*g(this.gamma0)-n*d(this.gamma0),g(this.bl*t/this.al))/this.bl)),e},names:["Hotine_Oblique_Mercator","Hotine Oblique Mercator","Hotine_Oblique_Mercator_Azimuth_Natural_Origin","Hotine_Oblique_Mercator_Azimuth_Center","omerc"]}},function(e,t,o){"use strict";var a=Math.abs,r=Math.sqrt,i=Math.sin,n=Math.cos,s=Math.pow,l=Math.log,d=o(105),g=o(146),_=o(124),c=o(24),u=o(147),m=o(20);t.a={init:function(){if(this.lat2||(this.lat2=this.lat1),this.k0||(this.k0=1),this.x0=this.x0||0,this.y0=this.y0||0,!(a(this.lat1+this.lat2)<m.b)){var e=this.b/this.a;this.e=r(1-e*e);var t=i(this.lat1),o=n(this.lat1),p=Object(d.a)(this.e,t,o),_=Object(g.a)(this.e,this.lat1,t),c=i(this.lat2),u=n(this.lat2),y=Object(d.a)(this.e,c,u),h=Object(g.a)(this.e,this.lat2,c),f=Object(g.a)(this.e,this.lat0,i(this.lat0));this.ns=a(this.lat1-this.lat2)>m.b?l(p/y)/l(_/h):t,isNaN(this.ns)&&(this.ns=t),this.f0=p/(this.ns*s(_,this.ns)),this.rh=this.a*this.f0*s(f,this.ns),this.title||(this.title="Lambert Conformal Conic")}},forward:function(e){var t=e.x,o=e.y;a(2*a(o)-Math.PI)<=m.b&&(o=Object(_.a)(o)*(m.d-2*m.b));var r=a(a(o)-m.d),l,d;if(r>m.b)l=Object(g.a)(this.e,o,i(o)),d=this.a*this.f0*s(l,this.ns);else{if(r=o*this.ns,0>=r)return null;d=0}var p=this.ns*Object(c.a)(t-this.long0);return e.x=this.k0*(d*i(p))+this.x0,e.y=this.k0*(this.rh-d*n(p))+this.y0,e},inverse:function(e){var t=(e.x-this.x0)/this.k0,o=this.rh-(e.y-this.y0)/this.k0,a,i,n,l,d;0<this.ns?(a=r(t*t+o*o),i=1):(a=-r(t*t+o*o),i=-1);var p=0;if(0!==a&&(p=Math.atan2(i*t,i*o)),!(0!==a||0<this.ns))l=-m.d;else if(i=1/this.ns,n=s(a/(this.a*this.f0),i),l=Object(u.a)(this.e,n),-9999===l)return null;return d=Object(c.a)(p/this.ns+this.long0),e.x=d,e.y=l,e},names:["Lambert Tangential Conformal Conic Projection","Lambert_Conformal_Conic","Lambert_Conformal_Conic_2SP","lcc"]}},function(e,t,o){"use strict";var a=Math.tan,r=Math.asin,i=Math.atan,n=Math.sqrt,l=Math.sin,g=Math.cos,_=Math.pow,c=o(24);t.a={init:function(){this.a=6377397.155,this.es=.006674372230614,this.e=n(this.es),this.lat0||(this.lat0=.863937979737193),this.long0||(this.long0=.7417649320975901-.308341501185665),this.k0||(this.k0=.9999),this.s45=.785398163397448,this.s90=2*this.s45,this.fi0=this.lat0,this.e2=this.es,this.e=n(this.e2),this.alfa=n(1+this.e2*_(g(this.fi0),4)/(1-this.e2)),this.uq=1.04216856380474,this.u0=r(l(this.fi0)/this.alfa),this.g=_((1+this.e*l(this.fi0))/(1-this.e*l(this.fi0)),this.alfa*this.e/2),this.k=a(this.u0/2+this.s45)/_(a(this.fi0/2+this.s45),this.alfa)*this.g,this.k1=this.k0,this.n0=this.a*n(1-this.e2)/(1-this.e2*_(l(this.fi0),2)),this.s0=1.37008346281555,this.n=l(this.s0),this.ro0=this.k1*this.n0/a(this.s0),this.ad=this.s90-this.uq},forward:function(e){var t=e.x,o=e.y,n=Object(c.a)(t-this.long0),p,y,u,m,s,d,h;return p=_((1+this.e*l(o))/(1-this.e*l(o)),this.alfa*this.e/2),y=2*(i(this.k*_(a(o/2+this.s45),this.alfa)/p)-this.s45),u=-n*this.alfa,m=r(g(this.ad)*l(y)+l(this.ad)*g(y)*g(u)),s=r(g(y)*l(u)/g(m)),d=this.n*s,h=this.ro0*_(a(this.s0/2+this.s45),this.n)/_(a(m/2+this.s45),this.n),e.y=h*g(d)/1,e.x=h*l(d)/1,this.czech||(e.y*=-1,e.x*=-1),e},inverse:function(e){var t=e.x,o,p,c,s,d,u,y,m;e.x=e.y,e.y=t,this.czech||(e.y*=-1,e.x*=-1),u=n(e.x*e.x+e.y*e.y),d=Math.atan2(e.y,e.x),s=d/l(this.s0),c=2*(i(_(this.ro0/u,1/this.n)*a(this.s0/2+this.s45))-this.s45),o=r(g(this.ad)*l(c)-l(this.ad)*g(c)*g(s)),p=r(g(c)*l(s)/g(o)),e.x=this.long0-p/this.alfa,y=o,m=0;var h=0;do e.y=2*(i(_(this.k,-1/this.alfa)*_(a(o/2+this.s45),1/this.alfa)*_((1+this.e*l(y))/(1-this.e*l(y)),this.e/2))-this.s45),1e-10>Math.abs(y-e.y)&&(m=1),y=e.y,h+=1;while(0===m&&15>h);return 15<=h?null:e},names:["Krovak","krovak"]}},function(e,t,o){"use strict";var a=Math.atan2,r=Math.tan,i=Math.asin,n=Math.abs,s=Math.sin,l=Math.cos,d=o(148),p=o(149),g=o(150),_=o(151),c=o(152),u=o(194),m=o(24),h=o(125),f=o(195),E=o(20);t.a={init:function(){this.sphere||(this.e0=Object(p.a)(this.es),this.e1=Object(g.a)(this.es),this.e2=Object(_.a)(this.es),this.e3=Object(c.a)(this.es),this.ml0=this.a*Object(d.a)(this.e0,this.e1,this.e2,this.e3,this.lat0))},forward:function(e){var t=e.x,o=e.y,n,p;if(t=Object(m.a)(t-this.long0),this.sphere)n=this.a*i(l(o)*s(t)),p=this.a*(a(r(o),l(t))-this.lat0);else{var g=s(o),_=l(o),c=Object(u.a)(this.a,this.e,g),y=r(o)*r(o),h=t*l(o),f=h*h,x=this.es*_*_/(1-this.es),E=this.a*Object(d.a)(this.e0,this.e1,this.e2,this.e3,o);n=c*h*(1-f*y*(1/6-(8-y+8*x)*f/120)),p=E-this.ml0+c*g/_*f*(.5+(5-y+6*x)*f/24)}return e.x=n+this.x0,e.y=p+this.y0,e},inverse:function(e){e.x-=this.x0,e.y-=this.y0;var t=e.x/this.a,o=e.y/this.a,d,p;if(this.sphere){var g=o+this.lat0;d=i(s(g)*l(t)),p=a(r(t),l(g))}else{var _=this.ml0/this.a+o,c=Object(f.a)(_,this.e0,this.e1,this.e2,this.e3);if(n(n(c)-E.d)<=E.b)return e.x=this.long0,e.y=E.d,0>o&&(e.y*=-1),e;var y=Object(u.a)(this.a,this.e,s(c)),x=y*y*y/this.a/this.a*(1-this.es),C=Math.pow(r(c),2),T=t*this.a/y,S=T*T;d=c-y*r(c)/x*T*T*(.5-(1+3*C)*T*T/24),p=T*(1-S*(C/3+(1+3*C)*C*S/15))/l(c)}return e.x=Object(m.a)(p+this.long0),e.y=Object(h.a)(d),e},names:["Cassini","Cassini_Soldner","cass"]}},function(e,t,o){"use strict";function a(e){var o=[],a;return o[0]=e*u,a=e*e,o[0]+=a*y,o[1]=a*h,a*=e,o[0]+=a*m,o[1]+=a*f,o[2]=a*x,o}function r(e,o){var a=e+e;return e+o[0]*d(a)+o[1]*d(a+a)+o[2]*d(a+a+a)}var i=Math.atan2,n=Math.asin,s=Math.abs,l=Math.sqrt,d=Math.sin,g=Math.cos,_=o(20),p=o(196),c=o(24),u=.3333333333333333,y=.17222222222222222,m=.10257936507936508,h=.06388888888888888,f=.0664021164021164,x=.016415012942191543;t.a={init:function(){var e=s(this.lat0);if(this.mode=s(e-_.d)<_.b?0>this.lat0?this.S_POLE:this.N_POLE:s(e)<_.b?this.EQUIT:this.OBLIQ,0<this.es){var t;switch(this.qp=Object(p.a)(this.e,1),this.mmf=.5/(1-this.es),this.apa=a(this.es),this.mode){case this.N_POLE:this.dd=1;break;case this.S_POLE:this.dd=1;break;case this.EQUIT:this.rq=l(.5*this.qp),this.dd=1/this.rq,this.xmf=1,this.ymf=.5*this.qp;break;case this.OBLIQ:this.rq=l(.5*this.qp),t=d(this.lat0),this.sinb1=Object(p.a)(this.e,t)/this.qp,this.cosb1=l(1-this.sinb1*this.sinb1),this.dd=g(this.lat0)/(l(1-this.es*t*t)*this.rq*this.cosb1),this.ymf=(this.xmf=this.rq)/this.dd,this.xmf*=this.dd;}}else this.mode===this.OBLIQ&&(this.sinph0=d(this.lat0),this.cosph0=g(this.lat0))},forward:function(e){var t=e.x,o=e.y,a,r,i,n,u,y,m,h,f,x;if(t=Object(c.a)(t-this.long0),!this.sphere){switch(m=0,h=0,f=0,i=g(t),n=d(t),u=d(o),y=Object(p.a)(this.e,u),(this.mode===this.OBLIQ||this.mode===this.EQUIT)&&(m=y/this.qp,h=l(1-m*m)),this.mode){case this.OBLIQ:f=1+this.sinb1*m+this.cosb1*h*i;break;case this.EQUIT:f=1+h*i;break;case this.N_POLE:f=_.d+o,y=this.qp-y;break;case this.S_POLE:f=o-_.d,y=this.qp+y;}if(s(f)<_.b)return null;switch(this.mode){case this.OBLIQ:case this.EQUIT:f=l(2/f),r=this.mode===this.OBLIQ?this.ymf*f*(this.cosb1*m-this.sinb1*h*i):(f=l(2/(1+h*i)))*m*this.ymf,a=this.xmf*f*h*n;break;case this.N_POLE:case this.S_POLE:0<=y?(a=(f=l(y))*n,r=i*(this.mode===this.S_POLE?f:-f)):a=r=0;}}else if(u=d(o),x=g(o),i=g(t),this.mode===this.OBLIQ||this.mode===this.EQUIT){if(r=this.mode===this.EQUIT?1+x*i:1+this.sinph0*u+this.cosph0*x*i,r<=_.b)return null;r=l(2/r),a=r*x*d(t),r*=this.mode===this.EQUIT?u:this.cosph0*u-this.sinph0*x*i}else if(this.mode===this.N_POLE||this.mode===this.S_POLE){if(this.mode===this.N_POLE&&(i=-i),s(o+this.phi0)<_.b)return null;r=_.c-.5*o,r=2*(this.mode===this.S_POLE?g(r):d(r)),a=r*d(t),r*=i}return e.x=this.a*a+this.x0,e.y=this.a*r+this.y0,e},inverse:function(e){e.x-=this.x0,e.y-=this.y0;var t=e.x/this.a,o=e.y/this.a,a,p,u,m,h,f,x;if(this.sphere){var E=0,C=0,T;if(T=l(t*t+o*o),p=.5*T,1<p)return null;switch(p=2*n(p),(this.mode===this.OBLIQ||this.mode===this.EQUIT)&&(C=d(p),E=g(p)),this.mode){case this.EQUIT:p=s(T)<=_.b?0:n(o*C/T),t*=C,o=E*T;break;case this.OBLIQ:p=s(T)<=_.b?this.phi0:n(E*this.sinph0+o*C*this.cosph0/T),t*=C*this.cosph0,o=(E-d(p)*this.sinph0)*T;break;case this.N_POLE:o=-o,p=_.d-p;break;case this.S_POLE:p-=_.d;}a=0===o&&(this.mode===this.EQUIT||this.mode===this.OBLIQ)?0:i(t,o)}else{if(x=0,this.mode===this.OBLIQ||this.mode===this.EQUIT){if(t/=this.dd,o*=this.dd,f=l(t*t+o*o),f<_.b)return e.x=0,e.y=this.phi0,e;m=2*n(.5*f/this.rq),u=g(m),t*=m=d(m),this.mode===this.OBLIQ?(x=u*this.sinb1+o*m*this.cosb1/f,h=this.qp*x,o=f*this.cosb1*u-o*this.sinb1*m):(x=o*m/f,h=this.qp*x,o=f*u)}else if(this.mode===this.N_POLE||this.mode===this.S_POLE){if(this.mode===this.N_POLE&&(o=-o),h=t*t+o*o,!h)return e.x=0,e.y=this.phi0,e;x=1-h/this.qp,this.mode===this.S_POLE&&(x=-x)}a=i(t,o),p=r(n(x),this.apa)}return e.x=Object(c.a)(this.long0+a),e.y=p,e},names:["Lambert Azimuthal Equal Area","Lambert_Azimuthal_Equal_Area","laea"],S_POLE:1,N_POLE:2,EQUIT:3,OBLIQ:4}},function(e,t,o){"use strict";var a=Math.abs,r=Math.sqrt,n=Math.sin,s=Math.cos,i=o(105),l=o(196),d=o(24),p=o(106),g=o(20);t.a={init:function(){a(this.lat1+this.lat2)<g.b||(this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e3=r(this.es),this.sin_po=n(this.lat1),this.cos_po=s(this.lat1),this.t1=this.sin_po,this.con=this.sin_po,this.ms1=Object(i.a)(this.e3,this.sin_po,this.cos_po),this.qs1=Object(l.a)(this.e3,this.sin_po,this.cos_po),this.sin_po=n(this.lat2),this.cos_po=s(this.lat2),this.t2=this.sin_po,this.ms2=Object(i.a)(this.e3,this.sin_po,this.cos_po),this.qs2=Object(l.a)(this.e3,this.sin_po,this.cos_po),this.sin_po=n(this.lat0),this.cos_po=s(this.lat0),this.t3=this.sin_po,this.qs0=Object(l.a)(this.e3,this.sin_po,this.cos_po),this.ns0=a(this.lat1-this.lat2)>g.b?(this.ms1*this.ms1-this.ms2*this.ms2)/(this.qs2-this.qs1):this.con,this.c=this.ms1*this.ms1+this.ns0*this.qs1,this.rh=this.a*r(this.c-this.ns0*this.qs0)/this.ns0)},forward:function(e){var t=e.x,o=e.y;this.sin_phi=n(o),this.cos_phi=s(o);var a=Object(l.a)(this.e3,this.sin_phi,this.cos_phi),i=this.a*r(this.c-this.ns0*a)/this.ns0,p=this.ns0*Object(d.a)(t-this.long0),g=i*n(p)+this.x0,_=this.rh-i*s(p)+this.y0;return e.x=g,e.y=_,e},inverse:function(e){var t,o,a,i,n,s;return e.x-=this.x0,e.y=this.rh-e.y+this.y0,0<=this.ns0?(t=r(e.x*e.x+e.y*e.y),a=1):(t=-r(e.x*e.x+e.y*e.y),a=-1),i=0,0!==t&&(i=Math.atan2(a*e.x,a*e.y)),a=t*this.ns0/this.a,this.sphere?s=Math.asin((this.c-a*a)/(2*this.ns0)):(o=(this.c-a*a)/this.ns0,s=this.phi1z(this.e3,o)),n=Object(d.a)(i/this.ns0+this.long0),e.x=n,e.y=s,e},names:["Albers_Conic_Equal_Area","Albers","aea"],phi1z:function(e,t){var o=Object(p.a)(.5*t),r,l,d,_,c;if(e<g.b)return o;for(var u=1;25>=u;u++)if(r=n(o),l=s(o),d=e*r,_=1-d*d,c=.5*_*_/l*(t/(1-e*e)-r/_+.5/e*Math.log((1-d)/(1+d))),o+=c,1e-7>=a(c))return o;return null}}},function(e,t,o){"use strict";var a=Math.atan2,r=Math.sin,i=Math.cos,n=o(24),s=o(106),l=o(20);t.a={init:function(){this.sin_p14=r(this.lat0),this.cos_p14=i(this.lat0),this.infinity_dist=1e3*this.a,this.rc=1},forward:function(e){var t=e.x,o=e.y,a,s,d,p,_,c,g,u;return d=Object(n.a)(t-this.long0),a=r(o),s=i(o),p=i(d),c=this.sin_p14*a+this.cos_p14*s*p,_=1,0<c||Math.abs(c)<=l.b?(g=this.x0+this.a*_*s*r(d)/c,u=this.y0+this.a*_*(this.cos_p14*a-this.sin_p14*s*p)/c):(g=this.x0+this.infinity_dist*s*r(d),u=this.y0+this.infinity_dist*(this.cos_p14*a-this.sin_p14*s*p)),e.x=g,e.y=u,e},inverse:function(e){var t,o,l,d,p,g;return e.x=(e.x-this.x0)/this.a,e.y=(e.y-this.y0)/this.a,e.x/=this.k0,e.y/=this.k0,(t=Math.sqrt(e.x*e.x+e.y*e.y))?(d=a(t,this.rc),o=r(d),l=i(d),g=Object(s.a)(l*this.sin_p14+e.y*o*this.cos_p14/t),p=a(e.x*o,t*this.cos_p14*l-e.y*this.sin_p14*o),p=Object(n.a)(this.long0+p)):(g=this.phic0,p=0),e.x=p,e.y=g,e},names:["gnom"]}},function(e,t,o){"use strict";var a=Math.sin,r=Math.cos,i=o(24),n=o(196),s=o(105),l=o(536);t.a={init:function(){this.sphere||(this.k0=Object(s.a)(this.e,a(this.lat_ts),r(this.lat_ts)))},forward:function(e){var t=e.x,o=e.y,s=Object(i.a)(t-this.long0),l,d;if(this.sphere)l=this.x0+this.a*s*r(this.lat_ts),d=this.y0+this.a*a(o)/r(this.lat_ts);else{var p=Object(n.a)(this.e,a(o));l=this.x0+this.a*this.k0*s,d=this.y0+.5*(this.a*p)/this.k0}return e.x=l,e.y=d,e},inverse:function(e){e.x-=this.x0,e.y-=this.y0;var t,o;return this.sphere?(t=Object(i.a)(this.long0+e.x/this.a/r(this.lat_ts)),o=Math.asin(e.y/this.a*r(this.lat_ts))):(o=Object(l.a)(this.e,2*e.y*this.k0/this.a),t=Object(i.a)(this.long0+e.x/(this.a*this.k0))),e.x=t,e.y=o,e},names:["cea"]}},function(e,t,o){"use strict";var a=Math.abs,r=Math.log,n=o(20);t.a=function(e,t){var o=1-(1-e*e)/(2*e)*r((1-e)/(1+e));if(1e-6>a(a(t)-o))return 0>t?-1*n.d:n.d;for(var s=Math.asin(.5*t),l=0,i,d,p,g;30>l;l++)if(d=Math.sin(s),p=Math.cos(s),g=e*d,i=Math.pow(1-g*g,2)/(2*p)*(t/(1-e*e)-d/(1-g*g)+.5/e*r((1-g)/(1+g))),s+=i,1e-10>=a(i))return s;return NaN}},function(e,t,o){"use strict";var a=o(24),r=o(125);t.a={init:function(){this.x0=this.x0||0,this.y0=this.y0||0,this.lat0=this.lat0||0,this.long0=this.long0||0,this.lat_ts=this.lat_ts||0,this.title=this.title||"Equidistant Cylindrical (Plate Carre)",this.rc=Math.cos(this.lat_ts)},forward:function(e){var t=e.x,o=e.y,i=Object(a.a)(t-this.long0),n=Object(r.a)(o-this.lat0);return e.x=this.x0+this.a*i*this.rc,e.y=this.y0+this.a*n,e},inverse:function(e){var t=e.x,o=e.y;return e.x=Object(a.a)(this.long0+(t-this.x0)/(this.a*this.rc)),e.y=Object(r.a)(this.lat0+(o-this.y0)/this.a),e},names:["Equirectangular","Equidistant_Cylindrical","eqc"]}},function(e,t,o){"use strict";var a=Math.tan,r=Math.asin,n=Math.abs,s=Math.sqrt,l=Math.sin,d=Math.cos,p=Math.pow,i=o(149),g=o(150),_=o(151),c=o(152),u=o(24),m=o(125),h=o(148),f=o(20),E=o(194),y=20;t.a={init:function(){this.temp=this.b/this.a,this.es=1-p(this.temp,2),this.e=s(this.es),this.e0=Object(i.a)(this.es),this.e1=Object(g.a)(this.es),this.e2=Object(_.a)(this.es),this.e3=Object(c.a)(this.es),this.ml0=this.a*Object(h.a)(this.e0,this.e1,this.e2,this.e3,this.lat0)},forward:function(e){var t=e.x,o=e.y,r=Object(u.a)(t-this.long0),i,s,p;if(p=r*l(o),this.sphere)n(o)<=f.b?(i=this.a*r,s=-1*this.a*this.lat0):(i=this.a*l(p)/a(o),s=this.a*(Object(m.a)(o-this.lat0)+(1-d(p))/a(o)));else if(n(o)<=f.b)i=this.a*r,s=-1*this.ml0;else{var g=Object(E.a)(this.a,this.e,l(o))/a(o);i=g*l(p),s=this.a*Object(h.a)(this.e0,this.e1,this.e2,this.e3,o)-this.ml0+g*(1-d(p))}return e.x=i+this.x0,e.y=s+this.y0,e},inverse:function(e){var t,o,g,_,c,i,m,x,E;if(g=e.x-this.x0,_=e.y-this.y0,this.sphere){if(n(_+this.a*this.lat0)<=f.b)t=Object(u.a)(g/this.a+this.long0),o=0;else{i=this.lat0+_/this.a,m=g*g/this.a/this.a+i*i,x=i;var C;for(c=y;c;--c)if(C=a(x),E=-1*(i*(x*C+1)-x-.5*(x*x+m)*C)/((x-i)/C-1),x+=E,n(E)<=f.b){o=x;break}t=Object(u.a)(this.long0+r(g*a(x)/this.a)/l(o))}}else if(n(_+this.ml0)<=f.b)o=0,t=Object(u.a)(this.long0+g/this.a);else{i=(this.ml0+_)/this.a,m=g*g/this.a/this.a+i*i,x=i;var T,S,R,I,b;for(c=y;c;--c)if(b=this.e*l(x),T=s(1-b*b)*a(x),S=this.a*Object(h.a)(this.e0,this.e1,this.e2,this.e3,x),R=this.e0-2*this.e1*d(2*x)+4*this.e2*d(4*x)-6*this.e3*d(6*x),I=S/this.a,E=(i*(T*I+1)-I-.5*T*(I*I+m))/(this.es*l(2*x)*(I*I+m-2*i*I)/(4*T)+(i-I)*(T*R-2/l(2*x))-R),x-=E,n(E)<=f.b){o=x;break}T=s(1-this.es*p(l(o),2))*a(o),t=Object(u.a)(this.long0+r(g*T/this.a)/l(o))}return e.x=t,e.y=o,e},names:["Polyconic","poly"]}},function(e,t,o){"use strict";var a=o(20);t.a={init:function(){this.A=[],this.A[1]=.6399175073,this.A[2]=-.1358797613,this.A[3]=.063294409,this.A[4]=-.02526853,this.A[5]=.0117879,this.A[6]=-.0055161,this.A[7]=.0026906,this.A[8]=-.001333,this.A[9]=67e-5,this.A[10]=-34e-5,this.B_re=[],this.B_im=[],this.B_re[1]=.7557853228,this.B_im[1]=0,this.B_re[2]=.249204646,this.B_im[2]=.003371507,this.B_re[3]=-.001541739,this.B_im[3]=.04105856,this.B_re[4]=-.10162907,this.B_im[4]=.01727609,this.B_re[5]=-.26623489,this.B_im[5]=-.36249218,this.B_re[6]=-.6870983,this.B_im[6]=-1.1651967,this.C_re=[],this.C_im=[],this.C_re[1]=1.3231270439,this.C_im[1]=0,this.C_re[2]=-.577245789,this.C_im[2]=-.007809598,this.C_re[3]=.508307513,this.C_im[3]=-.112208952,this.C_re[4]=-.15094762,this.C_im[4]=.18200602,this.C_re[5]=1.01418179,this.C_im[5]=1.64497696,this.C_re[6]=1.9660549,this.C_im[6]=2.5127645,this.D=[],this.D[1]=1.5627014243,this.D[2]=.5185406398,this.D[3]=-.03333098,this.D[4]=-.1052906,this.D[5]=-.0368594,this.D[6]=.007317,this.D[7]=.0122,this.D[8]=.00394,this.D[9]=-.0013},forward:function(e){var t=e.x,o=e.y,r=o-this.lat0,i=t-this.long0,s=1E-5*(r/a.l),l=1,d=0,p;for(p=1;10>=p;p++)l*=s,d+=this.A[p]*l;var n=d,g=i,_=1,c=0,u=0,y=0,m,h;for(p=1;6>=p;p++)m=_*n-c*g,h=c*n+_*g,_=m,c=h,u=u+this.B_re[p]*_-this.B_im[p]*c,y=y+this.B_im[p]*_+this.B_re[p]*c;return e.x=y*this.a+this.x0,e.y=u*this.a+this.y0,e},inverse:function(e){var t=e.x,o=e.y,r=t-this.x0,s=o-this.y0,l=s/this.a,d=r/this.a,p=1,g=0,_=0,c=0,u,n,y;for(u=1;6>=u;u++)n=p*l-g*d,y=g*l+p*d,p=n,g=y,_=_+this.C_re[u]*p-this.C_im[u]*g,c=c+this.C_im[u]*p+this.C_re[u]*g;for(var m=0;m<this.iterations;m++){var i=_,h=c,f=l,x=d,E,C;for(u=2;6>=u;u++)E=i*_-h*c,C=h*_+i*c,i=E,h=C,f+=(u-1)*(this.B_re[u]*i-this.B_im[u]*h),x+=(u-1)*(this.B_im[u]*i+this.B_re[u]*h);i=1,h=0;var T=this.B_re[1],S=this.B_im[1];for(u=2;6>=u;u++)E=i*_-h*c,C=h*_+i*c,i=E,h=C,T+=u*(this.B_re[u]*i-this.B_im[u]*h),S+=u*(this.B_im[u]*i+this.B_re[u]*h);var R=T*T+S*S;_=(f*T+x*S)/R,c=(x*T-f*S)/R}var I=_,b=c,v=1,L=0;for(u=1;9>=u;u++)v*=I,L+=this.D[u]*v;var P=this.lat0+1E5*(L*a.l),F=this.long0+b;return e.x=F,e.y=P,e},names:["New_Zealand_Map_Grid","nzmg"]}},function(e,t,o){"use strict";var a=Math.PI,r=o(24);t.a={init:function(){},forward:function(e){var t=e.x,o=e.y,i=Object(r.a)(t-this.long0),n=this.x0+this.a*i,s=this.y0+1.25*(this.a*Math.log(Math.tan(a/4+o/2.5)));return e.x=n,e.y=s,e},inverse:function(e){e.x-=this.x0,e.y-=this.y0;var t=Object(r.a)(this.long0+e.x/this.a),o=2.5*(Math.atan(Math.exp(.8*e.y/this.a))-a/4);return e.x=t,e.y=o,e},names:["Miller_Cylindrical","mill"]}},function(e,t,o){"use strict";var a=Math.abs,r=Math.sqrt,n=Math.sin,l=Math.cos,d=o(24),i=o(125),s=o(284),p=o(193),g=o(285),_=o(20),c=o(106);t.a={init:function(){this.sphere?(this.n=1,this.m=0,this.es=0,this.C_y=r((this.m+1)/this.n),this.C_x=this.C_y/(this.m+1)):this.en=Object(s.a)(this.es)},forward:function(e){var t=e.x,o=e.y,g,u;if(t=Object(d.a)(t-this.long0),this.sphere){if(!this.m)o=1===this.n?o:Math.asin(this.n*n(o));else for(var y=this.n*n(o),m=20,i;m&&(i=(this.m*o+n(o)-y)/(this.m+l(o)),o-=i,!(a(i)<_.b));--m);g=this.a*this.C_x*t*(this.m+l(o)),u=this.a*this.C_y*o}else{var h=n(o),s=l(o);u=this.a*Object(p.a)(o,h,s,this.en),g=this.a*t*s/r(1-this.es*h*h)}return e.x=g,e.y=u,e},inverse:function(e){var t,o,p,u;return e.x-=this.x0,p=e.x/this.a,e.y-=this.y0,t=e.y/this.a,this.sphere?(t/=this.C_y,p/=this.C_x*(this.m+l(t)),this.m?t=Object(c.a)((this.m*t+n(t))/this.n):1!==this.n&&(t=Object(c.a)(n(t)/this.n)),p=Object(d.a)(p+this.long0),t=Object(i.a)(t)):(t=Object(g.a)(e.y/this.a,this.es,this.en),u=a(t),u<_.d?(u=n(t),o=this.long0+e.x*r(1-this.es*u*u)/(this.a*l(t)),p=Object(d.a)(o)):u-_.b<_.d&&(p=this.long0)),e.x=p,e.y=t,e},names:["Sinusoidal","sinu"]}},function(e,t,o){"use strict";var a=Math.asin,r=Math.abs,i=Math.sin,n=Math.cos,s=Math.PI,l=o(24),d=o(20);t.a={init:function(){},forward:function(e){for(var t=e.x,o=e.y,a=Object(l.a)(t-this.long0),p=o,g=s*i(o),_;_=-(p+i(p)-g)/(1+n(p)),p+=_,!(r(_)<d.b););p/=2,s/2-r(o)<d.b&&(a=0);var c=.900316316158*this.a*a*n(p)+this.x0,u=1.4142135623731*this.a*i(p)+this.y0;return e.x=c,e.y=u,e},inverse:function(e){var t,o;e.x-=this.x0,e.y-=this.y0,o=e.y/(1.4142135623731*this.a),.999999999999<r(o)&&(o=.999999999999),t=a(o);var d=Object(l.a)(this.long0+e.x/(.900316316158*this.a*n(t)));d<-s&&(d=-s),d>s&&(d=s),o=(2*t+i(2*t))/s,1<r(o)&&(o=1);var p=a(o);return e.x=d,e.y=p,e},names:["Mollweide","moll"]}},function(e,t,o){"use strict";var a=Math.abs,r=Math.sqrt,i=Math.sin,n=Math.cos,s=o(149),l=o(150),d=o(151),p=o(152),g=o(105),_=o(148),c=o(24),u=o(125),y=o(195),m=o(20);t.a={init:function(){a(this.lat1+this.lat2)<m.b||(this.lat2=this.lat2||this.lat1,this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e=r(this.es),this.e0=Object(s.a)(this.es),this.e1=Object(l.a)(this.es),this.e2=Object(d.a)(this.es),this.e3=Object(p.a)(this.es),this.sinphi=i(this.lat1),this.cosphi=n(this.lat1),this.ms1=Object(g.a)(this.e,this.sinphi,this.cosphi),this.ml1=Object(_.a)(this.e0,this.e1,this.e2,this.e3,this.lat1),a(this.lat1-this.lat2)<m.b?this.ns=this.sinphi:(this.sinphi=i(this.lat2),this.cosphi=n(this.lat2),this.ms2=Object(g.a)(this.e,this.sinphi,this.cosphi),this.ml2=Object(_.a)(this.e0,this.e1,this.e2,this.e3,this.lat2),this.ns=(this.ms1-this.ms2)/(this.ml2-this.ml1)),this.g=this.ml1+this.ms1/this.ns,this.ml0=Object(_.a)(this.e0,this.e1,this.e2,this.e3,this.lat0),this.rh=this.a*(this.g-this.ml0))},forward:function(e){var t=e.x,o=e.y,a;if(this.sphere)a=this.a*(this.g-o);else{var r=Object(_.a)(this.e0,this.e1,this.e2,this.e3,o);a=this.a*(this.g-r)}var s=this.ns*Object(c.a)(t-this.long0),l=this.x0+a*i(s),d=this.y0+this.rh-a*n(s);return e.x=l,e.y=d,e},inverse:function(e){e.x-=this.x0,e.y=this.rh-e.y+this.y0;var t,o,a,i;0<=this.ns?(o=r(e.x*e.x+e.y*e.y),t=1):(o=-r(e.x*e.x+e.y*e.y),t=-1);var n=0;if(0!==o&&(n=Math.atan2(t*e.x,t*e.y)),this.sphere)return i=Object(c.a)(this.long0+n/this.ns),a=Object(u.a)(this.g-o/this.a),e.x=i,e.y=a,e;var s=this.g-o/this.a;return a=Object(y.a)(s,this.e0,this.e1,this.e2,this.e3),i=Object(c.a)(this.long0+n/this.ns),e.x=i,e.y=a,e},names:["Equidistant_Conic","eqdc"]}},function(e,t,o){"use strict";var a=Math.tan,r=Math.abs,i=Math.sqrt,n=Math.cos,s=Math.PI,l=o(24),_=o(20),d=o(106);t.a={init:function(){this.R=this.a},forward:function(e){var t=e.x,o=e.y,p=Object(l.a)(t-this.long0),c,u;r(o)<=_.b&&(c=this.x0+this.R*p,u=this.y0);var y=Object(d.a)(2*r(o/s));(r(p)<=_.b||r(r(o)-_.d)<=_.b)&&(c=this.x0,u=0<=o?this.y0+s*this.R*a(.5*y):this.y0+s*this.R*-a(.5*y));var h=.5*r(s/p-p/s),f=h*h,x=Math.sin(y),E=n(y),C=E/(x+E-1),g=C*(2/x-1),m=g*g,T=s*this.R*(h*(C-m)+i(f*(C-m)*(C-m)-(m+f)*(C*C-m)))/(m+f);0>p&&(T=-T),c=this.x0+T;var S=f+C;return T=s*this.R*(g*S-h*i((m+f)*(f+1)-S*S))/(m+f),u=0<=o?this.y0+T:this.y0-T,e.x=c,e.y=u,e},inverse:function(e){var t,o,a,p,g,c,u,y,m,h,f,x,E;return e.x-=this.x0,e.y-=this.y0,f=s*this.R,a=e.x/f,p=e.y/f,g=a*a+p*p,c=-r(p)*(1+g),u=c-2*p*p+a*a,y=-2*c+1+2*p*p+g*g,E=p*p/y+(2*u*u*u/y/y/y-9*c*u/y/y)/27,m=(c-u*u/3/y)/y,h=2*i(-m/3),f=3*E/m/h,1<r(f)&&(0<=f?f=1:f=-1),x=Math.acos(f)/3,o=0<=e.y?(-h*n(x+s/3)-u/3/y)*s:-(-h*n(x+s/3)-u/3/y)*s,t=r(a)<_.b?this.long0:Object(l.a)(this.long0+s*(g-1+i(1+2*(a*a-p*p)+g*g))/2/a),e.x=t,e.y=o,e},names:["Van_der_Grinten_I","VanDerGrinten","vandg"]}},function(e,t,o){"use strict";var a=Math.atan2,r=Math.tan,i=Math.asin,n=Math.atan,l=Math.abs,d=Math.sqrt,g=Math.sin,_=Math.cos,s=Math.pow,u=o(24),y=o(20),m=o(148),h=o(149),f=o(150),x=o(151),E=o(152),C=o(194),c=o(106),T=o(195);t.a={init:function(){this.sin_p12=g(this.lat0),this.cos_p12=_(this.lat0)},forward:function(e){var t=e.x,o=e.y,p=g(e.y),T=_(e.y),S=Object(u.a)(t-this.long0),R,I,b,v,L,P,F,O,w,N,A,M,G,D,k,j,c,U,B,s,z,Y,V;return this.sphere?l(this.sin_p12-1)<=y.b?(e.x=this.x0+this.a*(y.d-o)*g(S),e.y=this.y0-this.a*(y.d-o)*_(S),e):l(this.sin_p12+1)<=y.b?(e.x=this.x0+this.a*(y.d+o)*g(S),e.y=this.y0+this.a*(y.d+o)*_(S),e):(U=this.sin_p12*p+this.cos_p12*T*_(S),j=Math.acos(U),c=j/g(j),e.x=this.x0+this.a*c*T*g(S),e.y=this.y0+this.a*c*(this.cos_p12*p-this.sin_p12*T*_(S)),e):(R=Object(h.a)(this.es),I=Object(f.a)(this.es),b=Object(x.a)(this.es),v=Object(E.a)(this.es),l(this.sin_p12-1)<=y.b?(L=this.a*Object(m.a)(R,I,b,v,y.d),P=this.a*Object(m.a)(R,I,b,v,o),e.x=this.x0+(L-P)*g(S),e.y=this.y0-(L-P)*_(S),e):l(this.sin_p12+1)<=y.b?(L=this.a*Object(m.a)(R,I,b,v,y.d),P=this.a*Object(m.a)(R,I,b,v,o),e.x=this.x0+(L+P)*g(S),e.y=this.y0+(L+P)*_(S),e):(F=p/T,O=Object(C.a)(this.a,this.e,this.sin_p12),w=Object(C.a)(this.a,this.e,p),N=n((1-this.es)*F+this.es*O*this.sin_p12/(w*T)),A=a(g(S),this.cos_p12*r(N)-this.sin_p12*_(S)),B=0===A?i(this.cos_p12*g(N)-this.sin_p12*_(N)):l(l(A)-Math.PI)<=y.b?-i(this.cos_p12*g(N)-this.sin_p12*_(N)):i(g(S)*_(N)/g(A)),M=this.e*this.sin_p12/d(1-this.es),G=this.e*this.cos_p12*_(A)/d(1-this.es),D=M*G,k=G*G,s=B*B,z=s*B,Y=z*B,V=Y*B,j=O*B*(1-s*k*(1-k)/6+z/8*D*(1-2*k)+Y/120*(k*(4-7*k)-3*M*M*(1-7*k))-V/48*D),e.x=this.x0+j*g(A),e.y=this.y0+j*_(A),e))},inverse:function(e){e.x-=this.x0,e.y-=this.y0;var t,o,p,S,R,I,b,v,L,P,O,w,N,M,G,k,j,U,z,A,B,D,Y;return this.sphere?(t=d(e.x*e.x+e.y*e.y),t>2*y.d*this.a)?void 0:(o=t/this.a,p=g(o),S=_(o),R=this.long0,l(t)<=y.b?I=this.lat0:(I=Object(c.a)(S*this.sin_p12+e.y*p*this.cos_p12/t),b=l(this.lat0)-y.d,R=l(b)<=y.b?0<=this.lat0?Object(u.a)(this.long0+a(e.x,-e.y)):Object(u.a)(this.long0-a(-e.x,e.y)):Object(u.a)(this.long0+a(e.x*p,t*this.cos_p12*S-e.y*this.sin_p12*p))),e.x=R,e.y=I,e):(v=Object(h.a)(this.es),L=Object(f.a)(this.es),P=Object(x.a)(this.es),O=Object(E.a)(this.es),l(this.sin_p12-1)<=y.b?(w=this.a*Object(m.a)(v,L,P,O,y.d),t=d(e.x*e.x+e.y*e.y),N=w-t,I=Object(T.a)(N/this.a,v,L,P,O),R=Object(u.a)(this.long0+a(e.x,-1*e.y)),e.x=R,e.y=I,e):l(this.sin_p12+1)<=y.b?(w=this.a*Object(m.a)(v,L,P,O,y.d),t=d(e.x*e.x+e.y*e.y),N=t-w,I=Object(T.a)(N/this.a,v,L,P,O),R=Object(u.a)(this.long0+a(e.x,e.y)),e.x=R,e.y=I,e):(t=d(e.x*e.x+e.y*e.y),k=a(e.x,e.y),M=Object(C.a)(this.a,this.e,this.sin_p12),j=_(k),U=this.e*this.cos_p12*j,z=-U*U/(1-this.es),A=3*this.es*(1-z)*this.sin_p12*this.cos_p12*j/(1-this.es),B=t/M,D=B-z*(1+z)*s(B,3)/6-A*(1+3*z)*s(B,4)/24,Y=1-z*D*D/2-B*D*D*D/6,G=i(this.sin_p12*_(D)+this.cos_p12*g(D)*j),R=Object(u.a)(this.long0+i(g(k)*g(D)/_(G))),I=n((1-this.es*Y*this.sin_p12/g(G))*r(G)/(1-this.es)),e.x=R,e.y=I,e))},names:["Azimuthal_Equidistant","aeqd"]}},function(e,t,o){"use strict";var a=Math.atan2,r=Math.abs,i=Math.sin,n=Math.cos,s=o(24),l=o(106),d=o(20);t.a={init:function(){this.sin_p14=i(this.lat0),this.cos_p14=n(this.lat0)},forward:function(e){var t=e.x,o=e.y,a,l,p,_,c,u,g,m;return p=Object(s.a)(t-this.long0),a=i(o),l=n(o),_=n(p),u=this.sin_p14*a+this.cos_p14*l*_,c=1,(0<u||r(u)<=d.b)&&(g=this.a*c*l*i(p),m=this.y0+this.a*c*(this.cos_p14*a-this.sin_p14*l*_)),e.x=g,e.y=m,e},inverse:function(e){var t,o,p,g,_,c,u;return(e.x-=this.x0,e.y-=this.y0,t=Math.sqrt(e.x*e.x+e.y*e.y),o=Object(l.a)(t/this.a),p=i(o),g=n(o),c=this.long0,r(t)<=d.b)?(u=this.lat0,e.x=c,e.y=u,e):(u=Object(l.a)(g*this.sin_p14+e.y*p*this.cos_p14/t),_=r(this.lat0)-d.d,r(_)<=d.b)?(c=0<=this.lat0?Object(s.a)(this.long0+a(e.x,-e.y)):Object(s.a)(this.long0-a(-e.x,e.y)),e.x=c,e.y=u,e):(c=Object(s.a)(this.long0+a(e.x*p,t*this.cos_p14*g-e.y*this.sin_p14*p)),e.x=c,e.y=u,e)},names:["ortho"]}},function(e,t,o){"use strict";function a(e,t,o,a){var r;return e<m.b?(a.value=f.AREA_0,r=0):(r=l(t,o),_(r)<=m.c?a.value=f.AREA_0:r>m.c&&r<=m.d+m.c?(a.value=f.AREA_1,r-=m.d):r>m.d+m.c||r<=-(m.d+m.c)?(a.value=f.AREA_2,r=0<=r?r-m.n:r+m.n):(a.value=f.AREA_3,r+=m.d)),r}function i(e,t){var o=e+t;return o<-m.n?o+=m.o:o>+m.n&&(o-=m.o),o}var n=Math.acos,l=Math.atan2,d=Math.tan,g=Math.atan,_=Math.abs,c=Math.sqrt,u=Math.sin,y=Math.cos,m=o(20),h={FRONT:1,RIGHT:2,BACK:3,LEFT:4,TOP:5,BOTTOM:6},f={AREA_0:1,AREA_1:2,AREA_2:3,AREA_3:4};t.a={init:function(){this.x0=this.x0||0,this.y0=this.y0||0,this.lat0=this.lat0||0,this.long0=this.long0||0,this.lat_ts=this.lat_ts||0,this.title=this.title||"Quadrilateralized Spherical Cube",this.face=this.lat0>=m.d-m.c/2?h.TOP:this.lat0<=-(m.d-m.c/2)?h.BOTTOM:_(this.long0)<=m.c?h.FRONT:_(this.long0)<=m.d+m.c?0<this.long0?h.RIGHT:h.LEFT:h.BACK,0!==this.es&&(this.one_minus_f=1-(this.a-this.b)/this.a,this.one_minus_f_squared=this.one_minus_f*this.one_minus_f)},forward:function(e){var o={x:0,y:0},l={value:0},p,_,x,E,C,t;if(e.x-=this.long0,p=0===this.es?e.y:g(this.one_minus_f_squared*d(e.y)),_=e.x,this.face===h.TOP)E=m.d-p,_>=m.c&&_<=m.d+m.c?(l.value=f.AREA_0,x=_-m.d):_>m.d+m.c||_<=-(m.d+m.c)?(l.value=f.AREA_1,x=0<_?_-m.n:_+m.n):_>-(m.d+m.c)&&_<=-m.c?(l.value=f.AREA_2,x=_+m.d):(l.value=f.AREA_3,x=_);else if(this.face===h.BOTTOM)E=m.d+p,_>=m.c&&_<=m.d+m.c?(l.value=f.AREA_0,x=-_+m.d):_<m.c&&_>=-m.c?(l.value=f.AREA_1,x=-_):_<-m.c&&_>=-(m.d+m.c)?(l.value=f.AREA_2,x=-_-m.d):(l.value=f.AREA_3,x=0<_?-_+m.n:-_-m.n);else{var T,S,R,s,I,b,v;this.face===h.RIGHT?_=i(_,+m.d):this.face===h.BACK?_=i(_,+m.n):this.face===h.LEFT&&(_=i(_,-m.d)),s=u(p),I=y(p),b=u(_),v=y(_),T=I*v,S=I*b,R=s,this.face===h.FRONT?(E=n(T),x=a(E,R,S,l)):this.face===h.RIGHT?(E=n(S),x=a(E,R,-T,l)):this.face===h.BACK?(E=n(-T),x=a(E,R,-S,l)):this.face===h.LEFT?(E=n(-S),x=a(E,R,T,l)):(E=x=0,l.value=f.AREA_0)}return t=g(12/m.n*(x+n(u(x)*y(m.c))-m.d)),C=c((1-y(E))/(y(t)*y(t))/(1-y(g(1/y(x))))),l.value===f.AREA_1?t+=m.d:l.value===f.AREA_2?t+=m.n:l.value===f.AREA_3&&(t+=1.5*m.n),o.x=C*y(t),o.y=C*u(t),o.x=o.x*this.a+this.x0,o.y=o.y*this.a+this.y0,e.x=o.x,e.y=o.y,e},inverse:function(e){var o={lam:0,phi:0},a={value:0},p,x,E,C,T,S,R,I,b;if(e.x=(e.x-this.x0)/this.a,e.y=(e.y-this.y0)/this.a,x=g(c(e.x*e.x+e.y*e.y)),p=l(e.y,e.x),0<=e.x&&e.x>=_(e.y)?a.value=f.AREA_0:0<=e.y&&e.y>=_(e.x)?(a.value=f.AREA_1,p-=m.d):0>e.x&&-e.x>=_(e.y)?(a.value=f.AREA_2,p=0>p?p+m.n:p-m.n):(a.value=f.AREA_3,p+=m.d),b=m.n/12*d(p),T=u(b)/(y(b)-1/1.4142135623730951),S=g(T),E=y(p),C=d(x),R=1-E*E*C*C*(1-y(g(1/y(S)))),-1>R?R=-1:1<R&&(R=1),this.face===h.TOP)I=n(R),o.phi=m.d-I,o.lam=a.value===f.AREA_0?S+m.d:a.value===f.AREA_1?0>S?S+m.n:S-m.n:a.value===f.AREA_2?S-m.d:S;else if(this.face===h.BOTTOM)I=n(R),o.phi=I-m.d,o.lam=a.value===f.AREA_0?-S+m.d:a.value===f.AREA_1?-S:a.value===f.AREA_2?-S-m.d:0>S?-S-m.n:-S+m.n;else{var v,L,P;v=R,b=v*v,P=1<=b?0:c(1-b)*u(S),b+=P*P,L=1<=b?0:c(1-b),a.value===f.AREA_1?(b=L,L=-P,P=b):a.value===f.AREA_2?(L=-L,P=-P):a.value===f.AREA_3&&(b=L,L=P,P=-b),this.face===h.RIGHT?(b=v,v=-L,L=b):this.face===h.BACK?(v=-v,L=-L):this.face===h.LEFT&&(b=v,v=L,L=-b),o.phi=n(-P)-m.d,o.lam=l(L,v),this.face===h.RIGHT?o.lam=i(o.lam,-m.d):this.face===h.BACK?o.lam=i(o.lam,-m.n):this.face===h.LEFT&&(o.lam=i(o.lam,+m.d))}if(0!==this.es){var F,O,w;F=0>o.phi?1:0,O=d(o.phi),w=this.b/c(O*O+this.one_minus_f_squared),o.phi=g(c(this.a*this.a-w*w)/(this.one_minus_f*w)),F&&(o.phi=-o.phi)}return o.lam+=this.long0,e.x=o.lam,e.y=o.phi,e},names:["Quadrilateralized Spherical Cube","Quadrilateralized_Spherical_Cube","qsc"]}}]);