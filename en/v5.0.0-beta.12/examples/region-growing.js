webpackJsonp([68],{487:function(a,b,c){"use strict";function d(a){const b=a[0],c=a[1];return[[b+1,c],[b-1,c],[b,c+1],[b,c-1]]}function e(){document.getElementById("threshold-value").innerText=q.value}Object.defineProperty(b,"__esModule",{value:!0});var f=c(2),g=c(1),h=c(6),i=c(4),j=c(31),k=c(140);const l=new h.d({source:new j.a({key:"As1HiMj1PvLPlqc_gtM7AqZfBL8ZL3VrjaS3zIb22Uvb9WKhuJObROC-qUpa81U5",imagerySet:"Aerial"})}),m=new k.a({sources:[l.getSource()],operationType:"image",operation:function(a,b){var c=Math.abs;const e=a[0];let f=b.pixel;const g=parseInt(b.delta);if(!f)return e;f=f.map(Math.round);const h=e.width,i=e.height,j=e.data,k=new Uint8ClampedArray(j),l=4*(f[1]*h+f[0]),m=j[l],n=j[l+1],o=j[l+2];for(let e=[f];e.length;){const a=[];for(let b=0,f=e.length;b<f;b++){const f=d(e[b]);for(let b=0,d=f.length;b<d;b++){const d=f[b][0],e=f[b][1];if(0<=d&&d<h&&0<=e&&e<i){const b=4*(e*h+d),f=j[b],i=j[b+1],l=j[b+2],p=j[b+3];if(0===p)continue;c(m-f)<g&&c(n-i)<g&&c(o-l)<g&&(k[b]=255,k[b+1]=0,k[b+2]=0,k[b+3]=255,a.push([d,e])),j[b+3]=0}}}e=a}return{data:k,width:h,height:i}},lib:{next4Edges:d}}),n=new h.c({opacity:.7,source:m}),o=new f.a({layers:[l,n],target:"map",view:new g.a({center:Object(i.g)([-119.07,47.65]),zoom:11})});let p;o.on("click",function(a){p=a.coordinate,m.changed()});const q=document.getElementById("threshold");m.on("beforeoperations",function(a){const b=a.data;b.delta=q.value,p&&(b.pixel=o.getPixelFromCoordinate(p))}),e(),q.addEventListener("input",function(){e(),m.changed()})}},[487]);