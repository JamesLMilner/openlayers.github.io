webpackJsonp([30],{582:function(a,b,c){"use strict";function d(a,b){return new n.g({stroke:new n.f({color:"blue",width:1}),fill:new n.c({color:"rgba(0, 0, 255, 0.1)"}),text:r(a,b,p.polygons)})}function e(a,b){return new n.g({stroke:new n.f({color:"green",width:2}),text:r(a,b,p.lines)})}function f(a,b){return new n.g({image:new n.b({radius:10,fill:new n.c({color:"rgba(255, 0, 0, 0.1)"}),stroke:new n.f({color:"red",width:1})}),text:r(a,b,p.points)})}function g(a,b,c){if(a.length>b){let d=b;for(;0<d&&" "!=a[d]&&"-"!=a[d];)d--;if(0<d){let e="-"==a.substring(d,d+1)?a.substring(0,d+1):a.substring(0,d);const f=a.substring(d+1);return e+c+g(f,b,c)}}return a}var h=String.prototype;Object.defineProperty(b,"__esModule",{value:!0});var i=c(2),j=c(1),k=c(26),l=c(6),m=c(16),n=c(9);let o=!1;const p={points:{text:document.getElementById("points-text"),align:document.getElementById("points-align"),baseline:document.getElementById("points-baseline"),rotation:document.getElementById("points-rotation"),font:document.getElementById("points-font"),weight:document.getElementById("points-weight"),size:document.getElementById("points-size"),offsetX:document.getElementById("points-offset-x"),offsetY:document.getElementById("points-offset-y"),color:document.getElementById("points-color"),outline:document.getElementById("points-outline"),outlineWidth:document.getElementById("points-outline-width"),maxreso:document.getElementById("points-maxreso")},lines:{text:document.getElementById("lines-text"),align:document.getElementById("lines-align"),baseline:document.getElementById("lines-baseline"),rotation:document.getElementById("lines-rotation"),font:document.getElementById("lines-font"),weight:document.getElementById("lines-weight"),placement:document.getElementById("lines-placement"),maxangle:document.getElementById("lines-maxangle"),overflow:document.getElementById("lines-overflow"),size:document.getElementById("lines-size"),offsetX:document.getElementById("lines-offset-x"),offsetY:document.getElementById("lines-offset-y"),color:document.getElementById("lines-color"),outline:document.getElementById("lines-outline"),outlineWidth:document.getElementById("lines-outline-width"),maxreso:document.getElementById("lines-maxreso")},polygons:{text:document.getElementById("polygons-text"),align:document.getElementById("polygons-align"),baseline:document.getElementById("polygons-baseline"),rotation:document.getElementById("polygons-rotation"),font:document.getElementById("polygons-font"),weight:document.getElementById("polygons-weight"),placement:document.getElementById("polygons-placement"),maxangle:document.getElementById("polygons-maxangle"),overflow:document.getElementById("polygons-overflow"),size:document.getElementById("polygons-size"),offsetX:document.getElementById("polygons-offset-x"),offsetY:document.getElementById("polygons-offset-y"),color:document.getElementById("polygons-color"),outline:document.getElementById("polygons-outline"),outlineWidth:document.getElementById("polygons-outline-width"),maxreso:document.getElementById("polygons-maxreso")}},q=function(a,b,c){const d=c.text.value,e=c.maxreso.value;let f=a.get("name");return b>e?f="":"hide"==d?f="":"shorten"==d?f=f.trunc(12):"wrap"==d&&(!c.placement||"line"!=c.placement.value)&&(f=g(f,16,"\n")),f},r=function(a,b,c){const d=c.align.value,e=c.baseline.value,f=c.size.value,g=parseInt(c.offsetX.value,10),h=parseInt(c.offsetY.value,10),i=c.weight.value,j=c.placement?c.placement.value:void 0,k=c.maxangle?parseFloat(c.maxangle.value):void 0,l=c.overflow?"true"==c.overflow.value:void 0,m=parseFloat(c.rotation.value);if("'Open Sans'"==c.font.value&&!o){const a=document.createElement("link");a.href="https://fonts.googleapis.com/css?family=Open+Sans",a.rel="stylesheet",document.getElementsByTagName("head")[0].appendChild(a),o=!0}const p=i+" "+f+" "+c.font.value,r=c.color.value,s=c.outline.value,t=parseInt(c.outlineWidth.value,10);return new n.h({textAlign:""==d?void 0:d,textBaseline:e,font:p,text:q(a,b,c),fill:new n.c({color:r}),stroke:new n.f({color:s,width:t}),offsetX:g,offsetY:h,placement:j,maxAngle:k,overflow:l,rotation:m})},s=new l.e({source:new m.n({url:"data/geojson/polygon-samples.geojson",format:new k.a}),style:d}),t=new l.e({source:new m.n({url:"data/geojson/line-samples.geojson",format:new k.a}),style:e}),u=new l.e({source:new m.n({url:"data/geojson/point-samples.geojson",format:new k.a}),style:f}),v=new i.a({layers:[new l.d({source:new m.f}),s,t,u],target:"map",view:new j.a({center:[-8161939,6095025],zoom:8})});document.getElementById("refresh-points").addEventListener("click",function(){u.setStyle(f)}),document.getElementById("refresh-lines").addEventListener("click",function(){t.setStyle(e)}),document.getElementById("refresh-polygons").addEventListener("click",function(){s.setStyle(d)}),h.trunc=h.trunc||function(a){return this.length>a?this.substr(0,a-1)+"...":this.substr(0)}}},[582]);