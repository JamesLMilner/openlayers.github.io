(window.webpackJsonp=window.webpackJsonp||[]).push([[63],{293:function(e,t,n){"use strict";n.r(t);var a=n(24),o=n(3),r=n(79),s=n(27),i=n(66),c=n(11),g=n(2),l=n(10),p=n(93),m=n(67),w=n(5),h=n(20),u=n(4),v=n(45),d=new w.a({source:new i.a({url:"https://a.tiles.mapbox.com/v3/aj.1x1-degrees.json",crossOrigin:""})}),f=new a.a({geometry:new s.a(Object(u.f)([0,-10])),name:"Fish.1"}),I=new a.a({geometry:new s.a(Object(u.f)([0,-10])),name:"Fish.1 Island"}),x=new a.a({geometry:new s.a(Object(u.f)([-30,10])),name:"Fish.2 Island"}),y=new l.c({image:new p.a({anchor:[.5,.9],src:"data/fish.png",crossOrigin:"",scale:[0,0],rotation:Math.PI/4}),text:new m.a({text:"FISH\nTEXT",scale:[0,0],rotation:Math.PI/4,textAlign:"center",textBaseline:"top"})}),b=0,M=45;f.setStyle((function(){var e=3*Math.sin(b*Math.PI/180),t=4*Math.sin(M*Math.PI/180);return y.getImage().setScale([e,t]),y.getText().setScale([e,t]),y})),d.on("postrender",(function(e){var t=Object(v.b)(e),n=3*Math.cos(b*Math.PI/180),a=4*Math.cos(M*Math.PI/180);y.getImage().setScale([n,a]),y.getText().setScale([n,a]),t.drawFeature(x,y)}));var P=new c.a({features:[f,I,x]}),O=new h.a({source:P}),j=new o.a({layers:[d,O],target:document.getElementById("map"),view:new g.a({center:Object(u.f)([-15,0]),zoom:3})});setInterval((function(){b=(b+4)%360,M=(M+5)%360,P.changed()}),1e3);var E=document.getElementById("popup"),F=new r.a({element:E,positioning:"bottom-center",stopEvent:!1,offset:[0,-50]});j.addOverlay(F),j.on("click",(function(e){var t=j.forEachFeatureAtPixel(e.pixel,(function(e){return e}));if($(E).popover("destroy"),t){var n=t.getGeometry().getCoordinates();F.setPosition(n),$(E).popover({placement:"top",html:!0,animation:!1,content:t.get("name")}),$(E).popover("show")}})),j.on("pointermove",(function(e){if(e.dragging)$(E).popover("destroy");else{var t=j.getEventPixel(e.originalEvent),n=j.hasFeatureAtPixel(t);j.getTarget().style.cursor=n?"pointer":""}}))}},[[293,0]]]);
//# sourceMappingURL=icon-scale.js.map