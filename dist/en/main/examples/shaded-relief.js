"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[5744],{32216:function(t,e,n){var a=n(68444),o=n(86728),r=n(80372),s=n(58520),i=n(70596),c=n(68496),u=n(96480);const h=new i.c({url:"https://s3.amazonaws.com/elevation-tiles-prod/terrarium/{z}/{x}/{y}.png",crossOrigin:"anonymous",maxZoom:15,attributions:'<a href="https://github.com/tilezen/joerd/blob/master/docs/attribution.md" target="_blank">Data sources and attribution</a>'}),l=new c.cp({sources:[h],operationType:"image",operation:function(t,e){const n=t[0],a=n.width,o=n.height,r=n.data,s=new Uint8ClampedArray(r.length),i=2*e.resolution,c=a-1,u=o-1,h=[0,0,0,0],l=2*Math.PI,d=Math.PI/2,m=Math.PI*e.sunEl/180,p=Math.PI*e.sunAz/180,f=Math.cos(m),w=Math.sin(m);let v,g,M,b,y,z,E,I,k,x,P,A,C,T,B;function O(t){return 256*t[0]+t[1]+t[2]/256-32768}for(g=0;g<=u;++g)for(y=0===g?0:g-1,z=g===u?u:g+1,v=0;v<=c;++v)M=0===v?0:v-1,b=v===c?c:v+1,E=4*(g*a+M),h[0]=r[E],h[1]=r[E+1],h[2]=r[E+2],h[3]=r[E+3],I=e.vert*O(h),E=4*(g*a+b),h[0]=r[E],h[1]=r[E+1],h[2]=r[E+2],h[3]=r[E+3],k=e.vert*O(h),x=(k-I)/i,E=4*(y*a+v),h[0]=r[E],h[1]=r[E+1],h[2]=r[E+2],h[3]=r[E+3],I=e.vert*O(h),E=4*(z*a+v),h[0]=r[E],h[1]=r[E+1],h[2]=r[E+2],h[3]=r[E+3],k=e.vert*O(h),P=(k-I)/i,A=Math.atan(Math.sqrt(x*x+P*P)),C=Math.atan2(P,-x),C=C<0?d-C:C>d?l-C+d:d-C,T=w*Math.cos(A)+f*Math.sin(A)*Math.cos(p-C),E=4*(g*a+v),B=255*T,s[E]=B,s[E+1]=B,s[E+2]=B,s[E+3]=r[E+3];return{data:s,width:a,height:o}}}),d=(new a.c({target:"map",layers:[new r.c({source:new u.c}),new s.c({opacity:.3,source:l})],view:new o.cp({center:[-13615645,4497969],zoom:13})}),{});["vert","sunEl","sunAz"].forEach((function(t){const e=document.getElementById(t),n=document.getElementById(t+"Out");e.addEventListener("input",(function(){n.innerText=e.value,l.changed()})),n.innerText=e.value,d[t]=e})),l.on("beforeoperations",(function(t){const e=t.data;e.resolution=t.resolution;for(const t in d)e[t]=Number(d[t].value)}))}},function(t){var e;e=32216,t(t.s=e)}]);
//# sourceMappingURL=shaded-relief.js.map