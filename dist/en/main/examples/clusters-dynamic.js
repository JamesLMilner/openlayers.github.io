"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[6136],{68832:function(e,t,n){var o=n(19212),r=n(37080),a=n(68444),c=n(86728),s=n(1999),i=n(51144),g=n(76252),l=n(48512),u=n(65732),w=n(12748),f=n(17256),m=n(78092),p=n(70596),h=n(38788),d=n(83880),y=n(84868),b=n(2064),x=n(80372),v=n(48011),k=n(88470);const C=1,G=28,M=Math.PI/2,S=new s.c({color:"rgba(255, 153, 0, 0.4)"}),E=new i.c({color:"rgba(204, 85, 0, 1)",width:1.5}),F=new s.c({color:"rgba(255, 153, 102, 0.3)"}),I=new s.c({color:"rgba(255, 165, 0, 0.7)"}),P=new s.c({color:"#fff"}),H=new i.c({color:"rgba(0, 0, 0, 0.6)",width:3}),Z=new g.c({radius:14,fill:I}),j=new g.c({radius:20,fill:F}),z=new l.c({src:"data/icons/emoticon-cool.svg"}),Q=new l.c({src:"data/icons/emoticon-cool-outline.svg"});function T(e){return new u.cp({geometry:e.getGeometry(),image:e.get("LEISTUNG")>5?z:Q})}let U,V,B;function D(e,t){if(e!==U||t!==V)return null;const n=e.get("features"),r=e.getGeometry().getCoordinates();return function(e,t,n){let o=C*G*(2+e)/(2*Math.PI);const r=2*Math.PI/e,a=[];let c;o=Math.max(o,35)*n;for(let n=0;n<e;++n)c=M+n*r,a.push([t[0]+o*Math.cos(c),t[1]+o*Math.sin(c)]);return a}(n.length,e.getGeometry().getCoordinates(),t).reduce(((e,t,a)=>{const c=new h.c(t),s=new d.c([r,t]);return e.unshift(new u.cp({geometry:s,stroke:E})),e.push(T(new o.c({...n[a].getProperties(),geometry:c}))),e}),[])}function K(e){if(e!==B)return null;const t=e.get("features").map((e=>e.getGeometry().getCoordinates()));return new u.cp({geometry:new y.cp([monotoneChainConvexHull(t)]),fill:S,stroke:E})}const L=new f.c({format:new r.c,url:"data/geojson/photovoltaic.json"}),N=new m.c({attributions:'Data: <a href="https://www.data.gv.at/auftritte/?organisation=stadt-wien">Stadt Wien</a>',distance:35,source:L}),R=new b.c({source:N,style:K}),W=new b.c({source:N,style:function(e){const t=e.get("features").length;return t>1?[new u.cp({image:j}),new u.cp({image:Z,text:new w.c({text:t.toString(),fill:P,stroke:H})})]:T(e.get("features")[0])}}),Y=new b.c({source:N,style:D}),_=new x.c({source:new p.c({attributions:'Base map: <a target="_blank" href="https://basemap.at/">basemap.at</a>',url:"https://maps{1-4}.wien.gv.at/basemap/bmapgrau/normal/google3857/{z}/{y}/{x}.png"})}),q=new a.c({layers:[_,R,W,Y],target:"map",view:new c.cp({center:[0,0],zoom:2,maxZoom:19,extent:[...(0,k.QH)([16.1793,48.1124]),...(0,k.QH)([16.5559,48.313])],showFullExtent:!0})});q.on("pointermove",(e=>{W.getFeatures(e.pixel).then((e=>{e[0]!==B&&(B=e[0],R.setStyle(K),q.getTargetElement().style.cursor=B&&B.get("features").length>1?"pointer":"")}))})),q.on("click",(e=>{W.getFeatures(e.pixel).then((e=>{if(e.length>0){const t=e[0].get("features");if(t.length>1){const n=(0,v.Gu)();t.forEach((e=>(0,v.SU)(n,e.getGeometry().getExtent())));const o=q.getView(),r=q.getView().getResolution();o.getZoom()===o.getMaxZoom()||(0,v.K6)(n)<r&&(0,v.YF)(n)<r?(U=e[0],V=r,Y.setStyle(D)):o.fit(n,{duration:500,padding:[50,50,50,50]})}}}))}))}},function(e){var t;t=68832,e(e.s=t)}]);
//# sourceMappingURL=clusters-dynamic.js.map