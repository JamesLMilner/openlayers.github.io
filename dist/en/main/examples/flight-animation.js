"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[848],{64956:function(e,t,n){var o=n(19212),r=n(83880),s=n(68444),c=n(80652),a=n(17256),i=n(86728),f=n(65732),h=n(51144),l=n(80372),g=n(2064),u=n(77491),w=n(48011);const d=new l.c({source:new c.c({layer:"stamen_toner"})}),m=new s.c({layers:[d],target:"map",view:new i.cp({center:[-11e6,46e5],zoom:2})}),y=new f.cp({stroke:new h.c({color:"#EAE911",width:2})}),p=new a.c({attributions:'Flight data by <a href="https://openflights.org/data.html">OpenFlights</a>,',loader:function(){fetch("data/openflights/flights.json").then((function(e){return e.json()})).then((function(e){const t=e.flights;for(let e=0;e<t.length;e++){const n=t[e],s=n[0],c=n[1],a=new arc.GreatCircle({x:s[1],y:s[0]},{x:c[1],y:c[0]}).Arc(100,{offset:10}),i=[];a.geometries.forEach((function(e){const t=new r.c(e.coords);t.transform("EPSG:4326","EPSG:3857"),i.push(new o.c({geometry:t,finished:!1}))})),k(i,50*e)}d.on("postrender",C)}))}}),E=new g.c({source:p,style:function(e){return e.get("finished")?y:null}});m.addLayer(E);const G=.02;function C(e){const t=(0,u.wX)(e),n=e.frameState;t.setStyle(y);const o=p.getFeatures();for(let e=0;e<o.length;e++){const s=o[e];if(!s.get("finished")){const e=s.getGeometry().getCoordinates(),o=n.time-s.get("start");if(o>=0){const n=o*G;n>=e.length&&s.set("finished",!0);const c=Math.min(n,e.length),a=new r.c(e.slice(0,c)),i=(0,w.K6)(m.getView().getProjection().getExtent()),f=Math.floor(m.getView().getCenter()[0]/i);a.translate(f*i,0),t.drawGeometry(a),a.translate(i,0),t.drawGeometry(a)}}}m.render()}function k(e,t){window.setTimeout((function(){let t=Date.now();e.forEach((function(e){e.set("start",t),p.addFeature(e);const n=(e.getGeometry().getCoordinates().length-1)/G;t+=n}))}),t)}}},function(e){var t;t=64956,e(e.s=t)}]);
//# sourceMappingURL=flight-animation.js.map