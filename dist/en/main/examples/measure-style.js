"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[8921],{18480:function(e,t,n){var o=n(68444),c=n(86728),r=n(65732),a=n(1999),i=n(51144),l=n(76252),s=n(12748),g=n(75524),u=n(89032),w=n(75424),d=n(83880),f=n(38788),p=n(96480),m=n(17256),b=n(80372),h=n(2064),y=n(77760);const k=document.getElementById("type"),x=document.getElementById("segments"),v=document.getElementById("clear"),C=new r.cp({fill:new a.c({color:"rgba(255, 255, 255, 0.2)"}),stroke:new i.c({color:"rgba(0, 0, 0, 0.5)",lineDash:[10,10],width:2}),image:new l.c({radius:5,stroke:new i.c({color:"rgba(0, 0, 0, 0.7)"}),fill:new a.c({color:"rgba(255, 255, 255, 0.2)"})})}),I=new r.cp({text:new s.c({font:"14px Calibri,sans-serif",fill:new a.c({color:"rgba(255, 255, 255, 1)"}),backgroundFill:new a.c({color:"rgba(0, 0, 0, 0.7)"}),padding:[3,3,3,3],textBaseline:"bottom",offsetY:-15}),image:new g.c({radius:8,points:3,angle:Math.PI,displacement:[0,10],fill:new a.c({color:"rgba(0, 0, 0, 0.7)"})})}),P=new r.cp({text:new s.c({font:"12px Calibri,sans-serif",fill:new a.c({color:"rgba(255, 255, 255, 1)"}),backgroundFill:new a.c({color:"rgba(0, 0, 0, 0.4)"}),padding:[2,2,2,2],textAlign:"left",offsetX:15})}),T=new r.cp({image:new l.c({radius:5,stroke:new i.c({color:"rgba(0, 0, 0, 0.7)"}),fill:new a.c({color:"rgba(0, 0, 0, 0.4)"})}),text:new s.c({text:"Drag to modify",font:"12px Calibri,sans-serif",fill:new a.c({color:"rgba(255, 255, 255, 1)"}),backgroundFill:new a.c({color:"rgba(0, 0, 0, 0.7)"}),padding:[2,2,2,2],textAlign:"left",offsetX:15})}),A=new r.cp({text:new s.c({font:"12px Calibri,sans-serif",fill:new a.c({color:"rgba(255, 255, 255, 1)"}),backgroundFill:new a.c({color:"rgba(0, 0, 0, 0.4)"}),padding:[2,2,2,2],textBaseline:"bottom",offsetY:-12}),image:new g.c({radius:6,points:3,angle:Math.PI,displacement:[0,8],fill:new a.c({color:"rgba(0, 0, 0, 0.4)"})})}),M=[A],B=function(e){const t=(0,y.S2)(e);let n;return n=t>100?Math.round(t/1e3*100)/100+" km":Math.round(100*t)/100+" m",n},F=function(e){const t=(0,y.kh)(e);let n;return n=t>1e4?Math.round(t/1e6*100)/100+" km²":Math.round(100*t)/100+" m²",n},G=new b.c({source:new p.c}),E=new m.c,S=new u.c({source:E,style:T});let D;function L(e,t,n,o){const c=[],r=e.getGeometry(),a=r.getType();let i,l,s;if(n&&n!==a&&"Point"!==a||(c.push(C),"Polygon"===a?(i=r.getInteriorPoint(),l=F(r),s=new d.c(r.getCoordinates()[0])):"LineString"===a&&(i=new f.c(r.getLastCoordinate()),l=B(r),s=r)),t&&s){let e=0;s.forEachSegment((function(t,n){const o=new d.c([t,n]),r=B(o);M.length-1<e&&M.push(A.clone());const a=new f.c(o.getCoordinateAt(.5));M[e].setGeometry(a),M[e].getText().setText(r),c.push(M[e]),e++}))}return l&&(I.setGeometry(i),I.getText().setText(l),c.push(I)),o&&"Point"===a&&!S.getOverlay().getSource().getFeatures().length&&(D=r,P.getText().setText(o),c.push(P)),c}const O=new h.c({source:E,style:function(e){return L(e,x.checked)}}),X=new o.c({layers:[G,O],target:"map",view:new c.cp({center:[-11e6,46e5],zoom:15})});let Y;function z(){const e=k.value,t="Click to continue drawing the "+("Polygon"===e?"polygon":"line"),n="Click to start measuring";let o=n;Y=new w.cp({source:E,type:e,style:function(t){return L(t,x.checked,e,o)}}),Y.on("drawstart",(function(){v.checked&&E.clear(),S.setActive(!1),o=t})),Y.on("drawend",(function(){T.setGeometry(D),S.setActive(!0),X.once("pointermove",(function(){T.setGeometry()})),o=n})),S.setActive(!0),X.addInteraction(Y)}X.addInteraction(S),k.onchange=function(){X.removeInteraction(Y),z()},z(),x.onchange=function(){O.changed(),Y.getOverlay().changed()}}},function(e){var t;t=18480,e(e.s=t)}]);
//# sourceMappingURL=measure-style.js.map