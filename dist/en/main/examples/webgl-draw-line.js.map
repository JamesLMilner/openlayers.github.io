{"version":3,"file":"webgl-draw-line.js","mappings":"iOAUA,MAAMA,EAAQ,CACZC,UAAW,CACTC,MAAO,GACPC,OAAQ,EACRC,QAAS,OACTC,SAAU,QACVC,WAAY,GACZC,YAAa,GACbC,YAAa,GACbC,YAAa,GACbC,YAAa,GACbC,WAAY,GAEd,eAAgB,CAAC,MAAO,SACxB,eAAgB,qBAChB,mBAAoB,CAClB,CAAC,MAAO,eACR,CAAC,MAAO,eACR,CAAC,MAAO,eACR,CAAC,MAAO,gBAEV,0BAA2B,CAAC,MAAO,cACnC,gBAAiB,CAAC,MAAO,UACzB,kBAAmB,CAAC,MAAO,WAC3B,mBAAoB,CAAC,MAAO,YAC5B,qBAAsB,CAAC,MAAO,eAGhC,MAAMC,UAAmB,IACvB,cAAAC,GACE,OAAO,IAAI,IAAyBC,KAAM,CACxCC,UAAWD,KAAKE,eAChBhB,SAEJ,EAGF,MAAMiB,EAAM,IAAI,IAAU,CACxBC,OAAQ,IAAI,MAGRA,EAAS,IAAI,IAAa,CAC9BC,IAAK,mCACLC,OAAQ,IAAI,MAERC,EAAS,IAAIT,EAAW,CAC5BM,OAAQA,IAGJI,EAAM,IAAI,IAAI,CAClBC,OAAQ,CAACN,EAAKI,GACdG,OAAQ,MACRC,KAAM,IAAI,KAAK,CACbC,QAAQ,QAAW,CAAC,KAAM,QAC1BC,KAAM,MAIJC,EAAS,IAAI,IAAO,CAACV,OAAQA,IAGnC,IAAIW,EAAMC,EAFVR,EAAIS,eAAeH,GAKjBC,EAAO,IAAI,KAAK,CACdX,OAAQA,EACRc,KAAM,eAERV,EAAIS,eAAeF,GACnBC,EAAO,IAAI,IAAK,CAACZ,OAAQA,IACzBI,EAAIS,eAAeD,GAKrB,MAAMG,EAAiBC,IACrB,MAAMjC,EAAYD,EAAMC,UAClBkC,EAAeD,EAAMV,OAAOY,KACR,UAAtBF,EAAMV,OAAOQ,KACf/B,EAAUkC,GAAgBD,EAAMV,OAAOa,MAEvCpC,EAAUkC,GAAgBG,WAAWJ,EAAMV,OAAOa,OAEpD,MAAME,EAAYC,SAASC,eAAe,SAASN,KAC/CI,IACFA,EAAUG,YAAczC,EAAUkC,IAEpCb,EAAIqB,QAAQ,EAEdH,SACGI,iBAAiB,iBACjBC,SAASC,GAAUA,EAAMC,iBAAiB,QAASd,I","sources":["webpack:///./webgl-draw-line.js"],"sourcesContent":["import GeoJSON from '../src/ol/format/GeoJSON.js';\nimport Layer from '../src/ol/layer/Layer.js';\nimport Map from '../src/ol/Map.js';\nimport View from '../src/ol/View.js';\nimport WebGLVectorLayerRenderer from '../src/ol/renderer/webgl/VectorLayer.js';\nimport {Draw, Modify, Snap} from '../src/ol/interaction.js';\nimport {OSM, Vector as VectorSource} from '../src/ol/source.js';\nimport {Tile as TileLayer} from '../src/ol/layer.js';\nimport {fromLonLat} from '../src/ol/proj.js';\n\nconst style = {\n  variables: {\n    width: 12,\n    offset: 0,\n    capType: 'butt',\n    joinType: 'miter',\n    miterLimit: 10, // ratio\n    dashLength1: 25,\n    dashLength2: 15,\n    dashLength3: 15,\n    dashLength4: 15,\n    dashOffset: 0,\n  },\n  'stroke-width': ['var', 'width'],\n  'stroke-color': 'rgba(24,86,34,0.7)',\n  'stroke-line-dash': [\n    ['var', 'dashLength1'],\n    ['var', 'dashLength2'],\n    ['var', 'dashLength3'],\n    ['var', 'dashLength4'],\n  ],\n  'stroke-line-dash-offset': ['var', 'dashOffset'],\n  'stroke-offset': ['var', 'offset'],\n  'stroke-line-cap': ['var', 'capType'],\n  'stroke-line-join': ['var', 'joinType'],\n  'stroke-miter-limit': ['var', 'miterLimit'],\n};\n\nclass WebGLLayer extends Layer {\n  createRenderer() {\n    return new WebGLVectorLayerRenderer(this, {\n      className: this.getClassName(),\n      style,\n    });\n  }\n}\n\nconst osm = new TileLayer({\n  source: new OSM(),\n});\n\nconst source = new VectorSource({\n  url: 'data/geojson/switzerland.geojson',\n  format: new GeoJSON(),\n});\nconst vector = new WebGLLayer({\n  source: source,\n});\n\nconst map = new Map({\n  layers: [osm, vector],\n  target: 'map',\n  view: new View({\n    center: fromLonLat([8.43, 46.82]),\n    zoom: 7,\n  }),\n});\n\nconst modify = new Modify({source: source});\nmap.addInteraction(modify);\n\nlet draw, snap; // global so we can remove them later\n\nfunction addInteractions() {\n  draw = new Draw({\n    source: source,\n    type: 'LineString',\n  });\n  map.addInteraction(draw);\n  snap = new Snap({source: source});\n  map.addInteraction(snap);\n}\n\naddInteractions();\n\nconst inputListener = (event) => {\n  const variables = style.variables;\n  const variableName = event.target.name;\n  if (event.target.type === 'radio') {\n    variables[variableName] = event.target.value;\n  } else {\n    variables[variableName] = parseFloat(event.target.value);\n  }\n  const valueSpan = document.getElementById(`value-${variableName}`);\n  if (valueSpan) {\n    valueSpan.textContent = variables[variableName];\n  }\n  map.render();\n};\ndocument\n  .querySelectorAll('input.uniform')\n  .forEach((input) => input.addEventListener('input', inputListener));\n"],"names":["style","variables","width","offset","capType","joinType","miterLimit","dashLength1","dashLength2","dashLength3","dashLength4","dashOffset","WebGLLayer","createRenderer","this","className","getClassName","osm","source","url","format","vector","map","layers","target","view","center","zoom","modify","draw","snap","addInteraction","type","inputListener","event","variableName","name","value","parseFloat","valueSpan","document","getElementById","textContent","render","querySelectorAll","forEach","input","addEventListener"],"sourceRoot":""}