"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[5888],{88632:function(e,t,r){var o=r(68444),n=r(17256),s=r(86728),i=r(70596),a=r(27936),p=r(65276),u=r(83880),l=r(65756),c=r(99336),g=r(84868),m=r(23856),h=r(48011),y=r(55164),w=r(88470),d=r(97544),S=r(34808);const E=p.y+" http://schemas.opengis.net/gml/3.1.1/profiles/gmlsfProfile/1.0.0/gmlsf.xsd",R={MultiLineString:"lineStringMember",MultiCurve:"curveMember",MultiPolygon:"polygonMember",MultiSurface:"surfaceMember"};class f extends p.c{constructor(e){super(e=e||{}),this.surface_=void 0!==e.surface&&e.surface,this.curve_=void 0!==e.curve&&e.curve,this.multiCurve_=void 0===e.multiCurve||e.multiCurve,this.multiSurface_=void 0===e.multiSurface||e.multiSurface,this.schemaLocation=e.schemaLocation?e.schemaLocation:E,this.hasZ=void 0!==e.hasZ&&e.hasZ}readMultiCurve(e,t){const r=(0,m.El)([],this.MULTICURVE_PARSERS,e,t,this);if(r){return new l.c(r)}}readFlatCurveRing(e,t){const r=(0,m.El)([],this.MULTICURVE_PARSERS,e,t,this),o=[];for(let e=0,t=r.length;e<t;++e)(0,y.SU)(o,r[e].getFlatCoordinates());return o}readMultiSurface(e,t){const r=(0,m.El)([],this.MULTISURFACE_PARSERS,e,t,this);if(r)return new c.c(r)}curveMemberParser(e,t){(0,m.UL)(this.CURVEMEMBER_PARSERS,e,t,this)}surfaceMemberParser(e,t){(0,m.UL)(this.SURFACEMEMBER_PARSERS,e,t,this)}readPatch(e,t){return(0,m.El)([null],this.PATCHES_PARSERS,e,t,this)}readSegment(e,t){return(0,m.El)([],this.SEGMENTS_PARSERS,e,t,this)}readPolygonPatch(e,t){return(0,m.El)([null],this.FLAT_LINEAR_RINGS_PARSERS,e,t,this)}readLineStringSegment(e,t){return(0,m.El)([null],this.GEOMETRY_FLAT_COORDINATES_PARSERS,e,t,this)}interiorParser(e,t){const r=(0,m.El)(void 0,this.RING_PARSERS,e,t,this);if(r){t[t.length-1].push(r)}}exteriorParser(e,t){const r=(0,m.El)(void 0,this.RING_PARSERS,e,t,this);if(r){t[t.length-1][0]=r}}readSurface(e,t){const r=(0,m.El)([null],this.SURFACE_PARSERS,e,t,this);if(r&&r[0]){const e=r[0],t=[e.length];let o,n;for(o=1,n=r.length;o<n;++o)(0,y.SU)(e,r[o]),t.push(e.length);return new g.cp(e,"XYZ",t)}}readCurve(e,t){const r=(0,m.El)([null],this.CURVE_PARSERS,e,t,this);if(r){return new u.c(r,"XYZ")}}readEnvelope(e,t){const r=(0,m.El)([null],this.ENVELOPE_PARSERS,e,t,this);return(0,h.ak)(r[1][0],r[1][1],r[2][0],r[2][1])}readFlatPos(e,t){let r=(0,m.et)(e,!1);const o=/^\s*([+\-]?\d*\.?\d+(?:[eE][+\-]?\d+)?)\s*/,n=[];let s;for(;s=o.exec(r);)n.push(parseFloat(s[1])),r=r.substr(s[0].length);if(""!==r)return;const i=t[0].srsName;let a="enu";if(i){a=(0,w._M)(i).getAxisOrientation()}if("neu"===a){let e,t;for(e=0,t=n.length;e<t;e+=3){const t=n[e],r=n[e+1];n[e]=r,n[e+1]=t}}const p=n.length;return 2==p&&n.push(0),0!==p?n:void 0}readFlatPosList(e,t){const r=(0,m.et)(e,!1).replace(/^\s*|\s*$/g,""),o=t[0],n=o.srsName,s=o.srsDimension;let i="enu";if(n){i=(0,w._M)(n).getAxisOrientation()}const a=r.split(/\s+/);let p,u,l,c=2;e.getAttribute("srsDimension")?c=(0,d.Ub)(e.getAttribute("srsDimension")):e.getAttribute("dimension")?c=(0,d.Ub)(e.getAttribute("dimension")):e.parentNode.getAttribute("srsDimension")?c=(0,d.Ub)(e.parentNode.getAttribute("srsDimension")):s&&(c=(0,d.Ub)(s));const g=[];for(let e=0,t=a.length;e<t;e+=c)p=parseFloat(a[e]),u=parseFloat(a[e+1]),l=3===c?parseFloat(a[e+2]):0,"en"===i.substr(0,2)?g.push(p,u,l):g.push(u,p,l);return g}writePos_(e,t,r){const o=r[r.length-1],n=o.hasZ,s=n?"3":"2";e.setAttribute("srsDimension",s);const i=o.srsName;let a="enu";i&&(a=(0,w._M)(i).getAxisOrientation());const p=t.getCoordinates();let u;if(u="en"===a.substr(0,2)?p[0]+" "+p[1]:p[1]+" "+p[0],n){u+=" "+(p[2]||0)}(0,d.sH)(e,u)}getCoords_(e,t,r){let o="enu";t&&(o=(0,w._M)(t).getAxisOrientation());let n="en"===o.substr(0,2)?e[0]+" "+e[1]:e[1]+" "+e[0];if(r){n+=" "+(e[2]||0)}return n}writePosList_(e,t,r){const o=r[r.length-1],n=o.hasZ,s=n?"3":"2";e.setAttribute("srsDimension",s);const i=o.srsName,a=t.getCoordinates(),p=a.length,u=new Array(p);let l;for(let e=0;e<p;++e)l=a[e],u[e]=this.getCoords_(l,i,n);(0,d.sH)(e,u.join(" "))}writePoint(e,t,r){const o=r[r.length-1].srsName;o&&e.setAttribute("srsName",o);const n=(0,m.GS)(e.namespaceURI,"pos");e.appendChild(n),this.writePos_(n,t,r)}writeEnvelope(e,t,r){const o=r[r.length-1].srsName;o&&e.setAttribute("srsName",o);const n=[t[0]+" "+t[1],t[2]+" "+t[3]];(0,m.AH)({node:e},this.ENVELOPE_SERIALIZERS,m.Ij,n,r,["lowerCorner","upperCorner"],this)}writeLinearRing(e,t,r){const o=r[r.length-1].srsName;o&&e.setAttribute("srsName",o);const n=(0,m.GS)(e.namespaceURI,"posList");e.appendChild(n),this.writePosList_(n,t,r)}RING_NODE_FACTORY_(e,t,r){const o=t[t.length-1],n=o.node,s=o.exteriorWritten;return void 0===s&&(o.exteriorWritten=!0),(0,m.GS)(n.namespaceURI,void 0!==s?"interior":"exterior")}writeSurfaceOrPolygon(e,t,r){const o=r[r.length-1],n=o.hasZ,s=o.srsName;if("PolygonPatch"!==e.nodeName&&s&&e.setAttribute("srsName",s),"Polygon"===e.nodeName||"PolygonPatch"===e.nodeName){const o=t.getLinearRings();(0,m.AH)({node:e,hasZ:n,srsName:s},this.RING_SERIALIZERS,this.RING_NODE_FACTORY_,o,r,void 0,this)}else if("Surface"===e.nodeName){const o=(0,m.GS)(e.namespaceURI,"patches");e.appendChild(o),this.writeSurfacePatches_(o,t,r)}}writeCurveOrLineString(e,t,r){const o=r[r.length-1].srsName;if("LineStringSegment"!==e.nodeName&&o&&e.setAttribute("srsName",o),"LineString"===e.nodeName||"LineStringSegment"===e.nodeName){const o=(0,m.GS)(e.namespaceURI,"posList");e.appendChild(o),this.writePosList_(o,t,r)}else if("Curve"===e.nodeName){const o=(0,m.GS)(e.namespaceURI,"segments");e.appendChild(o),this.writeCurveSegments_(o,t,r)}}writeMultiSurfaceOrPolygon(e,t,r){const o=r[r.length-1],n=o.hasZ,s=o.srsName,i=o.surface;s&&e.setAttribute("srsName",s);const a=t.getPolygons();(0,m.AH)({node:e,hasZ:n,srsName:s,surface:i},this.SURFACEORPOLYGONMEMBER_SERIALIZERS,this.MULTIGEOMETRY_MEMBER_NODE_FACTORY_,a,r,void 0,this)}writeMultiPoint(e,t,r){const o=r[r.length-1],n=o.srsName,s=o.hasZ;n&&e.setAttribute("srsName",n);const i=t.getPoints();(0,m.AH)({node:e,hasZ:s,srsName:n},this.POINTMEMBER_SERIALIZERS,(0,m.ET)("pointMember"),i,r,void 0,this)}writeMultiCurveOrLineString(e,t,r){const o=r[r.length-1],n=o.hasZ,s=o.srsName,i=o.curve;s&&e.setAttribute("srsName",s);const a=t.getLineStrings();(0,m.AH)({node:e,hasZ:n,srsName:s,curve:i},this.LINESTRINGORCURVEMEMBER_SERIALIZERS,this.MULTIGEOMETRY_MEMBER_NODE_FACTORY_,a,r,void 0,this)}writeRing(e,t,r){const o=(0,m.GS)(e.namespaceURI,"LinearRing");e.appendChild(o),this.writeLinearRing(o,t,r)}writeSurfaceOrPolygonMember(e,t,r){const o=this.GEOMETRY_NODE_FACTORY_(t,r);o&&(e.appendChild(o),this.writeSurfaceOrPolygon(o,t,r))}writePointMember(e,t,r){const o=(0,m.GS)(e.namespaceURI,"Point");e.appendChild(o),this.writePoint(o,t,r)}writeLineStringOrCurveMember(e,t,r){const o=this.GEOMETRY_NODE_FACTORY_(t,r);o&&(e.appendChild(o),this.writeCurveOrLineString(o,t,r))}writeSurfacePatches_(e,t,r){const o=(0,m.GS)(e.namespaceURI,"PolygonPatch");e.appendChild(o),this.writeSurfaceOrPolygon(o,t,r)}writeCurveSegments_(e,t,r){const o=(0,m.GS)(e.namespaceURI,"LineStringSegment");e.appendChild(o),this.writeCurveOrLineString(o,t,r)}writeGeometryElement(e,t,r){const o=r[r.length-1],n=Object.assign({},o);let s;n.node=e,s=Array.isArray(t)?(0,S.Cg)(t,o):(0,S.GA)(t,!0,o),(0,m.AH)(n,this.GEOMETRY_SERIALIZERS,this.GEOMETRY_NODE_FACTORY_,[s],r,void 0,this)}writeFeatureElement(e,t,r){const o=t.getId();o&&e.setAttribute("fid",o);const n=r[r.length-1],s=n.featureNS,i=t.getGeometryName();n.serializers||(n.serializers={},n.serializers[s]={});const a=[],p=[];if(t.hasProperties()){const e=t.getProperties();for(const t in e){const r=e[t];null!==r&&(a.push(t),p.push(r),t==i||"function"==typeof r.getSimplifiedGeometry?t in n.serializers[s]||(n.serializers[s][t]=(0,m.QT)(this.writeGeometryElement,this)):t in n.serializers[s]||(n.serializers[s][t]=(0,m.QT)(d.sH)))}}const u=Object.assign({},n);u.node=e,(0,m.AH)(u,n.serializers,(0,m.ET)(void 0,s),p,r,a)}writeFeatureMembers_(e,t,r){const o=r[r.length-1],n=o.featureType,s=o.featureNS,i={};i[s]={},i[s][n]=(0,m.QT)(this.writeFeatureElement,this);const a=Object.assign({},o);a.node=e,(0,m.AH)(a,i,(0,m.ET)(n,s),t,r)}MULTIGEOMETRY_MEMBER_NODE_FACTORY_(e,t,r){const o=t[t.length-1].node;return(0,m.GS)(this.namespace,R[o.nodeName])}GEOMETRY_NODE_FACTORY_(e,t,r){const o=t[t.length-1],n=o.multiSurface,s=o.surface,i=o.curve,a=o.multiCurve;return Array.isArray(e)?r="Envelope":"MultiPolygon"===(r=e.getType())&&!0===n?r="MultiSurface":"Polygon"===r&&!0===s?r="Surface":"LineString"===r&&!0===i?r="Curve":"MultiLineString"===r&&!0===a&&(r="MultiCurve"),(0,m.GS)(this.namespace,r)}writeGeometryNode(e,t){t=this.adaptOptions(t);const r=(0,m.GS)(this.namespace,"geom"),o={node:r,hasZ:this.hasZ,srsName:this.srsName,curve:this.curve_,surface:this.surface_,multiSurface:this.multiSurface_,multiCurve:this.multiCurve_};return t&&Object.assign(o,t),this.writeGeometryElement(r,e,[o]),r}writeFeaturesNode(e,t){t=this.adaptOptions(t);const r=(0,m.GS)(this.namespace,"featureMembers");r.setAttributeNS(m.IJ,"xsi:schemaLocation",this.schemaLocation);const o={srsName:this.srsName,hasZ:this.hasZ,curve:this.curve_,surface:this.surface_,multiSurface:this.multiSurface_,multiCurve:this.multiCurve_,featureNS:this.featureNS,featureType:this.featureType};return t&&Object.assign(o,t),this.writeFeatureMembers_(r,e,[o]),r}}f.prototype.GEOMETRY_FLAT_COORDINATES_PARSERS={"http://www.opengis.net/gml":{pos:(0,m.eR)(f.prototype.readFlatPos),posList:(0,m.eR)(f.prototype.readFlatPosList),coordinates:(0,m.eR)(a.c.prototype.readFlatCoordinates)}},f.prototype.FLAT_LINEAR_RINGS_PARSERS={"http://www.opengis.net/gml":{interior:f.prototype.interiorParser,exterior:f.prototype.exteriorParser}},f.prototype.GEOMETRY_PARSERS={"http://www.opengis.net/gml":{Point:(0,m.eR)(p.c.prototype.readPoint),MultiPoint:(0,m.eR)(p.c.prototype.readMultiPoint),LineString:(0,m.eR)(p.c.prototype.readLineString),MultiLineString:(0,m.eR)(p.c.prototype.readMultiLineString),LinearRing:(0,m.eR)(p.c.prototype.readLinearRing),Polygon:(0,m.eR)(p.c.prototype.readPolygon),MultiPolygon:(0,m.eR)(p.c.prototype.readMultiPolygon),Surface:(0,m.eR)(f.prototype.readSurface),MultiSurface:(0,m.eR)(f.prototype.readMultiSurface),Curve:(0,m.eR)(f.prototype.readCurve),MultiCurve:(0,m.eR)(f.prototype.readMultiCurve),Envelope:(0,m.eR)(f.prototype.readEnvelope)}},f.prototype.MULTICURVE_PARSERS={"http://www.opengis.net/gml":{curveMember:(0,m.Qy)(f.prototype.curveMemberParser),curveMembers:(0,m.Qy)(f.prototype.curveMemberParser)}},f.prototype.MULTISURFACE_PARSERS={"http://www.opengis.net/gml":{surfaceMember:(0,m.Qy)(f.prototype.surfaceMemberParser),surfaceMembers:(0,m.Qy)(f.prototype.surfaceMemberParser)}},f.prototype.CURVEMEMBER_PARSERS={"http://www.opengis.net/gml":{LineString:(0,m.Qy)(p.c.prototype.readLineString),Curve:(0,m.Qy)(f.prototype.readCurve)}},f.prototype.SURFACEMEMBER_PARSERS={"http://www.opengis.net/gml":{Polygon:(0,m.Qy)(p.c.prototype.readPolygon),Surface:(0,m.Qy)(f.prototype.readSurface)}},f.prototype.SURFACE_PARSERS={"http://www.opengis.net/gml":{patches:(0,m.eR)(f.prototype.readPatch)}},f.prototype.CURVE_PARSERS={"http://www.opengis.net/gml":{segments:(0,m.eR)(f.prototype.readSegment)}},f.prototype.ENVELOPE_PARSERS={"http://www.opengis.net/gml":{lowerCorner:(0,m.Qy)(f.prototype.readFlatPosList),upperCorner:(0,m.Qy)(f.prototype.readFlatPosList)}},f.prototype.PATCHES_PARSERS={"http://www.opengis.net/gml":{PolygonPatch:(0,m.eR)(f.prototype.readPolygonPatch)}},f.prototype.SEGMENTS_PARSERS={"http://www.opengis.net/gml":{LineStringSegment:(0,m.U7)(f.prototype.readLineStringSegment)}},p.c.prototype.RING_PARSERS={"http://www.opengis.net/gml":{LinearRing:(0,m.eR)(p.c.prototype.readFlatLinearRing),Ring:(0,m.eR)(f.prototype.readFlatCurveRing)}},f.prototype.writeFeatures,f.prototype.RING_SERIALIZERS={"http://www.opengis.net/gml":{exterior:(0,m.QT)(f.prototype.writeRing),interior:(0,m.QT)(f.prototype.writeRing)}},f.prototype.ENVELOPE_SERIALIZERS={"http://www.opengis.net/gml":{lowerCorner:(0,m.QT)(d.sH),upperCorner:(0,m.QT)(d.sH)}},f.prototype.SURFACEORPOLYGONMEMBER_SERIALIZERS={"http://www.opengis.net/gml":{surfaceMember:(0,m.QT)(f.prototype.writeSurfaceOrPolygonMember),polygonMember:(0,m.QT)(f.prototype.writeSurfaceOrPolygonMember)}},f.prototype.POINTMEMBER_SERIALIZERS={"http://www.opengis.net/gml":{pointMember:(0,m.QT)(f.prototype.writePointMember)}},f.prototype.LINESTRINGORCURVEMEMBER_SERIALIZERS={"http://www.opengis.net/gml":{lineStringMember:(0,m.QT)(f.prototype.writeLineStringOrCurveMember),curveMember:(0,m.QT)(f.prototype.writeLineStringOrCurveMember)}},f.prototype.GEOMETRY_SERIALIZERS={"http://www.opengis.net/gml":{Curve:(0,m.QT)(f.prototype.writeCurveOrLineString),MultiCurve:(0,m.QT)(f.prototype.writeMultiCurveOrLineString),Point:(0,m.QT)(f.prototype.writePoint),MultiPoint:(0,m.QT)(f.prototype.writeMultiPoint),LineString:(0,m.QT)(f.prototype.writeCurveOrLineString),MultiLineString:(0,m.QT)(f.prototype.writeMultiCurveOrLineString),LinearRing:(0,m.QT)(f.prototype.writeLinearRing),Polygon:(0,m.QT)(f.prototype.writeSurfaceOrPolygon),MultiPolygon:(0,m.QT)(f.prototype.writeMultiSurfaceOrPolygon),Surface:(0,m.QT)(f.prototype.writeSurfaceOrPolygon),MultiSurface:(0,m.QT)(f.prototype.writeMultiSurfaceOrPolygon),Envelope:(0,m.QT)(f.prototype.writeEnvelope)}};var T=f;class P extends T{constructor(e){super(e=e||{}),this.schemaLocation=e.schemaLocation?e.schemaLocation:this.namespace+" http://schemas.opengis.net/gml/3.2.1/gml.xsd"}writeGeometryElement(e,t,r){const o=r[r.length-1];r[r.length-1]=Object.assign({multiCurve:!0,multiSurface:!0},o),super.writeGeometryElement(e,t,r)}}P.prototype.namespace="http://www.opengis.net/gml/3.2",P.prototype.GEOMETRY_FLAT_COORDINATES_PARSERS={"http://www.opengis.net/gml/3.2":{pos:(0,m.eR)(T.prototype.readFlatPos),posList:(0,m.eR)(T.prototype.readFlatPosList),coordinates:(0,m.eR)(a.c.prototype.readFlatCoordinates)}},P.prototype.FLAT_LINEAR_RINGS_PARSERS={"http://www.opengis.net/gml/3.2":{interior:T.prototype.interiorParser,exterior:T.prototype.exteriorParser}},P.prototype.GEOMETRY_PARSERS={"http://www.opengis.net/gml/3.2":{Point:(0,m.eR)(p.c.prototype.readPoint),MultiPoint:(0,m.eR)(p.c.prototype.readMultiPoint),LineString:(0,m.eR)(p.c.prototype.readLineString),MultiLineString:(0,m.eR)(p.c.prototype.readMultiLineString),LinearRing:(0,m.eR)(p.c.prototype.readLinearRing),Polygon:(0,m.eR)(p.c.prototype.readPolygon),MultiPolygon:(0,m.eR)(p.c.prototype.readMultiPolygon),Surface:(0,m.eR)(P.prototype.readSurface),MultiSurface:(0,m.eR)(T.prototype.readMultiSurface),Curve:(0,m.eR)(P.prototype.readCurve),MultiCurve:(0,m.eR)(T.prototype.readMultiCurve),Envelope:(0,m.eR)(P.prototype.readEnvelope)}},P.prototype.MULTICURVE_PARSERS={"http://www.opengis.net/gml/3.2":{curveMember:(0,m.Qy)(T.prototype.curveMemberParser),curveMembers:(0,m.Qy)(T.prototype.curveMemberParser)}},P.prototype.MULTISURFACE_PARSERS={"http://www.opengis.net/gml/3.2":{surfaceMember:(0,m.Qy)(T.prototype.surfaceMemberParser),surfaceMembers:(0,m.Qy)(T.prototype.surfaceMemberParser)}},P.prototype.CURVEMEMBER_PARSERS={"http://www.opengis.net/gml/3.2":{LineString:(0,m.Qy)(p.c.prototype.readLineString),Curve:(0,m.Qy)(T.prototype.readCurve)}},P.prototype.SURFACEMEMBER_PARSERS={"http://www.opengis.net/gml/3.2":{Polygon:(0,m.Qy)(p.c.prototype.readPolygon),Surface:(0,m.Qy)(T.prototype.readSurface)}},P.prototype.SURFACE_PARSERS={"http://www.opengis.net/gml/3.2":{patches:(0,m.eR)(T.prototype.readPatch)}},P.prototype.CURVE_PARSERS={"http://www.opengis.net/gml/3.2":{segments:(0,m.eR)(T.prototype.readSegment)}},P.prototype.ENVELOPE_PARSERS={"http://www.opengis.net/gml/3.2":{lowerCorner:(0,m.Qy)(T.prototype.readFlatPosList),upperCorner:(0,m.Qy)(T.prototype.readFlatPosList)}},P.prototype.PATCHES_PARSERS={"http://www.opengis.net/gml/3.2":{PolygonPatch:(0,m.eR)(T.prototype.readPolygonPatch)}},P.prototype.SEGMENTS_PARSERS={"http://www.opengis.net/gml/3.2":{LineStringSegment:(0,m.U7)(T.prototype.readLineStringSegment)}},P.prototype.MULTIPOINT_PARSERS={"http://www.opengis.net/gml/3.2":{pointMember:(0,m.Qy)(p.c.prototype.pointMemberParser),pointMembers:(0,m.Qy)(p.c.prototype.pointMemberParser)}},P.prototype.MULTILINESTRING_PARSERS={"http://www.opengis.net/gml/3.2":{lineStringMember:(0,m.Qy)(p.c.prototype.lineStringMemberParser),lineStringMembers:(0,m.Qy)(p.c.prototype.lineStringMemberParser)}},P.prototype.MULTIPOLYGON_PARSERS={"http://www.opengis.net/gml/3.2":{polygonMember:(0,m.Qy)(p.c.prototype.polygonMemberParser),polygonMembers:(0,m.Qy)(p.c.prototype.polygonMemberParser)}},P.prototype.POINTMEMBER_PARSERS={"http://www.opengis.net/gml/3.2":{Point:(0,m.Qy)(p.c.prototype.readFlatCoordinatesFromNode)}},P.prototype.LINESTRINGMEMBER_PARSERS={"http://www.opengis.net/gml/3.2":{LineString:(0,m.Qy)(p.c.prototype.readLineString)}},P.prototype.POLYGONMEMBER_PARSERS={"http://www.opengis.net/gml/3.2":{Polygon:(0,m.Qy)(p.c.prototype.readPolygon)}},P.prototype.RING_PARSERS={"http://www.opengis.net/gml/3.2":{LinearRing:(0,m.eR)(p.c.prototype.readFlatLinearRing),Ring:(0,m.eR)(P.prototype.readFlatCurveRing)}},P.prototype.RING_SERIALIZERS={"http://www.opengis.net/gml/3.2":{exterior:(0,m.QT)(T.prototype.writeRing),interior:(0,m.QT)(T.prototype.writeRing)}},P.prototype.ENVELOPE_SERIALIZERS={"http://www.opengis.net/gml/3.2":{lowerCorner:(0,m.QT)(d.sH),upperCorner:(0,m.QT)(d.sH)}},P.prototype.SURFACEORPOLYGONMEMBER_SERIALIZERS={"http://www.opengis.net/gml/3.2":{surfaceMember:(0,m.QT)(T.prototype.writeSurfaceOrPolygonMember),polygonMember:(0,m.QT)(T.prototype.writeSurfaceOrPolygonMember)}},P.prototype.POINTMEMBER_SERIALIZERS={"http://www.opengis.net/gml/3.2":{pointMember:(0,m.QT)(T.prototype.writePointMember)}},P.prototype.LINESTRINGORCURVEMEMBER_SERIALIZERS={"http://www.opengis.net/gml/3.2":{lineStringMember:(0,m.QT)(T.prototype.writeLineStringOrCurveMember),curveMember:(0,m.QT)(T.prototype.writeLineStringOrCurveMember)}},P.prototype.GEOMETRY_SERIALIZERS={"http://www.opengis.net/gml/3.2":{Curve:(0,m.QT)(T.prototype.writeCurveOrLineString),MultiCurve:(0,m.QT)(T.prototype.writeMultiCurveOrLineString),Point:(0,m.QT)(P.prototype.writePoint),MultiPoint:(0,m.QT)(T.prototype.writeMultiPoint),LineString:(0,m.QT)(T.prototype.writeCurveOrLineString),MultiLineString:(0,m.QT)(T.prototype.writeMultiCurveOrLineString),LinearRing:(0,m.QT)(T.prototype.writeLinearRing),Polygon:(0,m.QT)(T.prototype.writeSurfaceOrPolygon),MultiPolygon:(0,m.QT)(T.prototype.writeMultiSurfaceOrPolygon),Surface:(0,m.QT)(T.prototype.writeSurfaceOrPolygon),MultiSurface:(0,m.QT)(T.prototype.writeMultiSurfaceOrPolygon),Envelope:(0,m.QT)(T.prototype.writeEnvelope)}};var N=P,M=r(85872);var v=class{constructor(e){this.tagName_=e}getTagName(){return this.tagName_}},A=r(35920);var C=class extends v{constructor(e,t){super(e),this.conditions=t,(0,A.U)(this.conditions.length>=2,"At least 2 conditions are required")}};var b=class extends C{constructor(e){super("And",Array.prototype.slice.call(arguments))}};var _=class extends v{constructor(e,t,r){if(super("BBOX"),this.geometryName=e,this.extent=t,4!==t.length)throw new Error("Expected an extent with four values ([minX, minY, maxX, maxY])");this.srsName=r}};var L=class extends v{constructor(e,t){super(e),this.propertyName=t}};var I=class extends L{constructor(e,t,r,o){super(e,t),this.expression=r,this.matchCase=o}};var O=class extends I{constructor(e,t,r){super("PropertyIsEqualTo",e,t,r)}};var Q=class extends L{constructor(e,t,r,o,n,s){super("PropertyIsLike",e),this.pattern=t,this.wildCard=void 0!==r?r:"*",this.singleChar=void 0!==o?o:".",this.escapeChar=void 0!==n?n:"!",this.matchCase=s}};function F(e){const t=[null].concat(Array.prototype.slice.call(arguments));return new(Function.prototype.bind.apply(b,t))}const G={"http://www.opengis.net/gml":{boundedBy:(0,m.U3)(p.c.prototype.readExtentElement,"bounds")},"http://www.opengis.net/wfs/2.0":{member:(0,m.Qy)(p.c.prototype.readFeaturesInternal)}},x={"http://www.opengis.net/wfs":{totalInserted:(0,m.U3)(d.QT),totalUpdated:(0,m.U3)(d.QT),totalDeleted:(0,m.U3)(d.QT)},"http://www.opengis.net/wfs/2.0":{totalInserted:(0,m.U3)(d.QT),totalUpdated:(0,m.U3)(d.QT),totalDeleted:(0,m.U3)(d.QT)}},U={"http://www.opengis.net/wfs":{TransactionSummary:(0,m.U3)(X,"transactionSummary"),InsertResults:(0,m.U3)(ee,"insertIds")},"http://www.opengis.net/wfs/2.0":{TransactionSummary:(0,m.U3)(X,"transactionSummary"),InsertResults:(0,m.U3)(ee,"insertIds")}},Z={"http://www.opengis.net/wfs":{PropertyName:(0,m.QT)(d.sH)},"http://www.opengis.net/wfs/2.0":{PropertyName:(0,m.QT)(d.sH)}},D={"http://www.opengis.net/wfs":{Insert:(0,m.QT)(te),Update:(0,m.QT)(se),Delete:(0,m.QT)(ne),Property:(0,m.QT)(ie),Native:(0,m.QT)(ae)},"http://www.opengis.net/wfs/2.0":{Insert:(0,m.QT)(te),Update:(0,m.QT)(se),Delete:(0,m.QT)(ne),Property:(0,m.QT)(ie),Native:(0,m.QT)(ae)}},B="feature",H="http://www.w3.org/2000/xmlns/",Y={"2.0.0":"http://www.opengis.net/ogc/1.1","1.1.0":"http://www.opengis.net/ogc","1.0.0":"http://www.opengis.net/ogc"},V={"2.0.0":"http://www.opengis.net/wfs/2.0","1.1.0":"http://www.opengis.net/wfs","1.0.0":"http://www.opengis.net/wfs"},j={"2.0.0":"http://www.opengis.net/fes/2.0","1.1.0":"http://www.opengis.net/fes","1.0.0":"http://www.opengis.net/fes"},k={"2.0.0":"http://www.opengis.net/wfs/2.0 http://schemas.opengis.net/wfs/2.0/wfs.xsd","1.1.0":"http://www.opengis.net/wfs http://schemas.opengis.net/wfs/1.1.0/wfs.xsd","1.0.0":"http://www.opengis.net/wfs http://schemas.opengis.net/wfs/1.0.0/wfs.xsd"},z={"2.0.0":N,"1.1.0":T,"1.0.0":a.c};class q extends M.c{constructor(e){super(),e=e||{},this.version_=e.version?e.version:"1.1.0",this.featureType_=e.featureType,this.featureNS_=e.featureNS,this.gmlFormat_=e.gmlFormat?e.gmlFormat:new z[this.version_],this.schemaLocation_=e.schemaLocation?e.schemaLocation:k[this.version_]}getFeatureType(){return this.featureType_}setFeatureType(e){this.featureType_=e}readFeaturesFromNode(e,t){const r={node:e};Object.assign(r,{featureType:this.featureType_,featureNS:this.featureNS_}),Object.assign(r,this.getReadOptions(e,t||{}));const o=[r];let n;n="2.0.0"===this.version_?G:this.gmlFormat_.FEATURE_COLLECTION_PARSERS;let s=(0,m.El)([],n,e,o,this.gmlFormat_);return s||(s=[]),s}readTransactionResponse(e){if(e){if("string"==typeof e){const t=(0,m.K0)(e);return this.readTransactionResponseFromDocument(t)}return(0,m._s)(e)?this.readTransactionResponseFromDocument(e):this.readTransactionResponseFromNode(e)}}readFeatureCollectionMetadata(e){if(e){if("string"==typeof e){const t=(0,m.K0)(e);return this.readFeatureCollectionMetadataFromDocument(t)}return(0,m._s)(e)?this.readFeatureCollectionMetadataFromDocument(e):this.readFeatureCollectionMetadataFromNode(e)}}readFeatureCollectionMetadataFromDocument(e){for(let t=e.firstChild;t;t=t.nextSibling)if(t.nodeType==Node.ELEMENT_NODE)return this.readFeatureCollectionMetadataFromNode(t)}readFeatureCollectionMetadataFromNode(e){const t={},r=(0,d.Ub)(e.getAttribute("numberOfFeatures"));return t.numberOfFeatures=r,(0,m.El)(t,G,e,[],this.gmlFormat_)}readTransactionResponseFromDocument(e){for(let t=e.firstChild;t;t=t.nextSibling)if(t.nodeType==Node.ELEMENT_NODE)return this.readTransactionResponseFromNode(t)}readTransactionResponseFromNode(e){return(0,m.El)({},U,e,[])}writeGetFeature(e){const t=(0,m.GS)(V[this.version_],"GetFeature");t.setAttribute("service","WFS"),t.setAttribute("version",this.version_),e.handle&&t.setAttribute("handle",e.handle),e.outputFormat&&t.setAttribute("outputFormat",e.outputFormat),void 0!==e.maxFeatures&&t.setAttribute("maxFeatures",String(e.maxFeatures)),e.resultType&&t.setAttribute("resultType",e.resultType),void 0!==e.startIndex&&t.setAttribute("startIndex",String(e.startIndex)),void 0!==e.count&&t.setAttribute("count",String(e.count)),void 0!==e.viewParams&&t.setAttribute("viewParams",e.viewParams),t.setAttributeNS(m.IJ,"xsi:schemaLocation",this.schemaLocation_);const r={node:t};if(Object.assign(r,{version:this.version_,srsName:e.srsName,featureNS:e.featureNS?e.featureNS:this.featureNS_,featurePrefix:e.featurePrefix,propertyNames:e.propertyNames?e.propertyNames:[]}),(0,A.U)(Array.isArray(e.featureTypes),"`options.featureTypes` must be an Array"),"string"==typeof e.featureTypes[0]){let o=e.filter;e.bbox&&((0,A.U)(e.geometryName,"`options.geometryName` must also be provided when `options.bbox` is set"),o=this.combineBboxAndFilter(e.geometryName,e.bbox,e.srsName,o)),Object.assign(r,{geometryName:e.geometryName,filter:o}),Me(t,e.featureTypes,[r])}else e.featureTypes.forEach((o=>{const n=this.combineBboxAndFilter(o.geometryName,o.bbox,e.srsName,e.filter);Object.assign(r,{geometryName:o.geometryName,filter:n}),Me(t,[o.name],[r])}));return t}combineBboxAndFilter(e,t,r,o){const n=function(e,t,r){return new _(e,t,r)}(e,t,r);return o?F(o,n):n}writeTransaction(e,t,r,o){const n=[],s=o.version?o.version:this.version_,i=(0,m.GS)(V[s],"Transaction");let a;i.setAttribute("service","WFS"),i.setAttribute("version",s),o&&(a=o.gmlOptions?o.gmlOptions:{},o.handle&&i.setAttribute("handle",o.handle)),i.setAttributeNS(m.IJ,"xsi:schemaLocation",k[s]);const p=function(e,t,r,o){const n=o.featurePrefix?o.featurePrefix:B;let s;"1.0.0"===r?s=2:"1.1.0"===r?s=3:"2.0.0"===r&&(s=3.2);const i=Object.assign({node:e},{version:r,featureNS:o.featureNS,featureType:o.featureType,featurePrefix:n,gmlVersion:s,hasZ:o.hasZ,srsName:o.srsName},t);return i}(i,a,s,o);return e&&W("Insert",e,n,p),t&&W("Update",t,n,p),r&&W("Delete",r,n,p),o.nativeElements&&W("Native",o.nativeElements,n,p),i}readProjectionFromDocument(e){for(let t=e.firstChild;t;t=t.nextSibling)if(t.nodeType==Node.ELEMENT_NODE)return this.readProjectionFromNode(t);return null}readProjectionFromNode(e){if(e.firstElementChild&&e.firstElementChild.firstElementChild)for(let t=(e=e.firstElementChild.firstElementChild).firstElementChild;t;t=t.nextElementSibling)if(0!==t.childNodes.length&&(1!==t.childNodes.length||3!==t.firstChild.nodeType)){const e=[{}];return this.gmlFormat_.readGeometryElement(t,e),(0,w._M)(e.pop().srsName)}return null}}function W(e,t,r,o){(0,m.AH)(o,D,(0,m.ET)(e),t,r)}function X(e,t){return(0,m.El)({},x,e,t)}const K={"http://www.opengis.net/ogc":{FeatureId:(0,m.Qy)((function(e,t){return e.getAttribute("fid")}))},"http://www.opengis.net/ogc/1.1":{FeatureId:(0,m.Qy)((function(e,t){return e.getAttribute("fid")}))}};function J(e,t){(0,m.UL)(K,e,t)}const $={"http://www.opengis.net/wfs":{Feature:J},"http://www.opengis.net/wfs/2.0":{Feature:J}};function ee(e,t){return(0,m.El)([],$,e,t)}function te(e,t,r){const o=r[r.length-1],n=o.featureType,s=o.featureNS,i=o.gmlVersion,p=(0,m.GS)(s,n);e.appendChild(p),2===i?a.c.prototype.writeFeatureElement(p,t,r):3===i?T.prototype.writeFeatureElement(p,t,r):N.prototype.writeFeatureElement(p,t,r)}function re(e,t,r){const o=r[r.length-1].version,n=Y[o],s=(0,m.GS)(n,"Filter"),i=(0,m.GS)(n,"FeatureId");s.appendChild(i),i.setAttribute("fid",t),e.appendChild(s)}function oe(e,t){const r=(e=e||B)+":";return t.startsWith(r)?t:r+t}function ne(e,t,r){const o=r[r.length-1];(0,A.U)(void 0!==t.getId(),"Features must have an id set");const n=o.featureType,s=o.featurePrefix,i=o.featureNS,a=oe(s,n);e.setAttribute("typeName",a),e.setAttributeNS(H,"xmlns:"+s,i);const p=t.getId();void 0!==p&&re(e,p,r)}function se(e,t,r){const o=r[r.length-1];(0,A.U)(void 0!==t.getId(),"Features must have an id set");const n=o.version,s=o.featureType,i=o.featurePrefix,a=o.featureNS,p=oe(i,s),u=t.getGeometryName();e.setAttribute("typeName",p),e.setAttributeNS(H,"xmlns:"+i,a);const l=t.getId();if(void 0!==l){const s=t.getKeys(),i=[];for(let e=0,r=s.length;e<r;e++){const r=t.get(s[e]);if(void 0!==r){let t=s[e];r&&"function"==typeof r.getSimplifiedGeometry&&(t=u),i.push({name:t,value:r})}}(0,m.AH)({version:n,gmlVersion:o.gmlVersion,node:e,hasZ:o.hasZ,srsName:o.srsName},D,(0,m.ET)("Property"),i,r),re(e,l,r)}}function ie(e,t,r){const o=r[r.length-1],n=o.version,s=V[n],i="2.0.0"===n?"ValueReference":"Name",p=(0,m.GS)(s,i),u=o.gmlVersion;if(e.appendChild(p),(0,d.sH)(p,t.name),void 0!==t.value&&null!==t.value){const o=(0,m.GS)(s,"Value");e.appendChild(o),t.value&&"function"==typeof t.value.getSimplifiedGeometry?2===u?a.c.prototype.writeGeometryElement(o,t.value,r):3===u?T.prototype.writeGeometryElement(o,t.value,r):N.prototype.writeGeometryElement(o,t.value,r):(0,d.sH)(o,t.value)}}function ae(e,t,r){t.vendorId&&e.setAttribute("vendorId",t.vendorId),void 0!==t.safeToIgnore&&e.setAttribute("safeToIgnore",String(t.safeToIgnore)),void 0!==t.value&&(0,d.sH)(e,t.value)}const pe={"http://www.opengis.net/wfs":{Query:(0,m.QT)(ue)},"http://www.opengis.net/wfs/2.0":{Query:(0,m.QT)(ue)},"http://www.opengis.net/ogc":{During:(0,m.QT)(he),And:(0,m.QT)(ye),Or:(0,m.QT)(ye),Not:(0,m.QT)(we),BBOX:(0,m.QT)(ce),Contains:(0,m.QT)(ge),Intersects:(0,m.QT)(ge),Within:(0,m.QT)(ge),DWithin:(0,m.QT)(me),PropertyIsEqualTo:(0,m.QT)(de),PropertyIsNotEqualTo:(0,m.QT)(de),PropertyIsLessThan:(0,m.QT)(de),PropertyIsLessThanOrEqualTo:(0,m.QT)(de),PropertyIsGreaterThan:(0,m.QT)(de),PropertyIsGreaterThanOrEqualTo:(0,m.QT)(de),PropertyIsNull:(0,m.QT)(Se),PropertyIsBetween:(0,m.QT)(Ee),PropertyIsLike:(0,m.QT)(Re)},"http://www.opengis.net/fes/2.0":{During:(0,m.QT)(he),And:(0,m.QT)(ye),Or:(0,m.QT)(ye),Not:(0,m.QT)(we),BBOX:(0,m.QT)(ce),Contains:(0,m.QT)(ge),Disjoint:(0,m.QT)(ge),Intersects:(0,m.QT)(ge),ResourceId:(0,m.QT)((function(e,t,r){e.setAttribute("rid",t.rid)})),Within:(0,m.QT)(ge),DWithin:(0,m.QT)(me),PropertyIsEqualTo:(0,m.QT)(de),PropertyIsNotEqualTo:(0,m.QT)(de),PropertyIsLessThan:(0,m.QT)(de),PropertyIsLessThanOrEqualTo:(0,m.QT)(de),PropertyIsGreaterThan:(0,m.QT)(de),PropertyIsGreaterThanOrEqualTo:(0,m.QT)(de),PropertyIsNull:(0,m.QT)(Se),PropertyIsBetween:(0,m.QT)(Ee),PropertyIsLike:(0,m.QT)(Re)}};function ue(e,t,r){const o=r[r.length-1],n=o.version,s=o.featurePrefix,i=o.featureNS,a=o.propertyNames,p=o.srsName;let u,l;u=s?oe(s,t):t,l="2.0.0"===n?"typeNames":"typeName",e.setAttribute(l,u),p&&e.setAttribute("srsName",p),i&&e.setAttributeNS(H,"xmlns:"+s,i);const c=Object.assign({},o);c.node=e,(0,m.AH)(c,Z,(0,m.ET)("PropertyName"),a,r);const g=o.filter;if(g){const t=(0,m.GS)(ve(n),"Filter");e.appendChild(t),le(t,g,r)}}function le(e,t,r){const o=r[r.length-1],n={node:e};Object.assign(n,{context:o}),(0,m.AH)(n,pe,(0,m.ET)(t.getTagName()),[t],r)}function ce(e,t,r){const o=r[r.length-1],n=o.context.version;o.srsName=t.srsName;const s=z[n];Pe(n,e,t.geometryName),s.prototype.writeGeometryElement(e,t.extent,r)}function ge(e,t,r){const o=r[r.length-1],n=o.context.version;o.srsName=t.srsName;const s=z[n];Pe(n,e,t.geometryName),s.prototype.writeGeometryElement(e,t.geometry,r)}function me(e,t,r){const o=r[r.length-1].context.version;ge(e,t,r);const n=(0,m.GS)(ve(o),"Distance");(0,d.sH)(n,t.distance.toString()),"2.0.0"===o?n.setAttribute("uom",t.unit):n.setAttribute("units",t.unit),e.appendChild(n)}function he(e,t,r){const o=r[r.length-1].context.version;fe(j[o],"ValueReference",e,t.propertyName);const n=(0,m.GS)(p.y,"TimePeriod");e.appendChild(n);const s=(0,m.GS)(p.y,"begin");n.appendChild(s),Ne(s,t.begin);const i=(0,m.GS)(p.y,"end");n.appendChild(i),Ne(i,t.end)}function ye(e,t,r){const o=r[r.length-1].context,n={node:e};Object.assign(n,{context:o});const s=t.conditions;for(let e=0,t=s.length;e<t;++e){const t=s[e];(0,m.AH)(n,pe,(0,m.ET)(t.getTagName()),[t],r)}}function we(e,t,r){const o=r[r.length-1].context,n={node:e};Object.assign(n,{context:o});const s=t.condition;(0,m.AH)(n,pe,(0,m.ET)(s.getTagName()),[s],r)}function de(e,t,r){const o=r[r.length-1].context.version;void 0!==t.matchCase&&e.setAttribute("matchCase",t.matchCase.toString()),Pe(o,e,t.propertyName),Te(o,e,""+t.expression)}function Se(e,t,r){Pe(r[r.length-1].context.version,e,t.propertyName)}function Ee(e,t,r){const o=r[r.length-1].context.version,n=ve(o);Pe(o,e,t.propertyName);const s=(0,m.GS)(n,"LowerBoundary");e.appendChild(s),Te(o,s,""+t.lowerBoundary);const i=(0,m.GS)(n,"UpperBoundary");e.appendChild(i),Te(o,i,""+t.upperBoundary)}function Re(e,t,r){const o=r[r.length-1].context.version;e.setAttribute("wildCard",t.wildCard),e.setAttribute("singleChar",t.singleChar),e.setAttribute("escapeChar",t.escapeChar),void 0!==t.matchCase&&e.setAttribute("matchCase",t.matchCase.toString()),Pe(o,e,t.propertyName),Te(o,e,""+t.pattern)}function fe(e,t,r,o){const n=(0,m.GS)(e,t);(0,d.sH)(n,o),r.appendChild(n)}function Te(e,t,r){fe(ve(e),"Literal",t,r)}function Pe(e,t,r){"2.0.0"===e?fe(j[e],"ValueReference",t,r):fe(Y[e],"PropertyName",t,r)}function Ne(e,t){const r=(0,m.GS)(p.y,"TimeInstant");e.appendChild(r);const o=(0,m.GS)(p.y,"timePosition");r.appendChild(o),(0,d.sH)(o,t)}function Me(e,t,r){const o=r[r.length-1],n=Object.assign({},o);n.node=e,(0,m.AH)(n,pe,(0,m.ET)("Query"),t,r)}function ve(e){let t;return t="2.0.0"===e?j[e]:Y[e],t}var Ae=q,Ce=r(37080),be=r(65732),_e=r(51144),Le=r(2064),Ie=r(80372);const Oe=new n.c,Qe=new Le.c({source:Oe,style:new be.cp({stroke:new _e.c({color:"rgba(0, 0, 255, 1.0)",width:2})})}),Fe=new Ie.c({source:new i.c({attributions:'<a href="https://www.maptiler.com/copyright/" target="_blank">&copy; MapTiler</a> <a href="https://www.openstreetmap.org/copyright" target="_blank">&copy; OpenStreetMap contributors</a>',url:"https://api.maptiler.com/tiles/satellite/{z}/{x}/{y}.jpg?key=get_your_own_D6rA4zTHduk6KOKTXzGB",maxZoom:20})}),Ge=new o.c({layers:[Fe,Qe],target:document.getElementById("map"),view:new s.cp({center:[-8908887.277395891,5381918.072437216],maxZoom:19,zoom:12})}),xe=(new Ae).writeGetFeature({srsName:"EPSG:3857",featureNS:"http://openstreemap.org",featurePrefix:"osm",featureTypes:["water_areas"],outputFormat:"application/json",filter:F((Ue="name",Ze="Mississippi*",new Q(Ue,Ze,De,Be,He,Ye)),function(e,t,r){return new O(e,t,r)}("waterway","riverbank"))});var Ue,Ze,De,Be,He,Ye;fetch("https://ahocevar.com/geoserver/wfs",{method:"POST",body:(new XMLSerializer).serializeToString(xe)}).then((function(e){return e.json()})).then((function(e){const t=(new Ce.c).readFeatures(e);Oe.addFeatures(t),Ge.getView().fit(Oe.getExtent())}))}},function(e){var t;t=88632,e(e.s=t)}]);
//# sourceMappingURL=vector-wfs-getfeature.js.map